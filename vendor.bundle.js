/*! For license information please see vendor.bundle.js.LICENSE.txt */
(self.webpackChunktetfu_sp=self.webpackChunktetfu_sp||[]).push([[736],{4361:(t,e,n)=>{"use strict";n.r(e),n.d(e,{a:()=>a,abbr:()=>o,address:()=>s,area:()=>l,article:()=>h,aside:()=>u,audio:()=>c,b:()=>d,bdi:()=>f,bdo:()=>p,blockquote:()=>g,br:()=>v,button:()=>m,canvas:()=>y,caption:()=>_,cite:()=>b,code:()=>w,col:()=>k,colgroup:()=>x,data:()=>C,datalist:()=>S,dd:()=>E,del:()=>M,details:()=>T,dfn:()=>O,dialog:()=>L,div:()=>A,dl:()=>P,dt:()=>D,em:()=>R,embed:()=>I,fieldset:()=>B,figcaption:()=>$,figure:()=>j,footer:()=>F,form:()=>W,h1:()=>N,h2:()=>H,h3:()=>G,h4:()=>z,h5:()=>q,h6:()=>Y,header:()=>X,hr:()=>V,i:()=>U,iframe:()=>K,img:()=>Q,input:()=>J,ins:()=>Z,kbd:()=>tt,label:()=>et,legend:()=>nt,li:()=>it,main:()=>rt,map:()=>at,mark:()=>ot,menu:()=>st,menuitem:()=>lt,meter:()=>ht,nav:()=>ut,object:()=>ct,ol:()=>dt,optgroup:()=>ft,option:()=>pt,output:()=>gt,p:()=>vt,param:()=>mt,pre:()=>yt,progress:()=>_t,q:()=>bt,rp:()=>wt,rt:()=>kt,rtc:()=>xt,ruby:()=>Ct,s:()=>St,samp:()=>Et,section:()=>Mt,select:()=>Tt,small:()=>Ot,source:()=>Lt,span:()=>At,strong:()=>Pt,sub:()=>Dt,summary:()=>Rt,sup:()=>It,svg:()=>Bt,table:()=>$t,tbody:()=>jt,td:()=>Ft,textarea:()=>Wt,tfoot:()=>Nt,th:()=>Ht,thead:()=>Gt,time:()=>zt,tr:()=>qt,track:()=>Yt,u:()=>Xt,ul:()=>Vt,video:()=>Ut,wbr:()=>Kt});var i=n(6540);function r(t){return function(e,n){return"object"!=typeof e||Array.isArray(e)?(0,i.h)(t,{},e):(0,i.h)(t,e,n)}}function a(t,e){return r("a")(t,e)}function o(t,e){return r("abbr")(t,e)}function s(t,e){return r("address")(t,e)}function l(t,e){return r("area")(t,e)}function h(t,e){return r("article")(t,e)}function u(t,e){return r("aside")(t,e)}function c(t,e){return r("audio")(t,e)}function d(t,e){return r("b")(t,e)}function f(t,e){return r("bdi")(t,e)}function p(t,e){return r("bdo")(t,e)}function g(t,e){return r("blockquote")(t,e)}function v(t,e){return r("br")(t,e)}function m(t,e){return r("button")(t,e)}function y(t,e){return r("canvas")(t,e)}function _(t,e){return r("caption")(t,e)}function b(t,e){return r("cite")(t,e)}function w(t,e){return r("code")(t,e)}function k(t,e){return r("col")(t,e)}function x(t,e){return r("colgroup")(t,e)}function C(t,e){return r("data")(t,e)}function S(t,e){return r("datalist")(t,e)}function E(t,e){return r("dd")(t,e)}function M(t,e){return r("del")(t,e)}function T(t,e){return r("details")(t,e)}function O(t,e){return r("dfn")(t,e)}function L(t,e){return r("dialog")(t,e)}function A(t,e){return r("div")(t,e)}function P(t,e){return r("dl")(t,e)}function D(t,e){return r("dt")(t,e)}function R(t,e){return r("em")(t,e)}function I(t,e){return r("embed")(t,e)}function B(t,e){return r("fieldset")(t,e)}function $(t,e){return r("figcaption")(t,e)}function j(t,e){return r("figure")(t,e)}function F(t,e){return r("footer")(t,e)}function W(t,e){return r("form")(t,e)}function N(t,e){return r("h1")(t,e)}function H(t,e){return r("h2")(t,e)}function G(t,e){return r("h3")(t,e)}function z(t,e){return r("h4")(t,e)}function q(t,e){return r("h5")(t,e)}function Y(t,e){return r("h6")(t,e)}function X(t,e){return r("header")(t,e)}function V(t,e){return r("hr")(t,e)}function U(t,e){return r("i")(t,e)}function K(t,e){return r("iframe")(t,e)}function Q(t,e){return r("img")(t,e)}function J(t,e){return r("input")(t,e)}function Z(t,e){return r("ins")(t,e)}function tt(t,e){return r("kbd")(t,e)}function et(t,e){return r("label")(t,e)}function nt(t,e){return r("legend")(t,e)}function it(t,e){return r("li")(t,e)}function rt(t,e){return r("main")(t,e)}function at(t,e){return r("map")(t,e)}function ot(t,e){return r("mark")(t,e)}function st(t,e){return r("menu")(t,e)}function lt(t,e){return r("menuitem")(t,e)}function ht(t,e){return r("meter")(t,e)}function ut(t,e){return r("nav")(t,e)}function ct(t,e){return r("object")(t,e)}function dt(t,e){return r("ol")(t,e)}function ft(t,e){return r("optgroup")(t,e)}function pt(t,e){return r("option")(t,e)}function gt(t,e){return r("output")(t,e)}function vt(t,e){return r("p")(t,e)}function mt(t,e){return r("param")(t,e)}function yt(t,e){return r("pre")(t,e)}function _t(t,e){return r("progress")(t,e)}function bt(t,e){return r("q")(t,e)}function wt(t,e){return r("rp")(t,e)}function kt(t,e){return r("rt")(t,e)}function xt(t,e){return r("rtc")(t,e)}function Ct(t,e){return r("ruby")(t,e)}function St(t,e){return r("s")(t,e)}function Et(t,e){return r("samp")(t,e)}function Mt(t,e){return r("section")(t,e)}function Tt(t,e){return r("select")(t,e)}function Ot(t,e){return r("small")(t,e)}function Lt(t,e){return r("source")(t,e)}function At(t,e){return r("span")(t,e)}function Pt(t,e){return r("strong")(t,e)}function Dt(t,e){return r("sub")(t,e)}function Rt(t,e){return r("summary")(t,e)}function It(t,e){return r("sup")(t,e)}function Bt(t,e){return r("svg")(t,e)}function $t(t,e){return r("table")(t,e)}function jt(t,e){return r("tbody")(t,e)}function Ft(t,e){return r("td")(t,e)}function Wt(t,e){return r("textarea")(t,e)}function Nt(t,e){return r("tfoot")(t,e)}function Ht(t,e){return r("th")(t,e)}function Gt(t,e){return r("thead")(t,e)}function zt(t,e){return r("time")(t,e)}function qt(t,e){return r("tr")(t,e)}function Yt(t,e){return r("track")(t,e)}function Xt(t,e){return r("u")(t,e)}function Vt(t,e){return r("ul")(t,e)}function Ut(t,e){return r("video")(t,e)}function Kt(t,e){return r("wbr")(t,e)}},1639:(t,e,n)=>{"use strict";function i(t,e,n){console.group("%c action","color: gray; font-weight: lighter;",e.name),console.log("%c prev state","color: #9E9E9E; font-weight: bold;",t),console.log("%c data","color: #03A9F4; font-weight: bold;",e.data),console.log("%c next state","color: #4CAF50; font-weight: bold;",n),console.groupEnd()}n.r(e),n.d(e,{withLogger:()=>o});var r=function(t){return"function"==typeof t};function a(t,e){return function(n,i,r,a){var o=function e(n,i){var r=i?i+".":"";return Object.keys(n||{}).reduce((function(i,a){var o=r+a,s=n[a];return i[a]="function"==typeof s?function(e){return function(n,i){var r=s(e);return r="function"==typeof r?r(n,i):r,t(n,{name:o,data:e},r),r}}:e(s,o),i}),{})}(i);return e(n,o,r,a)}}function o(t){if(r(t))return a(i,t);var e=r(t.log)?t.log:i;return function(t){return a(e,t)}}},6540:(t,e,n)=>{"use strict";function i(t,e){for(var n=[],i=[],r=arguments.length;r-- >2;)n.push(arguments[r]);for(;n.length;){var a=n.pop();if(a&&a.pop)for(r=a.length;r--;)n.push(a[r]);else null!=a&&!0!==a&&!1!==a&&i.push(a)}return"function"==typeof t?t(e||{},i):{nodeName:t,attributes:e||{},children:i,key:e&&e.key}}function r(t,e,n,i){var r,a=[].map,o=i&&i.children[0]||null,s=o&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:a.call(e.childNodes,(function(e){return 3===e.nodeType?e.nodeValue:t(e)}))}}(o),l=[],h=!0,u=g(t),c=function t(e,n,i){for(var r in i)"function"==typeof i[r]?function(t,r){i[t]=function(t){var a=r(t);return"function"==typeof a&&(a=a(m(e,u),i)),a&&a!==(n=m(e,u))&&!a.then&&p(u=v(e,g(n,a),u)),a}}(r,i[r]):t(e.concat(r),n[r]=g(n[r]),i[r]=g(i[r]));return i}([],u,g(e));return p(),c;function d(t){return"function"==typeof t?d(t(u,c)):null!=t?t:""}function f(){r=!r;var t=d(n);for(i&&!r&&(o=C(i,o,s,s=t)),h=!1;l.length;)l.pop()()}function p(){r||(r=!0,setTimeout(f))}function g(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function v(t,e,n){var i={};return t.length?(i[t[0]]=t.length>1?v(t.slice(1),e,n[t[0]]):e,g(n,i)):e}function m(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function y(t){return t?t.key:null}function _(t){return t.currentTarget.events[t.type](t)}function b(t,e,n,i,r){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var a in"string"==typeof i&&(i=t.style.cssText=""),g(i,n)){var o=null==n||null==n[a]?"":n[a];"-"===a[0]?t.style.setProperty(a,o):t.style[a]=o}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?i||(i=t.events[e]):t.events={},t.events[e]=n,n?i||t.addEventListener(e,_):t.removeEventListener(e,_)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!r?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function w(t,e){var n="string"==typeof t||"number"==typeof t?document.createTextNode(t):(e=e||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),i=t.attributes;if(i){i.oncreate&&l.push((function(){i.oncreate(n)}));for(var r=0;r<t.children.length;r++)n.appendChild(w(t.children[r]=d(t.children[r]),e));for(var a in i)b(n,a,i[a],null,e)}return n}function k(t,e){var n=e.attributes;if(n){for(var i=0;i<e.children.length;i++)k(t.childNodes[i],e.children[i]);n.ondestroy&&n.ondestroy(t)}return t}function x(t,e,n){function i(){t.removeChild(k(e,n))}var r=n.attributes&&n.attributes.onremove;r?r(e,i):i()}function C(t,e,n,i,r){if(i===n);else if(null==n||n.nodeName!==i.nodeName){var a=w(i,r);t.insertBefore(a,e),null!=n&&x(t,e,n),e=a}else if(null==n.nodeName)e.nodeValue=i;else{!function(t,e,n,i){for(var r in g(e,n))n[r]!==("value"===r||"checked"===r?t[r]:e[r])&&b(t,r,n[r],e[r],i);var a=h?n.oncreate:n.onupdate;a&&l.push((function(){a(t,e)}))}(e,n.attributes,i.attributes,r=r||"svg"===i.nodeName);for(var o={},s={},u=[],c=n.children,f=i.children,p=0;p<c.length;p++)u[p]=e.childNodes[p],null!=(m=y(c[p]))&&(o[m]=[u[p],c[p]]);p=0;for(var v=0;v<f.length;){var m=y(c[p]),_=y(f[v]=d(f[v]));if(s[m])p++;else if(null==_||_!==y(c[p+1]))if(null==_||h)null==m&&(C(e,u[p],c[p],f[v],r),v++),p++;else{var k=o[_]||[];m===_?(C(e,k[0],k[1],f[v],r),p++):k[0]?C(e,e.insertBefore(k[0],u[p]),k[1],f[v],r):C(e,u[p],null,f[v],r),s[_]=f[v],v++}else null==m&&x(e,u[p],c[p]),p++}for(;p<c.length;)null==y(c[p])&&x(e,u[p],c[p]),p++;for(var p in o)s[p]||x(e,o[p][0],o[p][1])}return e}}n.r(e),n.d(e,{h:()=>i,app:()=>r})},886:(t,e,n)=>{"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e),n.d(e,{default:()=>C});var a=[],o=a.forEach,s=a.slice;function l(t){return o.call(s.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}var h=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,u=function(t,e,n){var i=n||{};i.path=i.path||"/";var r=t+"="+encodeURIComponent(e);if(i.maxAge>0){var a=i.maxAge-0;if(isNaN(a))throw new Error("maxAge should be a Number");r+="; Max-Age="+Math.floor(a)}if(i.domain){if(!h.test(i.domain))throw new TypeError("option domain is invalid");r+="; Domain="+i.domain}if(i.path){if(!h.test(i.path))throw new TypeError("option path is invalid");r+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(r+="; HttpOnly"),i.secure&&(r+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r},c={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var n=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return null}(t.lookupCookie);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=u(t,encodeURIComponent(e),r)}(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},d={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("=");r>0&&n[i].substring(0,r)===t.lookupQuerystring&&(e=n[i].substring(r+1))}return e}},f=null,p=function(){if(null!==f)return f;try{f="undefined"!==window&&null!==window.localStorage;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){f=!1}return f},g={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&p()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&p()&&window.localStorage.setItem(e.lookupLocalStorage,t)}},v=null,m=function(){if(null!==v)return v;try{v="undefined"!==window&&null!==window.sessionStorage;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){v=!1}return v},y={name:"sessionStorage",lookup:function(t){var e;if(t.lookupSessionStorage&&m()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupSessionStorage&&m()&&window.sessionStorage.setItem(e.lookupSessionStorage,t)}},_={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)e.push(navigator.languages[n]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},b={name:"htmlTag",lookup:function(t){var e,n=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(e=n.getAttribute("lang")),e}},w={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof n[t.lookupFromPathIndex])return;e=n[t.lookupFromPathIndex].replace("/","")}else e=n[0].replace("/","")}return e}},k={name:"subdomain",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(e="number"==typeof t.lookupFromSubdomainIndex?n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return e}},x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}var e,n;return e=t,(n=[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=l(e,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(c),this.addDetector(d),this.addDetector(g),this.addDetector(y),this.addDetector(_),this.addDetector(b),this.addDetector(w),this.addDetector(k)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var n=[];return t.forEach((function(t){if(e.detectors[t]){var i=e.detectors[t].lookup(e.options);i&&"string"==typeof i&&(i=[i]),i&&(n=n.concat(i))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var n=this;e||(e=this.options.caches),e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach((function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})))}}])&&r(e.prototype,n),t}();x.type="languageDetector";const C=x},1224:(t,e,n)=>{"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?h(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}n.r(e),n.d(e,{default:()=>q});var p={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},g=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.init(e,n)}return l(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||p,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,a({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),v=function(){function t(){o(this,t),this.observers={}}return l(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.observers[t]){var r=[].concat(this.observers[t]);r.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function m(){var t,e,n=new Promise((function(n,i){t=n,e=i}));return n.resolve=t,n.reject=e,n}function y(t){return null==t?"":""+t}function _(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function b(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var a="string"!=typeof e?[].concat(e):e.split(".");a.length>1;){if(r())return{};var o=i(a.shift());!t[o]&&n&&(t[o]=new n),t=Object.prototype.hasOwnProperty.call(t,o)?t[o]:{}}return r()?{}:{obj:t,k:i(a.shift())}}function w(t,e,n){var i=b(t,e,Object);i.obj[i.k]=n}function k(t,e){var n=b(t,e),i=n.obj,r=n.k;if(i)return i[r]}function x(t,e,n){var i=k(t,n);return void 0!==i?i:k(e,n)}function C(t,e,n){for(var i in e)"__proto__"!==i&&"constructor"!==i&&(i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof e[i]||e[i]instanceof String?n&&(t[i]=e[i]):C(t[i],e[i],n):t[i]=e[i]);return t}function S(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function M(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return E[t]})):t}var T="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var i=e.split(n),r=t,a=0;a<i.length;++a){if("string"==typeof r[i[a]]&&a+1<i.length)return;if(void 0===r[i[a]]){for(var o=2,s=i.slice(a,a+o).join(n),l=r[s];void 0===l&&i.length>a+o;)o++,l=r[s=i.slice(a,a+o).join(n)];if(void 0===l)return;if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s];var h=i.slice(a+o).join(n);return h?O(l,h,n):void 0}r=r[i[a]]}return r}}var L=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return o(this,e),n=u(this,c(e).call(this)),T&&v.call(h(n)),n.data=t||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return f(e,t),l(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[t,e];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(o=t.split("."));var s=k(this.data,o);return s||!a||"string"!=typeof n?s:O(this.data&&this.data[t]&&this.data[t][e],n,r)}},{key:"addResource",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[t,e];n&&(o=o.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(i=e,e=(o=t.split("."))[1]),this.addNamespaces(e),w(this.data,o,i),r.silent||this.emit("added",t,e,n,i)}},{key:"addResources",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(i=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var l=k(this.data,s)||{};i?C(l,n,r):l=a({},l,n),w(this.data,s,l),o.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?a({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(v),A={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var a=this;return t.forEach((function(t){a.processors[t]&&(e=a.processors[t].process(e,n,i,r))})),e}},P={},D=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),n=u(this,c(e).call(this)),T&&v.call(h(n)),_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,h(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=g.create("translator"),n}return f(e,t),l(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:r};var o=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),t=o.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}},{key:"translate",value:function(t,n,r){var o=this;if("object"!==i(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,l=this.extractFromKey(t[t.length-1],n),h=l.key,u=l.namespaces,c=u[u.length-1],d=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(f){var p=n.nsSeparator||this.options.nsSeparator;return c+p+h}return h}var g=this.resolve(t,n),v=g&&g.res,m=g&&g.usedKey||h,y=g&&g.exactUsedKey||h,_=Object.prototype.toString.apply(v),b=["[object Number]","[object Function]","[object RegExp]"],w=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,x="string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v;if(k&&v&&x&&b.indexOf(_)<0&&("string"!=typeof w||"[object Array]"!==_)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,a({},n,{ns:u})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");if(s){var C="[object Array]"===_,S=C?[]:{},E=C?y:m;for(var M in v)if(Object.prototype.hasOwnProperty.call(v,M)){var T="".concat(E).concat(s).concat(M);S[M]=this.translate(T,a({},n,{joinArrays:!1,ns:u})),S[M]===T&&(S[M]=v[M])}v=S}}else if(k&&"string"==typeof w&&"[object Array]"===_)(v=v.join(w))&&(v=this.extendTranslation(v,t,n,r));else{var O=!1,L=!1,A=void 0!==n.count&&"string"!=typeof n.count,P=e.hasDefaultValue(n),D=A?this.pluralResolver.getSuffix(d,n.count):"",R=n["defaultValue".concat(D)]||n.defaultValue;!this.isValidLookup(v)&&P&&(O=!0,v=R),this.isValidLookup(v)||(L=!0,v=h);var I=P&&R!==v&&this.options.updateMissing;if(L||O||I){if(this.logger.log(I?"updateKey":"missingKey",d,c,h,I?R:v),s){var B=this.resolve(h,a({},n,{keySeparator:!1}));B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var $=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var F=0;F<j.length;F++)$.push(j[F]);else"all"===this.options.saveMissingTo?$=this.languageUtils.toResolveHierarchy(n.lng||this.language):$.push(n.lng||this.language);var W=function(t,e,i){o.options.missingKeyHandler?o.options.missingKeyHandler(t,c,e,I?i:v,I,n):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(t,c,e,I?i:v,I,n),o.emit("missingKey",t,c,e,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?$.forEach((function(t){o.pluralResolver.getSuffixes(t).forEach((function(e){W([t],h+e,n["defaultValue".concat(e)]||R)}))})):W($,h,R))}v=this.extendTranslation(v,t,n,g,r),L&&v===h&&this.options.appendNamespaceToMissingKey&&(v="".concat(c,":").concat(h)),(L||O)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(t,e,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(a({},n,{interpolation:a({},this.options.interpolation,n.interpolation)}));var s,l=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(l){var h=t.match(this.interpolator.nestingRegexp);s=h&&h.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=a({},this.options.interpolation.defaultVariables,u)),t=this.interpolator.interpolate(t,u,n.lng||this.language,n),l){var c=t.match(this.interpolator.nestingRegexp);s<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(e[0])),null):o.translate.apply(o,i.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"==typeof d?[d]:d;return null!=t&&f&&f.length&&!1!==n.applyPostProcessor&&(t=A.handle(f,t,e,this.options&&this.options.postProcessPassResolved?a({i18nResolved:i},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,i,r,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!o.isValidLookup(e)){var l=o.extractFromKey(t,s),h=l.key;n=h;var u=l.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var c=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);u.forEach((function(t){o.isValidLookup(e)||(a=t,!P["".concat(f[0],"-").concat(t)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(P["".concat(f[0],"-").concat(t)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!o.isValidLookup(e)){r=n;var a,l,u=h,f=[u];for(o.i18nFormat&&o.i18nFormat.addLookupKeys?o.i18nFormat.addLookupKeys(f,h,n,t,s):(c&&(a=o.pluralResolver.getSuffix(n,s.count)),c&&d&&f.push(u+a),d&&f.push(u+="".concat(o.options.contextSeparator).concat(s.context)),c&&f.push(u+=a));l=f.pop();)o.isValidLookup(e)||(i=l,e=o.getResource(n,t,l,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:a}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}]),e}(v);function R(t){return t.charAt(0).toUpperCase()+t.slice(1)}var I=function(){function t(e){o(this,t),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=g.create("languageUtils")}return l(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=R(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=R(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=R(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var i=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(i)||(e=i)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var i=n.getLanguagePartFromCode(t);if(n.isSupportedCode(i))return e=i;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(i))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],a=function(t){t&&(n.isSupportedCode(t)?r.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(t))):"string"==typeof t&&a(this.formatLanguageCode(t)),i.forEach((function(t){r.indexOf(t)<0&&a(n.formatLanguageCode(t))})),r}}]),t}(),B=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};function j(){var t={};return B.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:$[e.fc]}}))})),t}var F=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.languageUtils=e,this.options=n,this.logger=g.create("pluralResolver"),this.rules=j()}return l(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){return this.getSuffixes(t).map((function(t){return e+t}))}},{key:"getSuffixes",value:function(t){var e=this,n=this.getRule(t);return n?n.numbers.map((function(n){return e.getSuffix(t,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=this,i=this.getRule(t);if(i){var r=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),a=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),W=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.logger=g.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return l(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:M,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?S(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?S(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?S(e.nestingPrefix):e.nestingPrefixEscaped||S("$t("),this.nestingSuffix=e.nestingSuffix?S(e.nestingSuffix):e.nestingSuffixEscaped||S(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,i){var r,o,s,l=this,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(l.formatSeparator)<0){var r=x(e,h,t);return l.alwaysFormat?l.format(r,void 0,n,a({},i,e,{interpolationkey:t})):r}var o=t.split(l.formatSeparator),s=o.shift().trim(),u=o.join(l.formatSeparator).trim();return l.format(x(e,h,s),u,n,a({},i,e,{interpolationkey:s}))};this.resetRegExp();var d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return u(t)}},{regex:this.regexp,safeValue:function(t){return l.escapeValue?u(l.escape(t)):u(t)}}].forEach((function(e){for(s=0;r=e.regex.exec(t);){if(void 0===(o=c(r[1].trim())))if("function"==typeof d){var n=d(t,r,i);o="string"==typeof n?n:""}else{if(f){o=r[0];continue}l.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(t)),o=""}else"string"==typeof o||l.useRawValueToEscape||(o=y(o));var a=e.safeValue(o);if(t=t.replace(r[0],a),f?(e.regex.lastIndex+=a.length,e.regex.lastIndex-=r[0].length):e.regex.lastIndex=0,++s>=l.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a({},o);function l(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var i=t.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);t=i[0],r=(r=this.interpolate(r,s)).replace(/'/g,'"');try{s=JSON.parse(r),e&&(s=a({},e,s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(r)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(t);){var h=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=c.shift(),h=c,u=!0}if((i=e(l.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=y(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),i=""),u&&(i=h.reduce((function(t,e){return r.format(t,e,o.lng,a({},o,{interpolationkey:n[1].trim()}))}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}]),t}(),N=function(t){function e(t,n,i){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,e),r=u(this,c(e).call(this)),T&&v.call(h(r)),r.backend=t,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=a,r.logger=g.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,a.backend,a),r}return f(e,t),l(e,[{key:"queueLoad",value:function(t,e,n,i){var r=this,a=[],o=[],s=[],l=[];return t.forEach((function(t){var i=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&r.store.hasResourceBundle(t,e)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?o.indexOf(s)<0&&o.push(s):(r.state[s]=1,i=!1,o.indexOf(s)<0&&o.push(s),a.indexOf(s)<0&&a.push(s),l.indexOf(e)<0&&l.push(e)))})),i||s.push(t)})),(a.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:a,pending:o,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(t,e,n){var i=t.split("|"),r=i[0],a=i[1];e&&this.emit("failedLoading",r,a,e),n&&this.store.addResourceBundle(r,a,n),this.state[t]=e?-1:2;var o={};this.queue.forEach((function(n){var i,s,l,h,u;i=n.loaded,s=a,(h=(l=b(i,[r],Object)).obj)[u=l.k]=h[u]||[],h[u].push(s),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){o[t]||(o[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){o[t].indexOf(e)<0&&o[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(s,l){s&&l&&r<5?setTimeout((function(){i.read.call(i,t,e,n,r+1,2*a,o)}),a):o(s,l)})):o(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var a=this.queueLoad(t,e,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(function(i,o){i&&e.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(r," failed"),i),!i&&o&&e.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(r),o),e.loaded(t,i,o)}))}},{key:"saveMissing",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,i,null,a({},o,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,i))}}]),e}(v);function H(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===i(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===i(t[2])||"object"===i(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function G(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function z(){}const q=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(o(this,e),t=u(this,c(e).call(this)),T&&v.call(h(t)),t.options=G(n),t.services={},t.logger=g,t.modules={external:[]},i&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,i),u(t,h(t));setTimeout((function(){t.init(n,i)}),0)}return t}return f(e,t),l(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),e.whitelist&&!e.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),e.nonExplicitWhitelist&&!e.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=a({},H(),this.options,G(e)),this.format=this.options.interpolation.format,n||(n=z),!this.options.isClone){this.modules.logger?g.init(i(this.modules.logger),this.options):g.init(null,this.options);var r=new I(this.options);this.store=new L(this.options.resources,this.options);var o=this.services;o.logger=g,o.resourceStore=this.store,o.languageUtils=r,o.pluralResolver=new F(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new W(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new N(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new D(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.length>0&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var h=["addResource","addResources","addResourceBundle","removeResourceBundle"];h.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var u=m(),c=function(){var e=function(e,i){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),u.resolve(i),n(e,i)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,i=n,r="string"==typeof t?t:this.language;if("function"==typeof t&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return i();var a=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){a.indexOf(t)<0&&a.push(t)}))};if(r)o(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(t){return o(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return o(t)})),this.services.backendConnector.load(a,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(t,e,n){var i=m();return t||(t=this.languages),e||(e=this.options.ns),n||(n=z),this.services.backendConnector.reload(t,e,(function(t){i.resolve(),n(t)})),i}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&A.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var i=m();this.emit("languageChanging",t);var r=function(r){t||r||!n.services.languageDetector||(r=[]);var a="string"==typeof r?r:n.services.languageUtils.getBestMatchFromCodes(r);a&&(n.language||(n.language=a,n.languages=n.services.languageUtils.toResolveHierarchy(a)),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(t){!function(t,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,a)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(t,e){var n=this,r=function t(e,r){var o;if("object"!==i(r)){for(var s=arguments.length,l=new Array(s>2?s-2:0),h=2;h<s;h++)l[h-2]=arguments[h];o=n.options.overloadTranslationOptionHandler([e,r].concat(l))}else o=a({},r);return o.lng=o.lng||t.lng,o.lngs=o.lngs||t.lngs,o.ns=o.ns||t.ns,n.t(e,o)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(t,n){var i=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||!(!o(i,t)||r&&!o(a,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,i=m();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=m();"string"==typeof t&&(t=[t]);var i=this.options.preload||[],r=t.filter((function(t){return i.indexOf(t)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new e(t,n)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,r=a({},this.options,n,{isClone:!0}),o=new e(r),s=["store","services","language"];return s.forEach((function(e){o[e]=t[e]})),o.services=a({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new D(o.services,o.options),o.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.emit.apply(o,[t].concat(n))})),o.init(r,i),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),e}(v))},6486:function(t,e,n){var i;t=n.nmd(t),function(){var r,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=32,h=128,u=1/0,c=9007199254740991,d=NaN,f=4294967295,p=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",y="[object Date]",_="[object Error]",b="[object Function]",w="[object GeneratorFunction]",k="[object Map]",x="[object Number]",C="[object Object]",S="[object Promise]",E="[object RegExp]",M="[object Set]",T="[object String]",O="[object Symbol]",L="[object WeakMap]",A="[object ArrayBuffer]",P="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",I="[object Int8Array]",B="[object Int16Array]",$="[object Int32Array]",j="[object Uint8Array]",F="[object Uint8ClampedArray]",W="[object Uint16Array]",N="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(q.source),V=RegExp(Y.source),U=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),it=/^\s+/,rt=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",St="["+Ct+"]",Et="["+wt+"]",Mt="\\d+",Tt="["+kt+"]",Ot="[^\\ud800-\\udfff"+Ct+Mt+"\\u2700-\\u27bf"+kt+xt+"]",Lt="\\ud83c[\\udffb-\\udfff]",At="[^\\ud800-\\udfff]",Pt="(?:\\ud83c[\\udde6-\\uddff]){2}",Dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt="["+xt+"]",It="(?:"+Tt+"|"+Ot+")",Bt="(?:"+Rt+"|"+Ot+")",$t="(?:['’](?:d|ll|m|re|s|t|ve))?",jt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ft="(?:"+Et+"|"+Lt+")?",Wt="[\\ufe0e\\ufe0f]?",Nt=Wt+Ft+"(?:\\u200d(?:"+[At,Pt,Dt].join("|")+")"+Wt+Ft+")*",Ht="(?:"+["[\\u2700-\\u27bf]",Pt,Dt].join("|")+")"+Nt,Gt="(?:"+[At+Et+"?",Et,Pt,Dt,"[\\ud800-\\udfff]"].join("|")+")",zt=RegExp("['’]","g"),qt=RegExp(Et,"g"),Yt=RegExp(Lt+"(?="+Lt+")|"+Gt+Nt,"g"),Xt=RegExp([Rt+"?"+Tt+"+"+$t+"(?="+[St,Rt,"$"].join("|")+")",Bt+"+"+jt+"(?="+[St,Rt+It,"$"].join("|")+")",Rt+"?"+It+"+"+$t,Rt+"+"+jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Ht].join("|"),"g"),Vt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qt=-1,Jt={};Jt[D]=Jt[R]=Jt[I]=Jt[B]=Jt[$]=Jt[j]=Jt[F]=Jt[W]=Jt[N]=!0,Jt[g]=Jt[v]=Jt[A]=Jt[m]=Jt[P]=Jt[y]=Jt[_]=Jt[b]=Jt[k]=Jt[x]=Jt[C]=Jt[E]=Jt[M]=Jt[T]=Jt[L]=!1;var Zt={};Zt[g]=Zt[v]=Zt[A]=Zt[P]=Zt[m]=Zt[y]=Zt[D]=Zt[R]=Zt[I]=Zt[B]=Zt[$]=Zt[k]=Zt[x]=Zt[C]=Zt[E]=Zt[M]=Zt[T]=Zt[O]=Zt[j]=Zt[F]=Zt[W]=Zt[N]=!0,Zt[_]=Zt[b]=Zt[L]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,ie="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,re="object"==typeof self&&self&&self.Object===Object&&self,ae=ie||re||Function("return this")(),oe=e&&!e.nodeType&&e,se=oe&&t&&!t.nodeType&&t,le=se&&se.exports===oe,he=le&&ie.process,ue=function(){try{return se&&se.require&&se.require("util").types||he&&he.binding&&he.binding("util")}catch(t){}}(),ce=ue&&ue.isArrayBuffer,de=ue&&ue.isDate,fe=ue&&ue.isMap,pe=ue&&ue.isRegExp,ge=ue&&ue.isSet,ve=ue&&ue.isTypedArray;function me(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ye(t,e,n,i){for(var r=-1,a=null==t?0:t.length;++r<a;){var o=t[r];e(i,o,n(o),t)}return i}function _e(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ke(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}function xe(t,e){return!(null==t||!t.length)&&De(t,e,0)>-1}function Ce(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Se(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ee(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Me(t,e,n,i){var r=-1,a=null==t?0:t.length;for(i&&a&&(n=t[++r]);++r<a;)n=e(n,t[r],r,t);return n}function Te(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Le=$e("length");function Ae(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Pe(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function De(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Pe(t,Ie,n)}function Re(t,e,n,i){for(var r=n-1,a=t.length;++r<a;)if(i(t[r],e))return r;return-1}function Ie(t){return t!=t}function Be(t,e){var n=null==t?0:t.length;return n?We(t,e)/n:d}function $e(t){return function(e){return null==e?r:e[t]}}function je(t){return function(e){return null==t?r:t[e]}}function Fe(t,e,n,i,r){return r(t,(function(t,r,a){n=i?(i=!1,t):e(n,t,r,a)})),n}function We(t,e){for(var n,i=-1,a=t.length;++i<a;){var o=e(t[i]);o!==r&&(n=n===r?o:n+o)}return n}function Ne(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function He(t){return t?t.slice(0,sn(t)+1).replace(it,""):t}function Ge(t){return function(e){return t(e)}}function ze(t,e){return Se(e,(function(e){return t[e]}))}function qe(t,e){return t.has(e)}function Ye(t,e){for(var n=-1,i=t.length;++n<i&&De(e,t[n],0)>-1;);return n}function Xe(t,e){for(var n=t.length;n--&&De(e,t[n],0)>-1;);return n}function Ve(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Ue=je({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ke=je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qe(t){return"\\"+te[t]}function Je(t){return Vt.test(t)}function Ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var o=t[n];o!==e&&o!==s||(t[n]=s,a[r++]=n)}return a}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function an(t){return Je(t)?function(t){for(var e=Yt.lastIndex=0;Yt.test(t);)++e;return e}(t):Le(t)}function on(t){return Je(t)?function(t){return t.match(Yt)||[]}(t):function(t){return t.split("")}(t)}function sn(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var ln=je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function t(e){var n,i=(e=null==e?ae:hn.defaults(ae.Object(),e,hn.pick(ae,Kt))).Array,rt=e.Date,wt=e.Error,kt=e.Function,xt=e.Math,Ct=e.Object,St=e.RegExp,Et=e.String,Mt=e.TypeError,Tt=i.prototype,Ot=kt.prototype,Lt=Ct.prototype,At=e["__core-js_shared__"],Pt=Ot.toString,Dt=Lt.hasOwnProperty,Rt=0,It=(n=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=Lt.toString,$t=Pt.call(Ct),jt=ae._,Ft=St("^"+Pt.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=le?e.Buffer:r,Nt=e.Symbol,Ht=e.Uint8Array,Gt=Wt?Wt.allocUnsafe:r,Yt=tn(Ct.getPrototypeOf,Ct),Vt=Ct.create,te=Lt.propertyIsEnumerable,ie=Tt.splice,re=Nt?Nt.isConcatSpreadable:r,oe=Nt?Nt.iterator:r,se=Nt?Nt.toStringTag:r,he=function(){try{var t=ha(Ct,"defineProperty");return t({},"",{}),t}catch(t){}}(),ue=e.clearTimeout!==ae.clearTimeout&&e.clearTimeout,Le=rt&&rt.now!==ae.Date.now&&rt.now,je=e.setTimeout!==ae.setTimeout&&e.setTimeout,un=xt.ceil,cn=xt.floor,dn=Ct.getOwnPropertySymbols,fn=Wt?Wt.isBuffer:r,pn=e.isFinite,gn=Tt.join,vn=tn(Ct.keys,Ct),mn=xt.max,yn=xt.min,_n=rt.now,bn=e.parseInt,wn=xt.random,kn=Tt.reverse,xn=ha(e,"DataView"),Cn=ha(e,"Map"),Sn=ha(e,"Promise"),En=ha(e,"Set"),Mn=ha(e,"WeakMap"),Tn=ha(Ct,"create"),On=Mn&&new Mn,Ln={},An=ja(xn),Pn=ja(Cn),Dn=ja(Sn),Rn=ja(En),In=ja(Mn),Bn=Nt?Nt.prototype:r,$n=Bn?Bn.valueOf:r,jn=Bn?Bn.toString:r;function Fn(t){if(ns(t)&&!qo(t)&&!(t instanceof Gn)){if(t instanceof Hn)return t;if(Dt.call(t,"__wrapped__"))return Fa(t)}return new Hn(t)}var Wn=function(){function t(){}return function(e){if(!es(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Nn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function Vn(t){var e=this.__data__=new qn(t);this.size=e.size}function Un(t,e){var n=qo(t),i=!n&&zo(t),r=!n&&!i&&Uo(t),a=!n&&!i&&!r&&us(t),o=n||i||r||a,s=o?Ne(t.length,Et):[],l=s.length;for(var h in t)!e&&!Dt.call(t,h)||o&&("length"==h||r&&("offset"==h||"parent"==h)||a&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||va(h,l))||s.push(h);return s}function Kn(t){var e=t.length;return e?t[Yi(0,e-1)]:r}function Qn(t,e){return Da(Mr(t),oi(e,0,t.length))}function Jn(t){return Da(Mr(t))}function Zn(t,e,n){(n!==r&&!No(t[e],n)||n===r&&!(e in t))&&ri(t,e,n)}function ti(t,e,n){var i=t[e];Dt.call(t,e)&&No(i,n)&&(n!==r||e in t)||ri(t,e,n)}function ei(t,e){for(var n=t.length;n--;)if(No(t[n][0],e))return n;return-1}function ni(t,e,n,i){return ci(t,(function(t,r,a){e(i,t,n(t),a)})),i}function ii(t,e){return t&&Tr(e,Ps(e),t)}function ri(t,e,n){"__proto__"==e&&he?he(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ai(t,e){for(var n=-1,a=e.length,o=i(a),s=null==t;++n<a;)o[n]=s?r:Ms(t,e[n]);return o}function oi(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function si(t,e,n,i,a,o){var s,l=1&e,h=2&e,u=4&e;if(n&&(s=a?n(t,i,a,o):n(t)),s!==r)return s;if(!es(t))return t;var c=qo(t);if(c){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return Mr(t,s)}else{var d=da(t),f=d==b||d==w;if(Uo(t))return wr(t,l);if(d==C||d==g||f&&!a){if(s=h||f?{}:pa(t),!l)return h?function(t,e){return Tr(t,ca(t),e)}(t,function(t,e){return t&&Tr(e,Ds(e),t)}(s,t)):function(t,e){return Tr(t,ua(t),e)}(t,ii(s,t))}else{if(!Zt[d])return a?t:{};s=function(t,e,n){var i,r=t.constructor;switch(e){case A:return kr(t);case m:case y:return new r(+t);case P:return function(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case R:case I:case B:case $:case j:case F:case W:case N:return xr(t,n);case k:return new r;case x:case T:return new r(t);case E:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case M:return new r;case O:return i=t,$n?Ct($n.call(i)):{}}}(t,d,l)}}o||(o=new Vn);var p=o.get(t);if(p)return p;o.set(t,s),ss(t)?t.forEach((function(i){s.add(si(i,e,n,i,t,o))})):is(t)&&t.forEach((function(i,r){s.set(r,si(i,e,n,r,t,o))}));var v=c?r:(u?h?na:ea:h?Ds:Ps)(t);return _e(v||t,(function(i,r){v&&(i=t[r=i]),ti(s,r,si(i,e,n,r,t,o))})),s}function li(t,e,n){var i=n.length;if(null==t)return!i;for(t=Ct(t);i--;){var a=n[i],o=e[a],s=t[a];if(s===r&&!(a in t)||!o(s))return!1}return!0}function hi(t,e,n){if("function"!=typeof t)throw new Mt(a);return Oa((function(){t.apply(r,n)}),e)}function ui(t,e,n,i){var r=-1,a=xe,o=!0,s=t.length,l=[],h=e.length;if(!s)return l;n&&(e=Se(e,Ge(n))),i?(a=Ce,o=!1):e.length>=200&&(a=qe,o=!1,e=new Xn(e));t:for(;++r<s;){var u=t[r],c=null==n?u:n(u);if(u=i||0!==u?u:0,o&&c==c){for(var d=h;d--;)if(e[d]===c)continue t;l.push(u)}else a(e,c,i)||l.push(u)}return l}Fn.templateSettings={escape:U,evaluate:K,interpolate:Q,variable:"",imports:{_:Fn}},Fn.prototype=Nn.prototype,Fn.prototype.constructor=Fn,Hn.prototype=Wn(Nn.prototype),Hn.prototype.constructor=Hn,Gn.prototype=Wn(Nn.prototype),Gn.prototype.constructor=Gn,zn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zn.prototype.get=function(t){var e=this.__data__;if(Tn){var n=e[t];return n===o?r:n}return Dt.call(e,t)?e[t]:r},zn.prototype.has=function(t){var e=this.__data__;return Tn?e[t]!==r:Dt.call(e,t)},zn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tn&&e===r?o:e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=ei(e,t);return!(n<0||(n==e.length-1?e.pop():ie.call(e,n,1),--this.size,0))},qn.prototype.get=function(t){var e=this.__data__,n=ei(e,t);return n<0?r:e[n][1]},qn.prototype.has=function(t){return ei(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,i=ei(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(Cn||qn),string:new zn}},Yn.prototype.delete=function(t){var e=sa(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return sa(this,t).get(t)},Yn.prototype.has=function(t){return sa(this,t).has(t)},Yn.prototype.set=function(t,e){var n=sa(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,o),this},Xn.prototype.has=function(t){return this.__data__.has(t)},Vn.prototype.clear=function(){this.__data__=new qn,this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Vn.prototype.get=function(t){return this.__data__.get(t)},Vn.prototype.has=function(t){return this.__data__.has(t)},Vn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var i=n.__data__;if(!Cn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(i)}return n.set(t,e),this.size=n.size,this};var ci=Ar(_i),di=Ar(bi,!0);function fi(t,e){var n=!0;return ci(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function pi(t,e,n){for(var i=-1,a=t.length;++i<a;){var o=t[i],s=e(o);if(null!=s&&(l===r?s==s&&!hs(s):n(s,l)))var l=s,h=o}return h}function gi(t,e){var n=[];return ci(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function vi(t,e,n,i,r){var a=-1,o=t.length;for(n||(n=ga),r||(r=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?vi(s,e-1,n,i,r):Ee(r,s):i||(r[r.length]=s)}return r}var mi=Pr(),yi=Pr(!0);function _i(t,e){return t&&mi(t,e,Ps)}function bi(t,e){return t&&yi(t,e,Ps)}function wi(t,e){return ke(e,(function(e){return Jo(t[e])}))}function ki(t,e){for(var n=0,i=(e=mr(e,t)).length;null!=t&&n<i;)t=t[$a(e[n++])];return n&&n==i?t:r}function xi(t,e,n){var i=e(t);return qo(t)?i:Ee(i,n(t))}function Ci(t){return null==t?t===r?"[object Undefined]":"[object Null]":se&&se in Ct(t)?function(t){var e=Dt.call(t,se),n=t[se];try{t[se]=r;var i=!0}catch(t){}var a=Bt.call(t);return i&&(e?t[se]=n:delete t[se]),a}(t):function(t){return Bt.call(t)}(t)}function Si(t,e){return t>e}function Ei(t,e){return null!=t&&Dt.call(t,e)}function Mi(t,e){return null!=t&&e in Ct(t)}function Ti(t,e,n){for(var a=n?Ce:xe,o=t[0].length,s=t.length,l=s,h=i(s),u=1/0,c=[];l--;){var d=t[l];l&&e&&(d=Se(d,Ge(e))),u=yn(d.length,u),h[l]=!n&&(e||o>=120&&d.length>=120)?new Xn(l&&d):r}d=t[0];var f=-1,p=h[0];t:for(;++f<o&&c.length<u;){var g=d[f],v=e?e(g):g;if(g=n||0!==g?g:0,!(p?qe(p,v):a(c,v,n))){for(l=s;--l;){var m=h[l];if(!(m?qe(m,v):a(t[l],v,n)))continue t}p&&p.push(v),c.push(g)}}return c}function Oi(t,e,n){var i=null==(t=Sa(t,e=mr(e,t)))?t:t[$a(Ka(e))];return null==i?r:me(i,t,n)}function Li(t){return ns(t)&&Ci(t)==g}function Ai(t,e,n,i,a){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,i,a,o){var s=qo(t),l=qo(e),h=s?v:da(t),u=l?v:da(e),c=(h=h==g?C:h)==C,d=(u=u==g?C:u)==C,f=h==u;if(f&&Uo(t)){if(!Uo(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Vn),s||us(t)?Zr(t,e,n,i,a,o):function(t,e,n,i,r,a,o){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!a(new Ht(t),new Ht(e)));case m:case y:case x:return No(+t,+e);case _:return t.name==e.name&&t.message==e.message;case E:case T:return t==e+"";case k:var s=Ze;case M:var l=1&i;if(s||(s=nn),t.size!=e.size&&!l)return!1;var h=o.get(t);if(h)return h==e;i|=2,o.set(t,e);var u=Zr(s(t),s(e),i,r,a,o);return o.delete(t),u;case O:if($n)return $n.call(t)==$n.call(e)}return!1}(t,e,h,n,i,a,o);if(!(1&n)){var p=c&&Dt.call(t,"__wrapped__"),b=d&&Dt.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,S=b?e.value():e;return o||(o=new Vn),a(w,S,n,i,o)}}return!!f&&(o||(o=new Vn),function(t,e,n,i,a,o){var s=1&n,l=ea(t),h=l.length;if(h!=ea(e).length&&!s)return!1;for(var u=h;u--;){var c=l[u];if(!(s?c in e:Dt.call(e,c)))return!1}var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=s;++u<h;){var v=t[c=l[u]],m=e[c];if(i)var y=s?i(m,v,c,e,t,o):i(v,m,c,t,e,o);if(!(y===r?v===m||a(v,m,n,i,o):y)){p=!1;break}g||(g="constructor"==c)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,i,a,o))}(t,e,n,i,Ai,a))}function Pi(t,e,n,i){var a=n.length,o=a,s=!i;if(null==t)return!o;for(t=Ct(t);a--;){var l=n[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<o;){var h=(l=n[a])[0],u=t[h],c=l[1];if(s&&l[2]){if(u===r&&!(h in t))return!1}else{var d=new Vn;if(i)var f=i(u,c,h,t,e,d);if(!(f===r?Ai(c,u,3,i,d):f))return!1}}return!0}function Di(t){return!(!es(t)||(e=t,It&&It in e))&&(Jo(t)?Ft:gt).test(ja(t));var e}function Ri(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?qo(t)?Fi(t[0],t[1]):ji(t):fl(t)}function Ii(t){if(!wa(t))return vn(t);var e=[];for(var n in Ct(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Bi(t,e){return t<e}function $i(t,e){var n=-1,r=Xo(t)?i(t.length):[];return ci(t,(function(t,i,a){r[++n]=e(t,i,a)})),r}function ji(t){var e=la(t);return 1==e.length&&e[0][2]?xa(e[0][0],e[0][1]):function(n){return n===t||Pi(n,t,e)}}function Fi(t,e){return ya(t)&&ka(e)?xa($a(t),e):function(n){var i=Ms(n,t);return i===r&&i===e?Ts(n,t):Ai(e,i,3)}}function Wi(t,e,n,i,a){t!==e&&mi(e,(function(o,s){if(a||(a=new Vn),es(o))!function(t,e,n,i,a,o,s){var l=Ma(t,n),h=Ma(e,n),u=s.get(h);if(u)Zn(t,n,u);else{var c=o?o(l,h,n+"",t,e,s):r,d=c===r;if(d){var f=qo(h),p=!f&&Uo(h),g=!f&&!p&&us(h);c=h,f||p||g?qo(l)?c=l:Vo(l)?c=Mr(l):p?(d=!1,c=wr(h,!0)):g?(d=!1,c=xr(h,!0)):c=[]:as(h)||zo(h)?(c=l,zo(l)?c=ys(l):es(l)&&!Jo(l)||(c=pa(h))):d=!1}d&&(s.set(h,c),a(c,h,i,o,s),s.delete(h)),Zn(t,n,c)}}(t,e,s,n,Wi,i,a);else{var l=i?i(Ma(t,s),o,s+"",t,e,a):r;l===r&&(l=o),Zn(t,s,l)}}),Ds)}function Ni(t,e){var n=t.length;if(n)return va(e+=e<0?n:0,n)?t[e]:r}function Hi(t,e,n){e=e.length?Se(e,(function(t){return qo(t)?function(e){return ki(e,1===t.length?t[0]:t)}:t})):[rl];var i=-1;return e=Se(e,Ge(oa())),function(t,e){var i=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,a=e.criteria,o=r.length,s=n.length;++i<o;){var l=Cr(r[i],a[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}));i--;)t[i]=t[i].value;return t}($i(t,(function(t,n,r){return{criteria:Se(e,(function(e){return e(t)})),index:++i,value:t}})))}function Gi(t,e,n){for(var i=-1,r=e.length,a={};++i<r;){var o=e[i],s=ki(t,o);n(s,o)&&Qi(a,mr(o,t),s)}return a}function zi(t,e,n,i){var r=i?Re:De,a=-1,o=e.length,s=t;for(t===e&&(e=Mr(e)),n&&(s=Se(t,Ge(n)));++a<o;)for(var l=0,h=e[a],u=n?n(h):h;(l=r(s,u,l,i))>-1;)s!==t&&ie.call(s,l,1),ie.call(t,l,1);return t}function qi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==a){var a=r;va(r)?ie.call(t,r,1):hr(t,r)}}return t}function Yi(t,e){return t+cn(wn()*(e-t+1))}function Xi(t,e){var n="";if(!t||e<1||e>c)return n;do{e%2&&(n+=t),(e=cn(e/2))&&(t+=t)}while(e);return n}function Vi(t,e){return La(Ca(t,e,rl),t+"")}function Ui(t){return Kn(Ns(t))}function Ki(t,e){var n=Ns(t);return Da(n,oi(e,0,n.length))}function Qi(t,e,n,i){if(!es(t))return t;for(var a=-1,o=(e=mr(e,t)).length,s=o-1,l=t;null!=l&&++a<o;){var h=$a(e[a]),u=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(a!=s){var c=l[h];(u=i?i(c,h,l):r)===r&&(u=es(c)?c:va(e[a+1])?[]:{})}ti(l,h,u),l=l[h]}return t}var Ji=On?function(t,e){return On.set(t,e),t}:rl,Zi=he?function(t,e){return he(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function tr(t){return Da(Ns(t))}function er(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var o=i(a);++r<a;)o[r]=t[r+e];return o}function nr(t,e){var n;return ci(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function ir(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=t[a];null!==o&&!hs(o)&&(n?o<=e:o<e)?i=a+1:r=a}return r}return rr(t,e,rl,n)}function rr(t,e,n,i){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!=e,l=null===e,h=hs(e),u=e===r;a<o;){var c=cn((a+o)/2),d=n(t[c]),f=d!==r,p=null===d,g=d==d,v=hs(d);if(s)var m=i||g;else m=u?g&&(i||f):l?g&&f&&(i||!p):h?g&&f&&!p&&(i||!v):!p&&!v&&(i?d<=e:d<e);m?a=c+1:o=c}return yn(o,4294967294)}function ar(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var o=t[n],s=e?e(o):o;if(!n||!No(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function or(t){return"number"==typeof t?t:hs(t)?d:+t}function sr(t){if("string"==typeof t)return t;if(qo(t))return Se(t,sr)+"";if(hs(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function lr(t,e,n){var i=-1,r=xe,a=t.length,o=!0,s=[],l=s;if(n)o=!1,r=Ce;else if(a>=200){var h=e?null:Xr(t);if(h)return nn(h);o=!1,r=qe,l=new Xn}else l=e?[]:s;t:for(;++i<a;){var u=t[i],c=e?e(u):u;if(u=n||0!==u?u:0,o&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue t;e&&l.push(c),s.push(u)}else r(l,c,n)||(l!==s&&l.push(c),s.push(u))}return s}function hr(t,e){return null==(t=Sa(t,e=mr(e,t)))||delete t[$a(Ka(e))]}function ur(t,e,n,i){return Qi(t,e,n(ki(t,e)),i)}function cr(t,e,n,i){for(var r=t.length,a=i?r:-1;(i?a--:++a<r)&&e(t[a],a,t););return n?er(t,i?0:a,i?a+1:r):er(t,i?a+1:0,i?r:a)}function dr(t,e){var n=t;return n instanceof Gn&&(n=n.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,Ee([t],e.args))}),n)}function fr(t,e,n){var r=t.length;if(r<2)return r?lr(t[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=t[a],l=-1;++l<r;)l!=a&&(o[a]=ui(o[a]||s,t[l],e,n));return lr(vi(o,1),e,n)}function pr(t,e,n){for(var i=-1,a=t.length,o=e.length,s={};++i<a;){var l=i<o?e[i]:r;n(s,t[i],l)}return s}function gr(t){return Vo(t)?t:[]}function vr(t){return"function"==typeof t?t:rl}function mr(t,e){return qo(t)?t:ya(t,e)?[t]:Ba(_s(t))}var yr=Vi;function _r(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:er(t,e,n)}var br=ue||function(t){return ae.clearTimeout(t)};function wr(t,e){if(e)return t.slice();var n=t.length,i=Gt?Gt(n):new t.constructor(n);return t.copy(i),i}function kr(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function xr(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Cr(t,e){if(t!==e){var n=t!==r,i=null===t,a=t==t,o=hs(t),s=e!==r,l=null===e,h=e==e,u=hs(e);if(!l&&!u&&!o&&t>e||o&&s&&h&&!l&&!u||i&&s&&h||!n&&h||!a)return 1;if(!i&&!o&&!u&&t<e||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!h)return-1}return 0}function Sr(t,e,n,r){for(var a=-1,o=t.length,s=n.length,l=-1,h=e.length,u=mn(o-s,0),c=i(h+u),d=!r;++l<h;)c[l]=e[l];for(;++a<s;)(d||a<o)&&(c[n[a]]=t[a]);for(;u--;)c[l++]=t[a++];return c}function Er(t,e,n,r){for(var a=-1,o=t.length,s=-1,l=n.length,h=-1,u=e.length,c=mn(o-l,0),d=i(c+u),f=!r;++a<c;)d[a]=t[a];for(var p=a;++h<u;)d[p+h]=e[h];for(;++s<l;)(f||a<o)&&(d[p+n[s]]=t[a++]);return d}function Mr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Tr(t,e,n,i){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],h=i?i(n[l],t[l],l,n,t):r;h===r&&(h=t[l]),a?ri(n,l,h):ti(n,l,h)}return n}function Or(t,e){return function(n,i){var r=qo(n)?ye:ni,a=e?e():{};return r(n,t,oa(i,2),a)}}function Lr(t){return Vi((function(e,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=t.length>3&&"function"==typeof o?(a--,o):r,s&&ma(n[0],n[1],s)&&(o=a<3?r:o,a=1),e=Ct(e);++i<a;){var l=n[i];l&&t(e,l,i,o)}return e}))}function Ar(t,e){return function(n,i){if(null==n)return n;if(!Xo(n))return t(n,i);for(var r=n.length,a=e?r:-1,o=Ct(n);(e?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function Pr(t){return function(e,n,i){for(var r=-1,a=Ct(e),o=i(e),s=o.length;s--;){var l=o[t?s:++r];if(!1===n(a[l],l,a))break}return e}}function Dr(t){return function(e){var n=Je(e=_s(e))?on(e):r,i=n?n[0]:e.charAt(0),a=n?_r(n,1).join(""):e.slice(1);return i[t]()+a}}function Rr(t){return function(e){return Me(Js(zs(e).replace(zt,"")),t,"")}}function Ir(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Wn(t.prototype),i=t.apply(n,e);return es(i)?i:n}}function Br(t){return function(e,n,i){var a=Ct(e);if(!Xo(e)){var o=oa(n,3);e=Ps(e),n=function(t){return o(a[t],t,a)}}var s=t(e,n,i);return s>-1?a[o?e[s]:s]:r}}function $r(t){return ta((function(e){var n=e.length,i=n,o=Hn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new Mt(a);if(o&&!l&&"wrapper"==ra(s))var l=new Hn([],!0)}for(i=l?i:n;++i<n;){var h=ra(s=e[i]),u="wrapper"==h?ia(s):r;l=u&&_a(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ra(u[0])].apply(l,u[3]):1==s.length&&_a(s)?l[h]():l.thru(s)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&qo(i))return l.plant(i).value();for(var r=0,a=n?e[r].apply(this,t):i;++r<n;)a=e[r].call(this,a);return a}}))}function jr(t,e,n,a,o,s,l,u,c,d){var f=e&h,p=1&e,g=2&e,v=24&e,m=512&e,y=g?r:Ir(t);return function r(){for(var h=arguments.length,_=i(h),b=h;b--;)_[b]=arguments[b];if(v)var w=aa(r),k=Ve(_,w);if(a&&(_=Sr(_,a,o,v)),s&&(_=Er(_,s,l,v)),h-=k,v&&h<d){var x=en(_,w);return qr(t,e,jr,r.placeholder,n,_,x,u,c,d-h)}var C=p?n:this,S=g?C[t]:t;return h=_.length,u?_=Ea(_,u):m&&h>1&&_.reverse(),f&&c<h&&(_.length=c),this&&this!==ae&&this instanceof r&&(S=y||Ir(S)),S.apply(C,_)}}function Fr(t,e){return function(n,i){return function(t,e,n,i){return _i(t,(function(t,r,a){e(i,n(t),r,a)})),i}(n,t,e(i),{})}}function Wr(t,e){return function(n,i){var a;if(n===r&&i===r)return e;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=sr(n),i=sr(i)):(n=or(n),i=or(i)),a=t(n,i)}return a}}function Nr(t){return ta((function(e){return e=Se(e,Ge(oa())),Vi((function(n){var i=this;return t(e,(function(t){return me(t,i,n)}))}))}))}function Hr(t,e){var n=(e=e===r?" ":sr(e)).length;if(n<2)return n?Xi(e,t):e;var i=Xi(e,un(t/an(e)));return Je(e)?_r(on(i),0,t).join(""):i.slice(0,t)}function Gr(t){return function(e,n,a){return a&&"number"!=typeof a&&ma(e,n,a)&&(n=a=r),e=ps(e),n===r?(n=e,e=0):n=ps(n),function(t,e,n,r){for(var a=-1,o=mn(un((e-t)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=t,t+=n;return s}(e,n,a=a===r?e<n?1:-1:ps(a),t)}}function zr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function qr(t,e,n,i,a,o,s,h,u,c){var d=8&e;e|=d?l:64,4&(e&=~(d?64:l))||(e&=-4);var f=[t,e,a,d?o:r,d?s:r,d?r:o,d?r:s,h,u,c],p=n.apply(r,f);return _a(t)&&Ta(p,f),p.placeholder=i,Aa(p,t,e)}function Yr(t){var e=xt[t];return function(t,n){if(t=ms(t),(n=null==n?0:yn(gs(n),292))&&pn(t)){var i=(_s(t)+"e").split("e");return+((i=(_s(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Xr=En&&1/nn(new En([,-0]))[1]==u?function(t){return new En(t)}:hl;function Vr(t){return function(e){var n=da(e);return n==k?Ze(e):n==M?rn(e):function(t,e){return Se(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ur(t,e,n,o,u,c,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Mt(a);var g=o?o.length:0;if(g||(e&=-97,o=u=r),d=d===r?d:mn(gs(d),0),f=f===r?f:gs(f),g-=u?u.length:0,64&e){var v=o,m=u;o=u=r}var y=p?r:ia(t),_=[t,e,n,o,u,v,m,c,d,f];if(y&&function(t,e){var n=t[1],i=e[1],r=n|i,a=r<131,o=i==h&&8==n||i==h&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!a&&!o)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var u=t[3];t[3]=u?Sr(u,l,e[4]):l,t[4]=u?en(t[3],s):e[4]}(l=e[5])&&(u=t[5],t[5]=u?Er(u,l,e[6]):l,t[6]=u?en(t[5],s):e[6]),(l=e[7])&&(t[7]=l),i&h&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(_,y),t=_[0],e=_[1],n=_[2],o=_[3],u=_[4],!(f=_[9]=_[9]===r?p?0:t.length:mn(_[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var a=Ir(t);return function o(){for(var s=arguments.length,l=i(s),h=s,u=aa(o);h--;)l[h]=arguments[h];var c=s<3&&l[0]!==u&&l[s-1]!==u?[]:en(l,u);return(s-=c.length)<n?qr(t,e,jr,o.placeholder,r,l,c,r,r,n-s):me(this&&this!==ae&&this instanceof o?a:t,this,l)}}(t,e,f):e!=l&&33!=e||u.length?jr.apply(r,_):function(t,e,n,r){var a=1&e,o=Ir(t);return function e(){for(var s=-1,l=arguments.length,h=-1,u=r.length,c=i(u+l),d=this&&this!==ae&&this instanceof e?o:t;++h<u;)c[h]=r[h];for(;l--;)c[h++]=arguments[++s];return me(d,a?n:this,c)}}(t,e,n,o);else var b=function(t,e,n){var i=1&e,r=Ir(t);return function e(){return(this&&this!==ae&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return Aa((y?Ji:Ta)(b,_),t,e)}function Kr(t,e,n,i){return t===r||No(t,Lt[n])&&!Dt.call(i,n)?e:t}function Qr(t,e,n,i,a,o){return es(t)&&es(e)&&(o.set(e,t),Wi(t,e,r,Qr,o),o.delete(e)),t}function Jr(t){return as(t)?r:t}function Zr(t,e,n,i,a,o){var s=1&n,l=t.length,h=e.length;if(l!=h&&!(s&&h>l))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=2&n?new Xn:r;for(o.set(t,e),o.set(e,t);++d<l;){var g=t[d],v=e[d];if(i)var m=s?i(v,g,d,e,t,o):i(g,v,d,t,e,o);if(m!==r){if(m)continue;f=!1;break}if(p){if(!Oe(e,(function(t,e){if(!qe(p,e)&&(g===t||a(g,t,n,i,o)))return p.push(e)}))){f=!1;break}}else if(g!==v&&!a(g,v,n,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ta(t){return La(Ca(t,r,qa),t+"")}function ea(t){return xi(t,Ps,ua)}function na(t){return xi(t,Ds,ca)}var ia=On?function(t){return On.get(t)}:hl;function ra(t){for(var e=t.name+"",n=Ln[e],i=Dt.call(Ln,e)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==t)return r.name}return e}function aa(t){return(Dt.call(Fn,"placeholder")?Fn:t).placeholder}function oa(){var t=Fn.iteratee||al;return t=t===al?Ri:t,arguments.length?t(arguments[0],arguments[1]):t}function sa(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function la(t){for(var e=Ps(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ka(r)]}return e}function ha(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Di(n)?n:r}var ua=dn?function(t){return null==t?[]:(t=Ct(t),ke(dn(t),(function(e){return te.call(t,e)})))}:vl,ca=dn?function(t){for(var e=[];t;)Ee(e,ua(t)),t=Yt(t);return e}:vl,da=Ci;function fa(t,e,n){for(var i=-1,r=(e=mr(e,t)).length,a=!1;++i<r;){var o=$a(e[i]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++i!=r?a:!!(r=null==t?0:t.length)&&ts(r)&&va(o,r)&&(qo(t)||zo(t))}function pa(t){return"function"!=typeof t.constructor||wa(t)?{}:Wn(Yt(t))}function ga(t){return qo(t)||zo(t)||!!(re&&t&&t[re])}function va(t,e){var n=typeof t;return!!(e=null==e?c:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function ma(t,e,n){if(!es(n))return!1;var i=typeof e;return!!("number"==i?Xo(n)&&va(e,n.length):"string"==i&&e in n)&&No(n[e],t)}function ya(t,e){if(qo(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hs(t))||Z.test(t)||!J.test(t)||null!=e&&t in Ct(e)}function _a(t){var e=ra(t),n=Fn[e];if("function"!=typeof n||!(e in Gn.prototype))return!1;if(t===n)return!0;var i=ia(n);return!!i&&t===i[0]}(xn&&da(new xn(new ArrayBuffer(1)))!=P||Cn&&da(new Cn)!=k||Sn&&da(Sn.resolve())!=S||En&&da(new En)!=M||Mn&&da(new Mn)!=L)&&(da=function(t){var e=Ci(t),n=e==C?t.constructor:r,i=n?ja(n):"";if(i)switch(i){case An:return P;case Pn:return k;case Dn:return S;case Rn:return M;case In:return L}return e});var ba=At?Jo:ml;function wa(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function ka(t){return t==t&&!es(t)}function xa(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in Ct(n))}}function Ca(t,e,n){return e=mn(e===r?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=mn(r.length-e,0),s=i(o);++a<o;)s[a]=r[e+a];a=-1;for(var l=i(e+1);++a<e;)l[a]=r[a];return l[e]=n(s),me(t,this,l)}}function Sa(t,e){return e.length<2?t:ki(t,er(e,0,-1))}function Ea(t,e){for(var n=t.length,i=yn(e.length,n),a=Mr(t);i--;){var o=e[i];t[i]=va(o,n)?a[o]:r}return t}function Ma(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ta=Pa(Ji),Oa=je||function(t,e){return ae.setTimeout(t,e)},La=Pa(Zi);function Aa(t,e,n){var i=e+"";return La(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return _e(p,(function(n){var i="_."+n[0];e&n[1]&&!xe(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(st):[]}(i),n)))}function Pa(t){var e=0,n=0;return function(){var i=_n(),a=16-(i-n);if(n=i,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Da(t,e){var n=-1,i=t.length,a=i-1;for(e=e===r?i:e;++n<e;){var o=Yi(n,a),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Ra,Ia,Ba=(Ra=Io((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,i,r){e.push(i?r.replace(ut,"$1"):n||t)})),e}),(function(t){return 500===Ia.size&&Ia.clear(),t})),Ia=Ra.cache,Ra);function $a(t){if("string"==typeof t||hs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ja(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fa(t){if(t instanceof Gn)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=Mr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Wa=Vi((function(t,e){return Vo(t)?ui(t,vi(e,1,Vo,!0)):[]})),Na=Vi((function(t,e){var n=Ka(e);return Vo(n)&&(n=r),Vo(t)?ui(t,vi(e,1,Vo,!0),oa(n,2)):[]})),Ha=Vi((function(t,e){var n=Ka(e);return Vo(n)&&(n=r),Vo(t)?ui(t,vi(e,1,Vo,!0),r,n):[]}));function Ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:gs(n);return r<0&&(r=mn(i+r,0)),Pe(t,oa(e,3),r)}function za(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return n!==r&&(a=gs(n),a=n<0?mn(i+a,0):yn(a,i-1)),Pe(t,oa(e,3),a,!0)}function qa(t){return null!=t&&t.length?vi(t,1):[]}function Ya(t){return t&&t.length?t[0]:r}var Xa=Vi((function(t){var e=Se(t,gr);return e.length&&e[0]===t[0]?Ti(e):[]})),Va=Vi((function(t){var e=Ka(t),n=Se(t,gr);return e===Ka(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Ti(n,oa(e,2)):[]})),Ua=Vi((function(t){var e=Ka(t),n=Se(t,gr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Ti(n,r,e):[]}));function Ka(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Qa=Vi(Ja);function Ja(t,e){return t&&t.length&&e&&e.length?zi(t,e):t}var Za=ta((function(t,e){var n=null==t?0:t.length,i=ai(t,e);return qi(t,Se(e,(function(t){return va(t,n)?+t:t})).sort(Cr)),i}));function to(t){return null==t?t:kn.call(t)}var eo=Vi((function(t){return lr(vi(t,1,Vo,!0))})),no=Vi((function(t){var e=Ka(t);return Vo(e)&&(e=r),lr(vi(t,1,Vo,!0),oa(e,2))})),io=Vi((function(t){var e=Ka(t);return e="function"==typeof e?e:r,lr(vi(t,1,Vo,!0),r,e)}));function ro(t){if(!t||!t.length)return[];var e=0;return t=ke(t,(function(t){if(Vo(t))return e=mn(t.length,e),!0})),Ne(e,(function(e){return Se(t,$e(e))}))}function ao(t,e){if(!t||!t.length)return[];var n=ro(t);return null==e?n:Se(n,(function(t){return me(e,r,t)}))}var oo=Vi((function(t,e){return Vo(t)?ui(t,e):[]})),so=Vi((function(t){return fr(ke(t,Vo))})),lo=Vi((function(t){var e=Ka(t);return Vo(e)&&(e=r),fr(ke(t,Vo),oa(e,2))})),ho=Vi((function(t){var e=Ka(t);return e="function"==typeof e?e:r,fr(ke(t,Vo),r,e)})),uo=Vi(ro),co=Vi((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ao(t,n)}));function fo(t){var e=Fn(t);return e.__chain__=!0,e}function po(t,e){return e(t)}var go=ta((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,a=function(e){return ai(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Gn&&va(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:po,args:[a],thisArg:r}),new Hn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(a)})),vo=Or((function(t,e,n){Dt.call(t,n)?++t[n]:ri(t,n,1)})),mo=Br(Ga),yo=Br(za);function _o(t,e){return(qo(t)?_e:ci)(t,oa(e,3))}function bo(t,e){return(qo(t)?be:di)(t,oa(e,3))}var wo=Or((function(t,e,n){Dt.call(t,n)?t[n].push(e):ri(t,n,[e])})),ko=Vi((function(t,e,n){var r=-1,a="function"==typeof e,o=Xo(t)?i(t.length):[];return ci(t,(function(t){o[++r]=a?me(e,t,n):Oi(t,e,n)})),o})),xo=Or((function(t,e,n){ri(t,n,e)}));function Co(t,e){return(qo(t)?Se:$i)(t,oa(e,3))}var So=Or((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Eo=Vi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ma(t,e[0],e[1])?e=[]:n>2&&ma(e[0],e[1],e[2])&&(e=[e[0]]),Hi(t,vi(e,1),[])})),Mo=Le||function(){return ae.Date.now()};function To(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ur(t,h,r,r,r,r,e)}function Oo(t,e){var n;if("function"!=typeof e)throw new Mt(a);return t=gs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Lo=Vi((function(t,e,n){var i=1;if(n.length){var r=en(n,aa(Lo));i|=l}return Ur(t,i,e,n,r)})),Ao=Vi((function(t,e,n){var i=3;if(n.length){var r=en(n,aa(Ao));i|=l}return Ur(e,i,t,n,r)}));function Po(t,e,n){var i,o,s,l,h,u,c=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new Mt(a);function g(e){var n=i,a=o;return i=o=r,c=e,l=t.apply(a,n)}function v(t){return c=t,h=Oa(y,e),d?g(t):l}function m(t){var n=t-u;return u===r||n>=e||n<0||f&&t-c>=s}function y(){var t=Mo();if(m(t))return _(t);h=Oa(y,function(t){var n=e-(t-u);return f?yn(n,s-(t-c)):n}(t))}function _(t){return h=r,p&&i?g(t):(i=o=r,l)}function b(){var t=Mo(),n=m(t);if(i=arguments,o=this,u=t,n){if(h===r)return v(u);if(f)return br(h),h=Oa(y,e),g(u)}return h===r&&(h=Oa(y,e)),l}return e=ms(e)||0,es(n)&&(d=!!n.leading,s=(f="maxWait"in n)?mn(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){h!==r&&br(h),c=0,i=u=o=h=r},b.flush=function(){return h===r?l:_(Mo())},b}var Do=Vi((function(t,e){return hi(t,1,e)})),Ro=Vi((function(t,e,n){return hi(t,ms(e)||0,n)}));function Io(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Mt(a);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(Io.Cache||Yn),n}function Bo(t){if("function"!=typeof t)throw new Mt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Io.Cache=Yn;var $o=yr((function(t,e){var n=(e=1==e.length&&qo(e[0])?Se(e[0],Ge(oa())):Se(vi(e,1),Ge(oa()))).length;return Vi((function(i){for(var r=-1,a=yn(i.length,n);++r<a;)i[r]=e[r].call(this,i[r]);return me(t,this,i)}))})),jo=Vi((function(t,e){var n=en(e,aa(jo));return Ur(t,l,r,e,n)})),Fo=Vi((function(t,e){var n=en(e,aa(Fo));return Ur(t,64,r,e,n)})),Wo=ta((function(t,e){return Ur(t,256,r,r,r,e)}));function No(t,e){return t===e||t!=t&&e!=e}var Ho=zr(Si),Go=zr((function(t,e){return t>=e})),zo=Li(function(){return arguments}())?Li:function(t){return ns(t)&&Dt.call(t,"callee")&&!te.call(t,"callee")},qo=i.isArray,Yo=ce?Ge(ce):function(t){return ns(t)&&Ci(t)==A};function Xo(t){return null!=t&&ts(t.length)&&!Jo(t)}function Vo(t){return ns(t)&&Xo(t)}var Uo=fn||ml,Ko=de?Ge(de):function(t){return ns(t)&&Ci(t)==y};function Qo(t){if(!ns(t))return!1;var e=Ci(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!as(t)}function Jo(t){if(!es(t))return!1;var e=Ci(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zo(t){return"number"==typeof t&&t==gs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var is=fe?Ge(fe):function(t){return ns(t)&&da(t)==k};function rs(t){return"number"==typeof t||ns(t)&&Ci(t)==x}function as(t){if(!ns(t)||Ci(t)!=C)return!1;var e=Yt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==$t}var os=pe?Ge(pe):function(t){return ns(t)&&Ci(t)==E},ss=ge?Ge(ge):function(t){return ns(t)&&da(t)==M};function ls(t){return"string"==typeof t||!qo(t)&&ns(t)&&Ci(t)==T}function hs(t){return"symbol"==typeof t||ns(t)&&Ci(t)==O}var us=ve?Ge(ve):function(t){return ns(t)&&ts(t.length)&&!!Jt[Ci(t)]},cs=zr(Bi),ds=zr((function(t,e){return t<=e}));function fs(t){if(!t)return[];if(Xo(t))return ls(t)?on(t):Mr(t);if(oe&&t[oe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[oe]());var e=da(t);return(e==k?Ze:e==M?nn:Ns)(t)}function ps(t){return t?(t=ms(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gs(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function vs(t){return t?oi(gs(t),0,f):0}function ms(t){if("number"==typeof t)return t;if(hs(t))return d;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=He(t);var n=pt.test(t);return n||vt.test(t)?ne(t.slice(2),n?2:8):ft.test(t)?d:+t}function ys(t){return Tr(t,Ds(t))}function _s(t){return null==t?"":sr(t)}var bs=Lr((function(t,e){if(wa(e)||Xo(e))Tr(e,Ps(e),t);else for(var n in e)Dt.call(e,n)&&ti(t,n,e[n])})),ws=Lr((function(t,e){Tr(e,Ds(e),t)})),ks=Lr((function(t,e,n,i){Tr(e,Ds(e),t,i)})),xs=Lr((function(t,e,n,i){Tr(e,Ps(e),t,i)})),Cs=ta(ai),Ss=Vi((function(t,e){t=Ct(t);var n=-1,i=e.length,a=i>2?e[2]:r;for(a&&ma(e[0],e[1],a)&&(i=1);++n<i;)for(var o=e[n],s=Ds(o),l=-1,h=s.length;++l<h;){var u=s[l],c=t[u];(c===r||No(c,Lt[u])&&!Dt.call(t,u))&&(t[u]=o[u])}return t})),Es=Vi((function(t){return t.push(r,Qr),me(Is,r,t)}));function Ms(t,e,n){var i=null==t?r:ki(t,e);return i===r?n:i}function Ts(t,e){return null!=t&&fa(t,e,Mi)}var Os=Fr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),el(rl)),Ls=Fr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),oa),As=Vi(Oi);function Ps(t){return Xo(t)?Un(t):Ii(t)}function Ds(t){return Xo(t)?Un(t,!0):function(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Ct(t))e.push(n);return e}(t);var e=wa(t),n=[];for(var i in t)("constructor"!=i||!e&&Dt.call(t,i))&&n.push(i);return n}(t)}var Rs=Lr((function(t,e,n){Wi(t,e,n)})),Is=Lr((function(t,e,n,i){Wi(t,e,n,i)})),Bs=ta((function(t,e){var n={};if(null==t)return n;var i=!1;e=Se(e,(function(e){return e=mr(e,t),i||(i=e.length>1),e})),Tr(t,na(t),n),i&&(n=si(n,7,Jr));for(var r=e.length;r--;)hr(n,e[r]);return n})),$s=ta((function(t,e){return null==t?{}:function(t,e){return Gi(t,e,(function(e,n){return Ts(t,n)}))}(t,e)}));function js(t,e){if(null==t)return{};var n=Se(na(t),(function(t){return[t]}));return e=oa(e),Gi(t,n,(function(t,n){return e(t,n[0])}))}var Fs=Vr(Ps),Ws=Vr(Ds);function Ns(t){return null==t?[]:ze(t,Ps(t))}var Hs=Rr((function(t,e,n){return e=e.toLowerCase(),t+(n?Gs(e):e)}));function Gs(t){return Qs(_s(t).toLowerCase())}function zs(t){return(t=_s(t))&&t.replace(yt,Ue).replace(qt,"")}var qs=Rr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ys=Rr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Xs=Dr("toLowerCase"),Vs=Rr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Us=Rr((function(t,e,n){return t+(n?" ":"")+Qs(e)})),Ks=Rr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Qs=Dr("toUpperCase");function Js(t,e,n){return t=_s(t),(e=n?r:e)===r?function(t){return Ut.test(t)}(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Zs=Vi((function(t,e){try{return me(t,r,e)}catch(t){return Qo(t)?t:new wt(t)}})),tl=ta((function(t,e){return _e(e,(function(e){e=$a(e),ri(t,e,Lo(t[e],t))})),t}));function el(t){return function(){return t}}var nl=$r(),il=$r(!0);function rl(t){return t}function al(t){return Ri("function"==typeof t?t:si(t,1))}var ol=Vi((function(t,e){return function(n){return Oi(n,t,e)}})),sl=Vi((function(t,e){return function(n){return Oi(t,n,e)}}));function ll(t,e,n){var i=Ps(e),r=wi(e,i);null!=n||es(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=wi(e,Ps(e)));var a=!(es(n)&&"chain"in n&&!n.chain),o=Jo(t);return _e(r,(function(n){var i=e[n];t[n]=i,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=Mr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Ee([this.value()],arguments))})})),t}function hl(){}var ul=Nr(Se),cl=Nr(we),dl=Nr(Oe);function fl(t){return ya(t)?$e($a(t)):function(t){return function(e){return ki(e,t)}}(t)}var pl=Gr(),gl=Gr(!0);function vl(){return[]}function ml(){return!1}var yl,_l=Wr((function(t,e){return t+e}),0),bl=Yr("ceil"),wl=Wr((function(t,e){return t/e}),1),kl=Yr("floor"),xl=Wr((function(t,e){return t*e}),1),Cl=Yr("round"),Sl=Wr((function(t,e){return t-e}),0);return Fn.after=function(t,e){if("function"!=typeof e)throw new Mt(a);return t=gs(t),function(){if(--t<1)return e.apply(this,arguments)}},Fn.ary=To,Fn.assign=bs,Fn.assignIn=ws,Fn.assignInWith=ks,Fn.assignWith=xs,Fn.at=Cs,Fn.before=Oo,Fn.bind=Lo,Fn.bindAll=tl,Fn.bindKey=Ao,Fn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qo(t)?t:[t]},Fn.chain=fo,Fn.chunk=function(t,e,n){e=(n?ma(t,e,n):e===r)?1:mn(gs(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];for(var o=0,s=0,l=i(un(a/e));o<a;)l[s++]=er(t,o,o+=e);return l},Fn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var a=t[e];a&&(r[i++]=a)}return r},Fn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ee(qo(n)?Mr(n):[n],vi(e,1))},Fn.cond=function(t){var e=null==t?0:t.length,n=oa();return t=e?Se(t,(function(t){if("function"!=typeof t[1])throw new Mt(a);return[n(t[0]),t[1]]})):[],Vi((function(n){for(var i=-1;++i<e;){var r=t[i];if(me(r[0],this,n))return me(r[1],this,n)}}))},Fn.conforms=function(t){return function(t){var e=Ps(t);return function(n){return li(n,t,e)}}(si(t,1))},Fn.constant=el,Fn.countBy=vo,Fn.create=function(t,e){var n=Wn(t);return null==e?n:ii(n,e)},Fn.curry=function t(e,n,i){var a=Ur(e,8,r,r,r,r,r,n=i?r:n);return a.placeholder=t.placeholder,a},Fn.curryRight=function t(e,n,i){var a=Ur(e,16,r,r,r,r,r,n=i?r:n);return a.placeholder=t.placeholder,a},Fn.debounce=Po,Fn.defaults=Ss,Fn.defaultsDeep=Es,Fn.defer=Do,Fn.delay=Ro,Fn.difference=Wa,Fn.differenceBy=Na,Fn.differenceWith=Ha,Fn.drop=function(t,e,n){var i=null==t?0:t.length;return i?er(t,(e=n||e===r?1:gs(e))<0?0:e,i):[]},Fn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?er(t,0,(e=i-(e=n||e===r?1:gs(e)))<0?0:e):[]},Fn.dropRightWhile=function(t,e){return t&&t.length?cr(t,oa(e,3),!0,!0):[]},Fn.dropWhile=function(t,e){return t&&t.length?cr(t,oa(e,3),!0):[]},Fn.fill=function(t,e,n,i){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&ma(t,e,n)&&(n=0,i=a),function(t,e,n,i){var a=t.length;for((n=gs(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:gs(i))<0&&(i+=a),i=n>i?0:vs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Fn.filter=function(t,e){return(qo(t)?ke:gi)(t,oa(e,3))},Fn.flatMap=function(t,e){return vi(Co(t,e),1)},Fn.flatMapDeep=function(t,e){return vi(Co(t,e),u)},Fn.flatMapDepth=function(t,e,n){return n=n===r?1:gs(n),vi(Co(t,e),n)},Fn.flatten=qa,Fn.flattenDeep=function(t){return null!=t&&t.length?vi(t,u):[]},Fn.flattenDepth=function(t,e){return null!=t&&t.length?vi(t,e=e===r?1:gs(e)):[]},Fn.flip=function(t){return Ur(t,512)},Fn.flow=nl,Fn.flowRight=il,Fn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Fn.functions=function(t){return null==t?[]:wi(t,Ps(t))},Fn.functionsIn=function(t){return null==t?[]:wi(t,Ds(t))},Fn.groupBy=wo,Fn.initial=function(t){return null!=t&&t.length?er(t,0,-1):[]},Fn.intersection=Xa,Fn.intersectionBy=Va,Fn.intersectionWith=Ua,Fn.invert=Os,Fn.invertBy=Ls,Fn.invokeMap=ko,Fn.iteratee=al,Fn.keyBy=xo,Fn.keys=Ps,Fn.keysIn=Ds,Fn.map=Co,Fn.mapKeys=function(t,e){var n={};return e=oa(e,3),_i(t,(function(t,i,r){ri(n,e(t,i,r),t)})),n},Fn.mapValues=function(t,e){var n={};return e=oa(e,3),_i(t,(function(t,i,r){ri(n,i,e(t,i,r))})),n},Fn.matches=function(t){return ji(si(t,1))},Fn.matchesProperty=function(t,e){return Fi(t,si(e,1))},Fn.memoize=Io,Fn.merge=Rs,Fn.mergeWith=Is,Fn.method=ol,Fn.methodOf=sl,Fn.mixin=ll,Fn.negate=Bo,Fn.nthArg=function(t){return t=gs(t),Vi((function(e){return Ni(e,t)}))},Fn.omit=Bs,Fn.omitBy=function(t,e){return js(t,Bo(oa(e)))},Fn.once=function(t){return Oo(2,t)},Fn.orderBy=function(t,e,n,i){return null==t?[]:(qo(e)||(e=null==e?[]:[e]),qo(n=i?r:n)||(n=null==n?[]:[n]),Hi(t,e,n))},Fn.over=ul,Fn.overArgs=$o,Fn.overEvery=cl,Fn.overSome=dl,Fn.partial=jo,Fn.partialRight=Fo,Fn.partition=So,Fn.pick=$s,Fn.pickBy=js,Fn.property=fl,Fn.propertyOf=function(t){return function(e){return null==t?r:ki(t,e)}},Fn.pull=Qa,Fn.pullAll=Ja,Fn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?zi(t,e,oa(n,2)):t},Fn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?zi(t,e,r,n):t},Fn.pullAt=Za,Fn.range=pl,Fn.rangeRight=gl,Fn.rearg=Wo,Fn.reject=function(t,e){return(qo(t)?ke:gi)(t,Bo(oa(e,3)))},Fn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],a=t.length;for(e=oa(e,3);++i<a;){var o=t[i];e(o,i,t)&&(n.push(o),r.push(i))}return qi(t,r),n},Fn.rest=function(t,e){if("function"!=typeof t)throw new Mt(a);return Vi(t,e=e===r?e:gs(e))},Fn.reverse=to,Fn.sampleSize=function(t,e,n){return e=(n?ma(t,e,n):e===r)?1:gs(e),(qo(t)?Qn:Ki)(t,e)},Fn.set=function(t,e,n){return null==t?t:Qi(t,e,n)},Fn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Qi(t,e,n,i)},Fn.shuffle=function(t){return(qo(t)?Jn:tr)(t)},Fn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ma(t,e,n)?(e=0,n=i):(e=null==e?0:gs(e),n=n===r?i:gs(n)),er(t,e,n)):[]},Fn.sortBy=Eo,Fn.sortedUniq=function(t){return t&&t.length?ar(t):[]},Fn.sortedUniqBy=function(t,e){return t&&t.length?ar(t,oa(e,2)):[]},Fn.split=function(t,e,n){return n&&"number"!=typeof n&&ma(t,e,n)&&(e=n=r),(n=n===r?f:n>>>0)?(t=_s(t))&&("string"==typeof e||null!=e&&!os(e))&&!(e=sr(e))&&Je(t)?_r(on(t),0,n):t.split(e,n):[]},Fn.spread=function(t,e){if("function"!=typeof t)throw new Mt(a);return e=null==e?0:mn(gs(e),0),Vi((function(n){var i=n[e],r=_r(n,0,e);return i&&Ee(r,i),me(t,this,r)}))},Fn.tail=function(t){var e=null==t?0:t.length;return e?er(t,1,e):[]},Fn.take=function(t,e,n){return t&&t.length?er(t,0,(e=n||e===r?1:gs(e))<0?0:e):[]},Fn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?er(t,(e=i-(e=n||e===r?1:gs(e)))<0?0:e,i):[]},Fn.takeRightWhile=function(t,e){return t&&t.length?cr(t,oa(e,3),!1,!0):[]},Fn.takeWhile=function(t,e){return t&&t.length?cr(t,oa(e,3)):[]},Fn.tap=function(t,e){return e(t),t},Fn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Mt(a);return es(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Po(t,e,{leading:i,maxWait:e,trailing:r})},Fn.thru=po,Fn.toArray=fs,Fn.toPairs=Fs,Fn.toPairsIn=Ws,Fn.toPath=function(t){return qo(t)?Se(t,$a):hs(t)?[t]:Mr(Ba(_s(t)))},Fn.toPlainObject=ys,Fn.transform=function(t,e,n){var i=qo(t),r=i||Uo(t)||us(t);if(e=oa(e,4),null==n){var a=t&&t.constructor;n=r?i?new a:[]:es(t)&&Jo(a)?Wn(Yt(t)):{}}return(r?_e:_i)(t,(function(t,i,r){return e(n,t,i,r)})),n},Fn.unary=function(t){return To(t,1)},Fn.union=eo,Fn.unionBy=no,Fn.unionWith=io,Fn.uniq=function(t){return t&&t.length?lr(t):[]},Fn.uniqBy=function(t,e){return t&&t.length?lr(t,oa(e,2)):[]},Fn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?lr(t,r,e):[]},Fn.unset=function(t,e){return null==t||hr(t,e)},Fn.unzip=ro,Fn.unzipWith=ao,Fn.update=function(t,e,n){return null==t?t:ur(t,e,vr(n))},Fn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:ur(t,e,vr(n),i)},Fn.values=Ns,Fn.valuesIn=function(t){return null==t?[]:ze(t,Ds(t))},Fn.without=oo,Fn.words=Js,Fn.wrap=function(t,e){return jo(vr(e),t)},Fn.xor=so,Fn.xorBy=lo,Fn.xorWith=ho,Fn.zip=uo,Fn.zipObject=function(t,e){return pr(t||[],e||[],ti)},Fn.zipObjectDeep=function(t,e){return pr(t||[],e||[],Qi)},Fn.zipWith=co,Fn.entries=Fs,Fn.entriesIn=Ws,Fn.extend=ws,Fn.extendWith=ks,ll(Fn,Fn),Fn.add=_l,Fn.attempt=Zs,Fn.camelCase=Hs,Fn.capitalize=Gs,Fn.ceil=bl,Fn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ms(n))==n?n:0),e!==r&&(e=(e=ms(e))==e?e:0),oi(ms(t),e,n)},Fn.clone=function(t){return si(t,4)},Fn.cloneDeep=function(t){return si(t,5)},Fn.cloneDeepWith=function(t,e){return si(t,5,e="function"==typeof e?e:r)},Fn.cloneWith=function(t,e){return si(t,4,e="function"==typeof e?e:r)},Fn.conformsTo=function(t,e){return null==e||li(t,e,Ps(e))},Fn.deburr=zs,Fn.defaultTo=function(t,e){return null==t||t!=t?e:t},Fn.divide=wl,Fn.endsWith=function(t,e,n){t=_s(t),e=sr(e);var i=t.length,a=n=n===r?i:oi(gs(n),0,i);return(n-=e.length)>=0&&t.slice(n,a)==e},Fn.eq=No,Fn.escape=function(t){return(t=_s(t))&&V.test(t)?t.replace(Y,Ke):t},Fn.escapeRegExp=function(t){return(t=_s(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Fn.every=function(t,e,n){var i=qo(t)?we:fi;return n&&ma(t,e,n)&&(e=r),i(t,oa(e,3))},Fn.find=mo,Fn.findIndex=Ga,Fn.findKey=function(t,e){return Ae(t,oa(e,3),_i)},Fn.findLast=yo,Fn.findLastIndex=za,Fn.findLastKey=function(t,e){return Ae(t,oa(e,3),bi)},Fn.floor=kl,Fn.forEach=_o,Fn.forEachRight=bo,Fn.forIn=function(t,e){return null==t?t:mi(t,oa(e,3),Ds)},Fn.forInRight=function(t,e){return null==t?t:yi(t,oa(e,3),Ds)},Fn.forOwn=function(t,e){return t&&_i(t,oa(e,3))},Fn.forOwnRight=function(t,e){return t&&bi(t,oa(e,3))},Fn.get=Ms,Fn.gt=Ho,Fn.gte=Go,Fn.has=function(t,e){return null!=t&&fa(t,e,Ei)},Fn.hasIn=Ts,Fn.head=Ya,Fn.identity=rl,Fn.includes=function(t,e,n,i){t=Xo(t)?t:Ns(t),n=n&&!i?gs(n):0;var r=t.length;return n<0&&(n=mn(r+n,0)),ls(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&De(t,e,n)>-1},Fn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:gs(n);return r<0&&(r=mn(i+r,0)),De(t,e,r)},Fn.inRange=function(t,e,n){return e=ps(e),n===r?(n=e,e=0):n=ps(n),function(t,e,n){return t>=yn(e,n)&&t<mn(e,n)}(t=ms(t),e,n)},Fn.invoke=As,Fn.isArguments=zo,Fn.isArray=qo,Fn.isArrayBuffer=Yo,Fn.isArrayLike=Xo,Fn.isArrayLikeObject=Vo,Fn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Ci(t)==m},Fn.isBuffer=Uo,Fn.isDate=Ko,Fn.isElement=function(t){return ns(t)&&1===t.nodeType&&!as(t)},Fn.isEmpty=function(t){if(null==t)return!0;if(Xo(t)&&(qo(t)||"string"==typeof t||"function"==typeof t.splice||Uo(t)||us(t)||zo(t)))return!t.length;var e=da(t);if(e==k||e==M)return!t.size;if(wa(t))return!Ii(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Fn.isEqual=function(t,e){return Ai(t,e)},Fn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Ai(t,e,r,n):!!i},Fn.isError=Qo,Fn.isFinite=function(t){return"number"==typeof t&&pn(t)},Fn.isFunction=Jo,Fn.isInteger=Zo,Fn.isLength=ts,Fn.isMap=is,Fn.isMatch=function(t,e){return t===e||Pi(t,e,la(e))},Fn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Pi(t,e,la(e),n)},Fn.isNaN=function(t){return rs(t)&&t!=+t},Fn.isNative=function(t){if(ba(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Di(t)},Fn.isNil=function(t){return null==t},Fn.isNull=function(t){return null===t},Fn.isNumber=rs,Fn.isObject=es,Fn.isObjectLike=ns,Fn.isPlainObject=as,Fn.isRegExp=os,Fn.isSafeInteger=function(t){return Zo(t)&&t>=-9007199254740991&&t<=c},Fn.isSet=ss,Fn.isString=ls,Fn.isSymbol=hs,Fn.isTypedArray=us,Fn.isUndefined=function(t){return t===r},Fn.isWeakMap=function(t){return ns(t)&&da(t)==L},Fn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Ci(t)},Fn.join=function(t,e){return null==t?"":gn.call(t,e)},Fn.kebabCase=qs,Fn.last=Ka,Fn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=gs(n))<0?mn(i+a,0):yn(a,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,a):Pe(t,Ie,a,!0)},Fn.lowerCase=Ys,Fn.lowerFirst=Xs,Fn.lt=cs,Fn.lte=ds,Fn.max=function(t){return t&&t.length?pi(t,rl,Si):r},Fn.maxBy=function(t,e){return t&&t.length?pi(t,oa(e,2),Si):r},Fn.mean=function(t){return Be(t,rl)},Fn.meanBy=function(t,e){return Be(t,oa(e,2))},Fn.min=function(t){return t&&t.length?pi(t,rl,Bi):r},Fn.minBy=function(t,e){return t&&t.length?pi(t,oa(e,2),Bi):r},Fn.stubArray=vl,Fn.stubFalse=ml,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=xl,Fn.nth=function(t,e){return t&&t.length?Ni(t,gs(e)):r},Fn.noConflict=function(){return ae._===this&&(ae._=jt),this},Fn.noop=hl,Fn.now=Mo,Fn.pad=function(t,e,n){t=_s(t);var i=(e=gs(e))?an(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Hr(cn(r),n)+t+Hr(un(r),n)},Fn.padEnd=function(t,e,n){t=_s(t);var i=(e=gs(e))?an(t):0;return e&&i<e?t+Hr(e-i,n):t},Fn.padStart=function(t,e,n){t=_s(t);var i=(e=gs(e))?an(t):0;return e&&i<e?Hr(e-i,n)+t:t},Fn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(_s(t).replace(it,""),e||0)},Fn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ma(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=ps(t),e===r?(e=t,t=0):e=ps(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var a=wn();return yn(t+a*(e-t+ee("1e-"+((a+"").length-1))),e)}return Yi(t,e)},Fn.reduce=function(t,e,n){var i=qo(t)?Me:Fe,r=arguments.length<3;return i(t,oa(e,4),n,r,ci)},Fn.reduceRight=function(t,e,n){var i=qo(t)?Te:Fe,r=arguments.length<3;return i(t,oa(e,4),n,r,di)},Fn.repeat=function(t,e,n){return e=(n?ma(t,e,n):e===r)?1:gs(e),Xi(_s(t),e)},Fn.replace=function(){var t=arguments,e=_s(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Fn.result=function(t,e,n){var i=-1,a=(e=mr(e,t)).length;for(a||(a=1,t=r);++i<a;){var o=null==t?r:t[$a(e[i])];o===r&&(i=a,o=n),t=Jo(o)?o.call(t):o}return t},Fn.round=Cl,Fn.runInContext=t,Fn.sample=function(t){return(qo(t)?Kn:Ui)(t)},Fn.size=function(t){if(null==t)return 0;if(Xo(t))return ls(t)?an(t):t.length;var e=da(t);return e==k||e==M?t.size:Ii(t).length},Fn.snakeCase=Vs,Fn.some=function(t,e,n){var i=qo(t)?Oe:nr;return n&&ma(t,e,n)&&(e=r),i(t,oa(e,3))},Fn.sortedIndex=function(t,e){return ir(t,e)},Fn.sortedIndexBy=function(t,e,n){return rr(t,e,oa(n,2))},Fn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=ir(t,e);if(i<n&&No(t[i],e))return i}return-1},Fn.sortedLastIndex=function(t,e){return ir(t,e,!0)},Fn.sortedLastIndexBy=function(t,e,n){return rr(t,e,oa(n,2),!0)},Fn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ir(t,e,!0)-1;if(No(t[n],e))return n}return-1},Fn.startCase=Us,Fn.startsWith=function(t,e,n){return t=_s(t),n=null==n?0:oi(gs(n),0,t.length),e=sr(e),t.slice(n,n+e.length)==e},Fn.subtract=Sl,Fn.sum=function(t){return t&&t.length?We(t,rl):0},Fn.sumBy=function(t,e){return t&&t.length?We(t,oa(e,2)):0},Fn.template=function(t,e,n){var i=Fn.templateSettings;n&&ma(t,e,n)&&(e=r),t=_s(t),e=ks({},e,i,Kr);var a,o,s=ks({},e.imports,i.imports,Kr),l=Ps(s),h=ze(s,l),u=0,c=e.interpolate||_t,d="__p += '",f=St((e.escape||_t).source+"|"+c.source+"|"+(c===Q?ct:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qt+"]")+"\n";t.replace(f,(function(e,n,i,r,s,l){return i||(i=r),d+=t.slice(u,l).replace(bt,Qe),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),d+="';\n";var g=Dt.call(e,"variable")&&e.variable;if(g){if(ht.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(H,""):d).replace(G,"$1").replace(z,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Zs((function(){return kt(l,p+"return "+d).apply(r,h)}));if(v.source=d,Qo(v))throw v;return v},Fn.times=function(t,e){if((t=gs(t))<1||t>c)return[];var n=f,i=yn(t,f);e=oa(e),t-=f;for(var r=Ne(i,e);++n<t;)e(n);return r},Fn.toFinite=ps,Fn.toInteger=gs,Fn.toLength=vs,Fn.toLower=function(t){return _s(t).toLowerCase()},Fn.toNumber=ms,Fn.toSafeInteger=function(t){return t?oi(gs(t),-9007199254740991,c):0===t?t:0},Fn.toString=_s,Fn.toUpper=function(t){return _s(t).toUpperCase()},Fn.trim=function(t,e,n){if((t=_s(t))&&(n||e===r))return He(t);if(!t||!(e=sr(e)))return t;var i=on(t),a=on(e);return _r(i,Ye(i,a),Xe(i,a)+1).join("")},Fn.trimEnd=function(t,e,n){if((t=_s(t))&&(n||e===r))return t.slice(0,sn(t)+1);if(!t||!(e=sr(e)))return t;var i=on(t);return _r(i,0,Xe(i,on(e))+1).join("")},Fn.trimStart=function(t,e,n){if((t=_s(t))&&(n||e===r))return t.replace(it,"");if(!t||!(e=sr(e)))return t;var i=on(t);return _r(i,Ye(i,on(e))).join("")},Fn.truncate=function(t,e){var n=30,i="...";if(es(e)){var a="separator"in e?e.separator:a;n="length"in e?gs(e.length):n,i="omission"in e?sr(e.omission):i}var o=(t=_s(t)).length;if(Je(t)){var s=on(t);o=s.length}if(n>=o)return t;var l=n-an(i);if(l<1)return i;var h=s?_r(s,0,l).join(""):t.slice(0,l);if(a===r)return h+i;if(s&&(l+=h.length-l),os(a)){if(t.slice(l).search(a)){var u,c=h;for(a.global||(a=St(a.source,_s(dt.exec(a))+"g")),a.lastIndex=0;u=a.exec(c);)var d=u.index;h=h.slice(0,d===r?l:d)}}else if(t.indexOf(sr(a),l)!=l){var f=h.lastIndexOf(a);f>-1&&(h=h.slice(0,f))}return h+i},Fn.unescape=function(t){return(t=_s(t))&&X.test(t)?t.replace(q,ln):t},Fn.uniqueId=function(t){var e=++Rt;return _s(t)+e},Fn.upperCase=Ks,Fn.upperFirst=Qs,Fn.each=_o,Fn.eachRight=bo,Fn.first=Ya,ll(Fn,(yl={},_i(Fn,(function(t,e){Dt.call(Fn.prototype,e)||(yl[e]=t)})),yl),{chain:!1}),Fn.VERSION="4.17.21",_e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Fn[t].placeholder=Fn})),_e(["drop","take"],(function(t,e){Gn.prototype[t]=function(n){n=n===r?1:mn(gs(n),0);var i=this.__filtered__&&!e?new Gn(this):this.clone();return i.__filtered__?i.__takeCount__=yn(n,i.__takeCount__):i.__views__.push({size:yn(n,f),type:t+(i.__dir__<0?"Right":"")}),i},Gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_e(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oa(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),_e(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Gn.prototype[t]=function(){return this[n](1).value()[0]}})),_e(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Gn.prototype[t]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(rl)},Gn.prototype.find=function(t){return this.filter(t).head()},Gn.prototype.findLast=function(t){return this.reverse().find(t)},Gn.prototype.invokeMap=Vi((function(t,e){return"function"==typeof t?new Gn(this):this.map((function(n){return Oi(n,t,e)}))})),Gn.prototype.reject=function(t){return this.filter(Bo(oa(t)))},Gn.prototype.slice=function(t,e){t=gs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Gn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=gs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gn.prototype.toArray=function(){return this.take(f)},_i(Gn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),a=Fn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);a&&(Fn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,l=e instanceof Gn,h=s[0],u=l||qo(e),c=function(t){var e=a.apply(Fn,Ee([t],s));return i&&d?e[0]:e};u&&n&&"function"==typeof h&&1!=h.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=l&&!f;if(!o&&u){e=g?e:new Gn(this);var v=t.apply(e,s);return v.__actions__.push({func:po,args:[c],thisArg:r}),new Hn(v,d)}return p&&g?t.apply(this,s):(v=this.thru(c),p?i?v.value()[0]:v.value():v)})})),_e(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Tt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Fn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(qo(r)?r:[],t)}return this[n]((function(n){return e.apply(qo(n)?n:[],t)}))}})),_i(Gn.prototype,(function(t,e){var n=Fn[e];if(n){var i=n.name+"";Dt.call(Ln,i)||(Ln[i]=[]),Ln[i].push({name:e,func:n})}})),Ln[jr(r,2).name]=[{name:"wrapper",func:r}],Gn.prototype.clone=function(){var t=new Gn(this.__wrapped__);return t.__actions__=Mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mr(this.__views__),t},Gn.prototype.reverse=function(){if(this.__filtered__){var t=new Gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qo(t),i=e<0,r=n?t.length:0,a=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=yn(e,t+o);break;case"takeRight":t=mn(t,e-o)}}return{start:t,end:e}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,h=i?s:o-1,u=this.__iteratees__,c=u.length,d=0,f=yn(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return dr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,v=t[h+=e];++g<c;){var m=u[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue t;break t}}p[d++]=v}return p},Fn.prototype.at=go,Fn.prototype.chain=function(){return fo(this)},Fn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Fn.prototype.plant=function(t){for(var e,n=this;n instanceof Nn;){var i=Fa(n);i.__index__=0,i.__values__=r,e?a.__wrapped__=i:e=i;var a=i;n=n.__wrapped__}return a.__wrapped__=t,e},Fn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gn){var e=t;return this.__actions__.length&&(e=new Gn(this)),(e=e.reverse()).__actions__.push({func:po,args:[to],thisArg:r}),new Hn(e,this.__chain__)}return this.thru(to)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,oe&&(Fn.prototype[oe]=function(){return this}),Fn}();ae._=hn,(i=function(){return hn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},1747:function(t,e,n){var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var t,e=document,n=window,i=Array.prototype,r=i.slice,a=i.filter,o=i.push,s=function(){},l=function(t){return"function"==typeof t&&t.call},h=function(t){return"string"==typeof t},u=/^#[\w-]*$/,c=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(t,n){return n=n||e,c.test(t)?n.getElementsByClassName(t.slice(1)):f.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}function g(n){if(!t){var i=(t=e.implementation.createHTMLDocument(null)).createElement("base");i.href=e.location.href,t.head.appendChild(i)}return t.body.innerHTML=n,t.body.childNodes}function v(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function m(t,i){if(!t)return this;if(t.cash&&t!==n)return t;var r,a=t,o=0;if(h(t))a=u.test(t)?e.getElementById(t.slice(1)):d.test(t)?g(t):p(t,i);else if(l(t))return v(t),this;if(!a)return this;if(a.nodeType||a===n)this[0]=a,this.length=1;else for(r=this.length=a.length;o<r;o++)this[o]=a[o];return this}function y(t,e){return new m(t,e)}var _=y.fn=y.prototype=m.prototype={cash:!0,length:0,push:o,splice:i.splice,map:i.map,init:m};function b(t,e){for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}function w(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function k(t){return h(t)?w:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function x(t){return y(r.call(t).filter((function(t,e,n){return n.indexOf(t)===e})))}Object.defineProperty(_,"constructor",{value:y}),y.parseHTML=g,y.noop=s,y.isFunction=l,y.isString=h,y.extend=_.extend=function(t){t=t||{};var e=r.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var a in e[i])e[i].hasOwnProperty(a)&&(t[a]=e[i][a]);return t},y.extend({merge:function(t,e){for(var n=+e.length,i=t.length,r=0;r<n;i++,r++)t[i]=e[r];return t.length=i,t},each:b,matches:w,unique:x,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var C=y.uid="_cash"+Date.now();function S(t){return t[C]=t[C]||{}}function E(t,e,n){return S(t)[e]=n}function M(t,e){var n=S(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:y(t).attr("data-"+e)),n[e]}_.extend({data:function(t,e){if(h(t))return void 0===e?M(this[0],t):this.each((function(n){return E(n,t,e)}));for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each((function(e){return function(t,e){var n=S(t);n?delete n[e]:t.dataset?delete t.dataset[e]:y(t).removeAttr("data-"+name)}(e,t)}))}});var T=/\S+/g;function O(t){return h(t)&&t.match(T)}function L(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function A(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function P(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}_.extend({addClass:function(t){var e=O(t);return e?this.each((function(t){var n=" "+t.className+" ";b(e,(function(e){A(t,e,n)}))})):this},attr:function(t,e){if(t){if(h(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e}));for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=O(t);return n&&n.length&&this.each((function(t){return!(e=L(t,n[0]))})),e},prop:function(t,e){if(h(t))return void 0===e?this[0][t]:this.each((function(n){n[t]=e}));for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each((function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]}))},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=O(t);return e?this.each((function(t){b(e,(function(e){P(t,e)}))})):this},removeProp:function(t){return this.each((function(e){delete e[t]}))},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=O(t);return n?this.each((function(t){var e=" "+t.className+" ";b(n,(function(n){L(t,n)?P(t,n):A(t,n,e)}))})):this}}),_.extend({add:function(t,e){return x(y.merge(this,y(t,e)))},each:function(t){return b(this,t),this},eq:function(t){return y(this.get(t))},filter:function(t){if(!t)return this;var e=l(t)?t:k(t);return y(a.call(this,(function(n){return e(n,t)})))},first:function(){return this.eq(0)},get:function(t){return void 0===t?r.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?y(t)[0]:this[0],n=t?this:y(e).parent().children();return r.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var D,R,I,B,$=(I=/(?:^\w|[A-Z]|\b\w)/g,B=/[\s-_]+/g,function(t){return t.replace(I,(function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()})).replace(B,"")}),j=(D={},R=document.createElement("div").style,function(t){if(t=$(t),D[t])return D[t];var e=t.charAt(0).toUpperCase()+t.slice(1);return b((t+" "+["webkit","moz","ms","o"].join(e+" ")+e).split(" "),(function(e){if(e in R)return D[e]=t=D[t]=e,!1})),D[t]});function F(t,e){return parseInt(n.getComputedStyle(t[0],null)[e],10)||0}function W(t,e,n){var i,r=M(t,"_cashEvents"),a=r&&r[e];a&&(n?(t.removeEventListener(e,n),(i=a.indexOf(n))>=0&&a.splice(i,1)):(b(a,(function(n){t.removeEventListener(e,n)})),a=[]))}function N(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function H(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return function(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}(t);case"select-multiple":return function(t){var e=[];return b(t.options,(function(t){t.selected&&e.push(t.value)})),e.length?e:null}(t);case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function G(t,e,n){var i=h(e);i||!e.length?b(t,i?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,i){return function(t,e,n){if(n){var i=t.childNodes[0];t.insertBefore(e,i)}else t.appendChild(e)}(t,0===i?e:e.cloneNode(!0),n)}):b(e,(function(e){return G(t,e,n)}))}y.prefixedProp=j,y.camelCase=$,_.extend({css:function(t,e){if(h(t))return t=j(t),arguments.length>1?this.each((function(n){return n.style[t]=e})):n.getComputedStyle(this[0])[t];for(var i in t)this.css(i,t[i]);return this}}),b(["Width","Height"],(function(t){var e=t.toLowerCase();_[e]=function(){return this[0].getBoundingClientRect()[e]},_["inner"+t]=function(){return this[0]["client"+t]},_["outer"+t]=function(e){return this[0]["offset"+t]+(e?F(this,"margin"+("Width"===t?"Left":"Top"))+F(this,"margin"+("Width"===t?"Right":"Bottom")):0)}})),_.extend({off:function(t,e){return this.each((function(n){return W(n,t,e)}))},on:function(t,e,n,i){var r;if(!h(t)){for(var a in t)this.on(a,e,t[a]);return this}return l(e)&&(n=e,e=null),"ready"===t?(v(n),this):(e&&(r=n,n=function(t){for(var n=t.target;!w(n,e);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,t)}),this.each((function(e){var r=n;i&&(r=function(){n.apply(this,arguments),W(e,t,r)}),function(t,e,n){var i=M(t,"_cashEvents")||E(t,"_cashEvents",{});i[e]=i[e]||[],i[e].push(n),t.addEventListener(e,n)}(e,t,r)})))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:v,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each((function(t){return t.dispatchEvent(n)}))}}}),_.extend({serialize:function(){var t="";return b(this[0].elements||this,(function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=H(e);null!==i&&b(i,(function(e){t+=N(n,e)}));break;default:var r=H(e);null!==r&&(t+=N(n,r))}}})),t.substr(1)},val:function(t){return void 0===t?H(this[0]):this.each((function(e){return e.value=t}))}}),_.extend({after:function(t){return y(t).insertAfter(this),this},append:function(t){return G(this,t),this},appendTo:function(t){return G(y(t),this),this},before:function(t){return y(t).insertBefore(this),this},clone:function(){return y(this.map((function(t){return t.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each((function(t){return t.innerHTML=e}))},insertAfter:function(t){var e=this;return y(t).each((function(t,n){var i=t.parentNode,r=t.nextSibling;e.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),r)}))})),this},insertBefore:function(t){var e=this;return y(t).each((function(t,n){var i=t.parentNode;e.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)}))})),this},prepend:function(t){return G(this,t,!0),this},prependTo:function(t){return G(y(t),this,!0),this},remove:function(){return this.each((function(t){if(t.parentNode)return t.parentNode.removeChild(t)}))},text:function(t){return void 0===t?this[0].textContent:this.each((function(e){return e.textContent=t}))}});var z=e.documentElement;return _.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+n.pageYOffset-z.clientTop,left:t.left+n.pageXOffset-z.clientLeft}},offsetParent:function(){return y(this[0].offsetParent)}}),_.extend({children:function(t){var e=[];return this.each((function(t){o.apply(e,t.children)})),e=x(e),t?e.filter((function(e){return w(e,t)})):e},closest:function(t){return!t||this.length<1?y():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=k(t);return this.each((function(i){return!(e=n(i,t))})),e},find:function(t){if(!t||t.nodeType)return y(t&&this.has(t).length?t:null);var e=[];return this.each((function(n){o.apply(e,p(t,n))})),x(e)},has:function(t){var e=h(t)?function(e){return 0!==p(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return y(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=k(t);return this.filter((function(n){return!e(n,t)}))},parent:function(){var t=[];return this.each((function(e){e&&e.parentNode&&t.push(e.parentNode)})),x(t)},parents:function(t){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==e.body.parentNode;)n=n.parentNode,(!t||t&&w(n,t))&&i.push(n)})),x(i)},prev:function(){return y(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter((function(t){return t!==n}))}}),y}();var h=function(){function t(e,n,i){l(this,t),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=e.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return a(t,null,[{key:"init",value:function(t,e,n){var i=null;if(e instanceof Element)i=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var r=[],a=0;a<e.length;a++)r.push(new t(e[a],n));i=r}return i}}]),t}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),void 0===(i=function(){return M}.apply(e,[]))||(t.exports=i),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1,document.addEventListener("keydown",(function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(t){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(t){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(i){if(t.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var a=this.first()[0][n];return a[i].apply(a,r)}return this.each((function(){var t=this[n];t[i].apply(t,r)}))}if("object"==typeof i||!i)return t.init(this,arguments[0]),this;jQuery.error("Method "+i+" does not exist on jQuery."+e)}},M.AutoInit=function(t){var e=t||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i},M.checkWithinContainer=function(t,e,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),a=t===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,o=t.scrollLeft,s=t.scrollTop,l=e.left-o,h=e.top-s;return(l<r.left+n||l<n)&&(i.left=!0),(l+e.width>r.right-n||l+e.width>window.innerWidth-n)&&(i.right=!0),(h<r.top+n||h<n)&&(i.top=!0),(h+e.height>a-n||h+e.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(t,e,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},a="visible"===getComputedStyle(e).overflow,o=e.getBoundingClientRect(),s=Math.min(o.height,window.innerHeight),l=Math.min(o.width,window.innerWidth),h=t.getBoundingClientRect(),u=e.scrollLeft,c=e.scrollTop,d=n.left-u,f=n.top-c,p=n.top+h.height-c;return r.spaceOnRight=a?window.innerWidth-(h.left+n.width):l-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=a?h.right-n.width:d-n.width+h.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=a?window.innerHeight-(h.top+n.height+i):s-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=a?h.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var u=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,n){var i=void 0,r=void 0,a=void 0,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:u(),o=null,a=t.apply(i,r),i=r=null};return function(){var h=u();s||!1!==n.leading||(s=h);var c=e-(h-s);return i=this,r=arguments,c<=0?(clearTimeout(o),o=null,s=h,a=t.apply(i,r),i=r=null):o||!1===n.trailing||(o=setTimeout(l,c)),a}};var c={scope:{}};c.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},c.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==n.g&&null!=n.g?n.g:t},c.global=c.getGlobal(this),c.SYMBOL_PREFIX="jscomp_symbol_",c.initSymbol=function(){c.initSymbol=function(){},c.global.Symbol||(c.global.Symbol=c.Symbol)},c.symbolCounter_=0,c.Symbol=function(t){return c.SYMBOL_PREFIX+(t||"")+c.symbolCounter_++},c.initSymbolIterator=function(){c.initSymbol();var t=c.global.Symbol.iterator;t||(t=c.global.Symbol.iterator=c.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&c.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return c.arrayIterator(this)}}),c.initSymbolIterator=function(){}},c.arrayIterator=function(t){var e=0;return c.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},c.iteratorPrototype=function(t){return c.initSymbolIterator(),(t={next:t})[c.global.Symbol.iterator]=function(){return this},t},c.array=c.array||{},c.iteratorFromArray=function(t,e){c.initSymbolIterator(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},c.polyfill=function(t,e,n,i){if(e){for(n=c.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&c.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},c.polyfill("Array.prototype.keys",(function(t){return t||function(){return c.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var d=this;M.anime=function(){function t(t){if(!A.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,i=2<=arguments.length?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in t){var o=t[a];e.call(i,o,a,t)&&r.push(o)}return r}function n(t){return t.reduce((function(t,e){return t.concat(A.arr(e)?n(e):e)}),[])}function i(e){return A.arr(e)?e:(A.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some((function(t){return t===e}))}function a(t){var e,n={};for(e in t)n[e]=t[e];return n}function o(t,e){var n,i=a(t);for(n in t)i[n]=e.hasOwnProperty(n)?e[n]:t[n];return i}function s(t,e){var n,i=a(t);for(n in e)i[n]=A.und(t[n])?e[n]:t[n];return i}function l(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function h(t,e){return A.fnc(t)?t(e.target,e.id,e.total):t}function u(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function c(t,e){return A.dom(t)&&r(L,e)?"transform":A.dom(t)&&(t.getAttribute(e)||A.svg(t)&&t[e])?"attribute":A.dom(t)&&"transform"!==e&&u(t,e)?"css":null!=t[e]?"object":void 0}function f(t,n){switch(c(t,n)){case"transform":return function(t,n){var i=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(n);if(i=-1<n.indexOf("scale")?1:0+i,!(t=t.style.transform))return i;for(var r=[],a=[],o=[],s=/(\w+)\((.+?)\)/g;r=s.exec(t);)a.push(r[1]),o.push(r[2]);return(t=e(o,(function(t,e){return a[e]===n}))).length?t[0]:i}(t,n);case"css":return u(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0}function p(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=l(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+i;case"-":return e-t+i;case"*":return e*t+i}}function g(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v(t){t=t.points;for(var e,n=0,i=0;i<t.numberOfItems;i++){var r=t.getItem(i);0<i&&(n+=g(e,r)),e=r}return n}function m(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return g({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return v(t);case"polygon":var e=t.points;return v(t)+g(e.getItem(e.numberOfItems-1),e.getItem(0))}}function y(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var i=n(),r=n(-1),a=n(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(a.y-r.y,a.x-r.x)/Math.PI}}function _(t,e){var n,i=/-?\d*\.?\d+/g;if(n=A.pth(t)?t.totalLength:t,A.col(n))if(A.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=A.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):A.hsl(n)?function(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;if(n=n[4]||1,0==i)r=i=t=r;else{var a=.5>r?r*(1+i):r+i-r*i,o=2*r-a;r=e(o,a,t+1/3),i=e(o,a,t),t=e(o,a,t-1/3)}return"rgba("+255*r+","+255*i+","+255*t+","+n+")"}(n):void 0;else r=(r=l(n))?n.substr(0,n.length-r.length):n,n=e&&!/\s/g.test(n)?r+e:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:A.str(t)||e?n.split(i):[]}}function b(t){return e(t=t?n(A.arr(t)?t.map(i):i(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function w(t,e){var n=a(e);if(A.arr(t)){var r=t.length;2!==r||A.obj(t[0])?A.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}return i(t).map((function(t,n){return n=n?0:e.delay,t=A.obj(t)&&!A.pth(t)?t:{value:t},A.und(t.delay)&&(t.delay=n),t})).map((function(t){return s(t,n)}))}function k(t,e){var n;return t.tweens.map((function(i){var r=(i=function(t,e){var n,i={};for(n in t){var r=h(t[n],e);A.arr(r)&&1===(r=r.map((function(t){return h(t,e)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,e)).value,a=f(e.target,t.name),o=n?n.to.original:a,s=(o=A.arr(r)?r[0]:o,p(A.arr(r)?r[1]:r,o));return a=l(s)||l(o)||l(a),i.from=_(o,a),i.to=_(s,a),i.start=n?n.end:t.offset,i.end=i.start+i.delay+i.duration,i.easing=function(t){return A.arr(t)?P.apply(this,t):D[t]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=A.pth(r),i.isColor=A.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function x(t,i){return e(n(t.map((function(t){return i.map((function(e){var n=c(t.target,e.name);if(n){var i=k(e,t);e={type:n,property:e.name,animatable:t,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else e=void 0;return e}))}))),(function(t){return!A.und(t)}))}function C(t,e,n,i){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):r?i.delay:n.offset+i.delay+i.duration}function S(t){var e,n=o(T,t),i=o(O,t),r=function(t){var e=b(t);return e.map((function(t,n){return{target:t,id:n,total:e.length}}))}(t.targets),a=[],l=s(n,i);for(e in t)l.hasOwnProperty(e)||"targets"===e||a.push({name:e,offset:l.offset,tweens:w(t[e],i)});return s(n,{children:[],animatables:r,animations:t=x(r,a),duration:C("duration",t,n,i),delay:C("delay",t,n,i)})}function E(t){function n(){return window.Promise&&new Promise((function(t){return d=t}))}function i(t){return p.reversed?p.duration-t:t}function r(t){for(var n=0,i={},r=p.animations,a=r.length;n<a;){var o=r[n],s=o.animatable,l=(h=o.tweens)[f=h.length-1];f&&(l=e(h,(function(e){return t<e.end}))[0]||l);for(var h=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,c=isNaN(h)?1:l.easing(h,l.elasticity),d=(h=l.to.strings,l.round),f=[],g=void 0,v=(g=l.to.numbers.length,0);v<g;v++){var m=void 0,_=(m=l.to.numbers[v],l.from.numbers[v]);m=l.isPath?y(l.value,c*m):_+c*(m-_),d&&(l.isColor&&2<v||(m=Math.round(m*d)/d)),f.push(m)}if(l=h.length)for(g=h[0],c=0;c<l;c++)d=h[c+1],v=f[c],isNaN(v)||(g=d?g+(v+d):g+(v+" "));else g=f[0];R[o.type](s.target,o.property,g,i,s.id),o.currentValue=g,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)M||(M=u(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[M]=i[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function a(t){p[t]&&p[t](p)}function o(){p.remaining&&!0!==p.remaining&&p.remaining--}function s(t){var e=p.duration,s=p.offset,u=s+p.delay,g=p.currentTime,v=p.reversed,m=i(t);if(p.children.length){var y=p.children,_=y.length;if(m>=p.currentTime)for(var b=0;b<_;b++)y[b].seek(m);else for(;_--;)y[_].seek(m)}(m>=u||!e)&&(p.began||(p.began=!0,a("begin")),a("run")),m>s&&m<e?r(m):(m<=s&&0!==g&&(r(0),v&&o()),(m>=e&&g!==e||!e)&&(r(e),v||o())),a("update"),t>=e&&(p.remaining?(h=l,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,a("complete"),"Promise"in window&&(d(),f=n()))),c=0)}t=void 0===t?{}:t;var l,h,c=0,d=null,f=n(),p=S(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){l=t,h||(h=l),s((c+l-h)*E.speed)},p.seek=function(t){s(i(t))},p.pause=function(){var t=I.indexOf(p);-1<t&&I.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,h=0,c=i(p.currentTime),I.push(p),B||$())},p.reverse=function(){p.reversed=!p.reversed,h=0,c=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var M,T={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},O={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},L="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),A={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return A.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||A.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return A.hex(t)||A.rgb(t)||A.hsl(t)}},P=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,i,r){if(0<=e&&1>=e&&0<=i&&1>=i){var a=new Float32Array(11);if(e!==n||i!==r)for(var o=0;11>o;++o)a[o]=t(.1*o,e,i);return function(o){if(e===n&&i===r)return o;if(0===o)return 0;if(1===o)return 1;for(var s=0,l=1;10!==l&&a[l]<=o;++l)s+=.1;--l,l=s+(o-a[l])/(a[l+1]-a[l])*.1;var h=3*(1-3*i+3*e)*l*l+2*(3*i-6*e)*l+3*e;if(.001<=h){for(s=0;4>s&&0!=(h=3*(1-3*i+3*e)*l*l+2*(3*i-6*e)*l+3*e);++s){var u=t(l,e,i)-o;l-=u/h}o=l}else if(0===h)o=l;else{l=s,s+=.1;var c=0;do{0<(h=t(u=l+(s-l)/2,e,i)-o)?s=u:l=u}while(1e-7<Math.abs(h)&&10>++c);o=u}return t(o,n,r)}}}}(),D=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},r={linear:P(.25,.25,.75,.75)},a={};for(e in i)a.type=e,i[a.type].forEach(function(t){return function(e,i){r["ease"+t.type+n[i]]=A.fnc(e)?e:P.apply(d,e)}}(a)),a={type:a.type};return r}(),R={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){i[r]||(i[r]=[]),i[r].push(e+"("+n+")")}},I=[],B=0,$=function(){function t(){B=requestAnimationFrame(e)}function e(e){var n=I.length;if(n){for(var i=0;i<n;)I[i]&&I[i].tick(e),i++;t()}else cancelAnimationFrame(B),B=0}return t}();return E.version="2.2.0",E.speed=1,E.running=I,E.remove=function(t){t=b(t);for(var e=I.length;e--;)for(var n=I[e],i=n.animations,a=i.length;a--;)r(t,i[a].animatable.target)&&(i.splice(a,1),i.length||n.pause())},E.getValue=f,E.path=function(e,n){var i=A.str(e)?t(e)[0]:e,r=n||100;return function(t){return{el:i,property:t,totalLength:m(i)*(r/100)}}},E.setDashoffset=function(t){var e=m(t);return t.setAttribute("stroke-dasharray",e),e},E.bezier=P,E.easings=D,E.timeline=function(t){var e=E(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),i(n).forEach((function(n){var i=s(n,o(O,t||{}));i.targets=i.targets||t.targets,n=e.duration;var r=i.offset;i.autoplay=!1,i.direction=e.direction,i.offset=A.und(r)?n:p(r,n),e.began=!0,e.completed=!0,e.seek(i.offset),(i=E(i)).began=!0,i.completed=!0,i.duration>n&&(e.duration=i.duration),e.children.push(i)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},E.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},E}(),function(t,e){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));i.el.M_Collapsible=i,i.options=t.extend({},h.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var r=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?r.first().css("display","block"):r.css("display","block"),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.removeEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(e){var n=t(e.target).closest(".collapsible-header");if(e.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),a=i.children("li"),o=r[0].classList.contains("active"),s=a.index(r);o?this.close(s):this.open(s)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var a=r.css("padding-top"),o=r.css("padding-bottom"),s=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),e({targets:r[0],height:s,paddingTop:a,paddingBottom:o,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css("overflow","hidden"),e({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(e){var i=r.index(t(e));n.close(i)}))}i[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return n}}]),h}(h);M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Dropdown=i,h._dropdowns.push(i),i.id=M.getIdFromTrigger(e),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=t(i.dropdownEl),i.options=t.extend({},h.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?t(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),h._dropdowns.splice(h._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var n=e.toElement||e.relatedTarget,i=!!t(n).closest(".dropdown-content").length,r=!1,a=t(n).closest(".dropdown-trigger");a.length&&a[0].M_Dropdown&&a[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(e){var n=this,i=t(e.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){t(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(e){if("function"==typeof this.options.onItemClick){var n=t(e.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=t(n).find("a, button").first();i.length?i[0].click():n&&n.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var r=e.which===M.keys.ARROW_DOWN?1:-1,a=this.focusedIndex,o=!1;do{if(a+=r,this.dropdownEl.children[a]&&-1!==this.dropdownEl.children[a].tabIndex){o=!0;break}}while(a<this.dropdownEl.children.length&&a>=0);o&&(this.focusedIndex=a,this._focusFocusedItem())}var s=String.fromCharCode(e.which).toLowerCase();if(s&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(s);var l=this.filterQuery.join(""),h=t(this.dropdownEl).find("li").filter((function(e){return 0===t(e).text().toLowerCase().indexOf(l)}))[0];h&&(this.focusedIndex=t(h).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each((function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),n=e.height,i=e.width,r=t.left-e.left,a=t.top-e.top,o={left:r,top:a,height:n,width:i},s=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,l=M.checkPossibleAlignments(this.el,s,o,this.options.coverTrigger?0:t.height),h="top",u=this.options.alignment;if(a+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,l.top||(l.bottom?h="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(h="bottom",n+=l.spaceOnTop,a-=l.spaceOnTop):n+=l.spaceOnBottom)),!l[u]){var c="left"===u?"right":"left";l[c]?u=c:l.spaceOnLeft>l.spaceOnRight?(u="right",i+=l.spaceOnLeft,r-=l.spaceOnLeft):(u="left",i+=l.spaceOnRight)}return"bottom"===h&&(a=a-e.height+(this.options.coverTrigger?t.height:0)),"right"===u&&(r=r-e.width+t.width),{x:r,y:a,verticalAlignment:h,horizontalAlignment:u,height:n,width:i}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){t.options.autoFocus&&t.dropdownEl.focus(),"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return n}}]),h}(h);i._dropdowns=[],M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Modal=i,i.options=t.extend({},h.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=t('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,h._count++,i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){h._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===h._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===h._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==h._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(t.extend(i,{bottom:0,opacity:1}),e(i)):(t.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(i))}},{key:"_animateOut",value:function(){var n=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(t.extend(i,{bottom:"-100%",opacity:0}),e(i)):(t.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(i))}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,h._modalsOpen++,this._nthModalOpened=h._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*h._modalsOpen,this.el.style.zIndex=1e3+2*h._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,h._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===h._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return n}}]),h}(h);i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Materialbox=i,i.options=t.extend({},h.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=t("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,t(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var n=t(e);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),e(n)}},{key:"_animateImageOut",value:function(){var t=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,a=this.originalWidth/this.windowWidth,o=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,a>o?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return n}}]),h}(h);M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Parallax=r,r.options=t.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){this.complete&&t(this).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return s(i,n),a(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=this.$el.height()>0?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,n=this.$el.offset().top+t,i=this.$el.offset().top,r=M.getDocumentScrollTop(),a=window.innerHeight,o=e*((r+a-i)/(t+a));this._enabled?n>r&&i<r+a&&(this.$img[0].style.transform="translate3D(-50%, "+o+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),i}(h);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Tabs=i,i.options=t.extend({},h.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var n=this,i=t(e.target).closest("li.tab"),r=t(e.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))e.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var a=this.$content;this.$activeTabLink=r,this.$content=t(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var o=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),a.length&&!a.is(this.$content)&&(a[0].style.display="none",a.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(o),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout((function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=t();this.$tabLinks.each((function(e){var i=t(M.escapeHash(e.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=t('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=e.index;e.index=t(n).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(i),"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var n=0,i=0;this.index-t>=0?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(r)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return n}}]),h}(h);M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Tooltip=i,i.options=t.extend({},h.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(e){this.isOpen||(e=void 0===e||void 0,this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(e))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){t.isHovered||t.isFocused||t._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(e.isHovered||e.isFocused||t)&&e._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,n=this.el,i=this.tooltipEl,r=n.offsetHeight,a=n.offsetWidth,o=i.offsetHeight,s=i.offsetWidth,l=this.options.margin,h=void 0,u=void 0;this.xMovement=0,this.yMovement=0,h=n.getBoundingClientRect().top+M.getDocumentScrollTop(),u=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(h+=-o-l,u+=a/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(h+=r/2-o/2,u+=a+l,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(h+=r/2-o/2,u+=-s-l,this.xMovement=-this.options.transitionMovement):(h+=r+l,u+=a/2-s/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(u,h,s,o),t(i).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,i){var r=M.getDocumentScrollLeft(),a=M.getDocumentScrollTop(),o=t-r,s=e-a,l={left:o,top:s,width:n,height:i},h=this.options.margin+this.options.transitionMovement,u=M.checkWithinContainer(document.body,l,h);return u.left?o=h:u.right&&(o-=o+n-window.innerWidth),u.top?s=h:u.bottom&&(s-=s+i-window.innerHeight),{x:o+r,y:s+a}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return n}}]),h}(h);M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},n=document.querySelectorAll.bind(document);function i(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}var r={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,a=document.createElement("div");a.className="waves-ripple",n.appendChild(a);var o,s,l,h,u,c=(h={top:0,left:0},s=(u=(o=n)&&o.ownerDocument).documentElement,void 0!==o.getBoundingClientRect&&(h=o.getBoundingClientRect()),l=function(t){return null!==(e=t)&&e===e.window?t:9===t.nodeType&&t.defaultView;var e}(u),{top:h.top+l.pageYOffset-s.clientTop,left:h.left+l.pageXOffset-s.clientLeft}),d=t.pageY-c.top,f=t.pageX-c.left,p="scale("+n.clientWidth/100*10+")";"touches"in t&&(d=t.touches[0].pageY-c.top,f=t.touches[0].pageX-c.left),a.setAttribute("data-hold",Date.now()),a.setAttribute("data-scale",p),a.setAttribute("data-x",f),a.setAttribute("data-y",d);var g={top:d+"px",left:f+"px"};a.className=a.className+" waves-notransition",a.setAttribute("style",i(g)),a.className=a.className.replace("waves-notransition",""),g["-webkit-transform"]=p,g["-moz-transform"]=p,g["-ms-transform"]=p,g["-o-transform"]=p,g.transform=p,g.opacity="1",g["-webkit-transition-duration"]=r.duration+"ms",g["-moz-transition-duration"]=r.duration+"ms",g["-o-transition-duration"]=r.duration+"ms",g["transition-duration"]=r.duration+"ms",g["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",g["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",g["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",g["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",a.setAttribute("style",i(g))},hide:function(t){a.touchup(t);var e=this,n=(e.clientWidth,null),o=e.getElementsByClassName("waves-ripple");if(!(o.length>0))return!1;var s=(n=o[o.length-1]).getAttribute("data-x"),l=n.getAttribute("data-y"),h=n.getAttribute("data-scale"),u=350-(Date.now()-Number(n.getAttribute("data-hold")));u<0&&(u=0),setTimeout((function(){var t={top:l+"px",left:s+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":h,"-moz-transform":h,"-ms-transform":h,"-o-transform":h,transform:h};n.setAttribute("style",i(t)),setTimeout((function(){try{e.removeChild(n)}catch(t){return!1}}),r.duration)}),u)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var a=n.getAttribute("style");a||(a=""),r.setAttribute("style",a),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},a={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?a.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout((function(){a.touches>0&&(a.touches-=1)}),500):"mousedown"===t.type&&a.touches>0&&(e=!1),e},touchup:function(t){a.allowEvent(t)}};function o(e){var n=function(t){if(!1===a.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}(e);null!==n&&(r.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(r.duration=e.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",o,!1),document.body.addEventListener("mousedown",o,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(r.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",o,!1),e.addEventListener("mousedown",o,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",(function(){e.displayEffect()}),!1)}(window),function(t,e){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(e){l(this,i),this.options=t.extend({},i.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=t(n),this._animateIn(),this._setTimer()}return a(i,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,i._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()}),20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),i._toasts.splice(i._toasts.indexOf(t),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",i._onDragStart),t.addEventListener("touchmove",i._onDragMove),t.addEventListener("touchend",i._onDragEnd),t.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(t),i._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),t(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast")[0].M_Toast;n.panning=!0,i._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(e),n.time=Date.now(),n.xPos=i._xPos(e)}}},{key:"_onDragMove",value:function(t){if(i._draggedToast){t.preventDefault();var e=i._draggedToast;e.deltaX=Math.abs(e.xPos-i._xPos(t)),e.xPos=i._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,r=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var t=i._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>n||t.velocityX>1?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in i._toasts)i._toasts[t].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(t){return new i(t)}}(cash,M.anime),function(t,e){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=t.extend({},h.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),h._sidenavs.push(i),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=h._sidenavs.indexOf(this);t>=0&&h._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===h._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===h._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-trigger");if(e.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),e.preventDefault()}}},{key:"_startDrag",value:function(t){var n=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var i=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var i=-e;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(n._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return n}}]),h}(h);i._sidenavs=[],M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_ScrollSpy=i,i.options=t.extend({},h.defaults,n),h._elements.push(i),h._count++,h._increment++,i.tickId=-1,i.id=h._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return s(h,i),a(h,[{key:"destroy",value:function(){h._elements.splice(h._elements.indexOf(this),1),h._elementsInView.splice(h._elementsInView.indexOf(this),1),h._visibleElements.splice(h._visibleElements.indexOf(this.$el),1),h._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===h._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===h._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=t(n.target),r=h._elements.length-1;r>=0;r--){var a=h._elements[r];if(i.is('a[href="#'+a.$el.attr("id")+'"]')){n.preventDefault();var o=a.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:o-a.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){h._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,i=t+window.innerHeight,r=h._findElements(t,n,i,e),a=0;a<r.length;a++){var o=r[a];o.tickId<0&&o._enter(),o.tickId=h._ticks}for(var s=0;s<h._elementsInView.length;s++){var l=h._elementsInView[s],u=l.tickId;u>=0&&u!==h._ticks&&(l._exit(),l.tickId=-1)}h._elementsInView=r}},{key:"_enter",value:function(){h._visibleElements=h._visibleElements.filter((function(t){return 0!=t.height()})),h._visibleElements[0]?(t(this.options.getActiveElement(h._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),h._visibleElements[0][0].M_ScrollSpy&&this.id<h._visibleElements[0][0].M_ScrollSpy.id?h._visibleElements.unshift(this.$el):h._visibleElements.push(this.$el)):h._visibleElements.push(this.$el),t(this.options.getActiveElement(h._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;h._visibleElements=h._visibleElements.filter((function(t){return 0!=t.height()})),h._visibleElements[0]&&(t(this.options.getActiveElement(h._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),h._visibleElements=h._visibleElements.filter((function(t){return t.attr("id")!=e.$el.attr("id")})),h._visibleElements[0]&&t(this.options.getActiveElement(h._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,i){for(var r=[],a=0;a<h._elements.length;a++){var o=h._elements[a],s=t+o.options.scrollOffset||200;if(o.$el.height()>0){var l=o.$el.offset().top,u=o.$el.offset().left,c=u+o.$el.width(),d=l+o.$el.height();!(u>e||c<i||l>n||d<s)&&r.push(o)}}return r}},{key:"defaults",get:function(){return n}}]),h}(h);i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Autocomplete=r,r.options=t.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=t(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){e.selectOption(t(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(i._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){i._keydown=!0;var n=e.keyCode,r=void 0,a=t(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(r=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),e.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(e.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<a-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(t){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(t){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(t){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var n=e.find("img"),i=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=i+t.length-1,a=e.text().slice(0,i),o=e.text().slice(i,r+1),s=e.text().slice(r+1);e.html("<span>"+a+"<span class='highlight'>"+o+"</span>"+s+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,n){var i=this;this._resetAutocomplete();var r=[];for(var a in e)if(e.hasOwnProperty(a)&&-1!==a.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var o={data:e[a],key:a};r.push(o),this.count++}this.options.sortFunction&&r.sort((function(t,e){return i.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())}));for(var s=0;s<r.length;s++){var l=r[s],h=t("<li></li>");l.data?h.append('<img src="'+l.data+'" class="right circle"><span>'+l.key+"</span>"):h.append("<span>"+l.key+"</span>"),t(this.container).append(h),this._highlight(n,h)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),i}(h);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(t){M.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(e,n){var i=t(this);e.value.length>0||t(e).is(":focus")||e.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):e.validity?i.siblings("label").toggleClass("active",!0===e.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),i=t[0].value.length;0!==i||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&i<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(e){if(e instanceof Element&&(e=t(e)),e.length){var n=t(".hiddendiv").first();n.length||(n=t('<div class="hiddendiv common"></div>'),t("body").append(n));var i=e.css("font-family"),r=e.css("font-size"),a=e.css("line-height"),o=e.css("padding-top"),s=e.css("padding-right"),l=e.css("padding-bottom"),h=e.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),a&&n.css("line-height",a),o&&n.css("padding-top",o),s&&n.css("padding-right",s),l&&n.css("padding-bottom",l),h&&n.css("padding-left",h),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(e[0].value+"\n");var u=n.html().replace(/\n/g,"<br>");n.html(u),e[0].offsetWidth>0&&e[0].offsetHeight>0?n.css("width",e.width()+"px"):n.css("width",window.innerWidth/2+"px"),e.data("original-height")<=n.innerHeight()?e.css("height",n.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)}else console.error("No textarea element found")},t(document).ready((function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";t(document).on("change",e,(function(){0===this.value.length&&null===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),M.validate_field(t(this))})),t(document).ready((function(){M.updateTextFields()})),t(document).on("reset",(function(n){var i=t(n.target);i.is("form")&&(i.find(e).removeClass("valid").removeClass("invalid"),i.find(e).each((function(e){this.value.length&&t(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&t(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){t(n.target).is(e)&&t(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=t(n.target);if(i.is(e)){var r=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}}),!0),t(document).on("keyup","input[type=radio], input[type=checkbox]",(function(e){if(e.which===M.keys.TAB)return t(this).addClass("tabbed"),void t(this).one("blur",(function(e){t(this).removeClass("tabbed")}))}));var n=".materialize-textarea";t(n).each((function(){var e=t(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)})),t(document).on("keyup",n,(function(){M.textareaAutoResize(t(this))})),t(document).on("keydown",n,(function(){M.textareaAutoResize(t(this))})),t(document).on("change",'.file-field input[type="file"]',(function(){for(var e=t(this).closest(".file-field").find("input.file-path"),n=t(this)[0].files,i=[],r=0;r<n.length;r++)i.push(n[r].name);e[0].value=i.join(", "),e.trigger("change")}))}))}(cash),function(t,e){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function h(n,i){l(this,h);var r=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,n,i));return r.el.M_Slider=r,r.options=t.extend({},h.defaults,i),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(e){return t(e).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(t){r._animateCaptionIn(t,0)})),r.$slides.find("img").each((function(e){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==n&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",n))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),e({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(t){e({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return s(h,i),a(h,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(e){e.addEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each((function(e){e.removeEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(e){var n=t(e.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};t(n).hasClass("center-align")?r.translateY=-100:t(n).hasClass("right-align")?r.translateX=100:t(n).hasClass("left-align")&&(r.translateX=-100),e(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=t('<li class="indicator-item"></li>');e.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var n=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return n}}]),h}(h);M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),function(t,e){t(document).on("click",".card",(function(n){if(t(this).children(".card-reveal").length){var i=t(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=t(this).find(".card-reveal");t(n.target).is(t(".card-reveal .card-title"))||t(n.target).is(t(".card-reveal .card-title i"))?e({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var n=e.animatables[0].target;t(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(t(n.target).is(t(".card .activator"))||t(n.target).is(t(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),e({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Chips=r,r.options=t.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=t(),r._setupInput(),r.hasAutocomplete=Object.keys(r.options.autocompleteOptions).length>0,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return s(i,n),a(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var n=t(e.target).closest(".chip"),i=t(e.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(i._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=e.tag,n.setAttribute("tabindex",0),t(i).addClass("material-icons close"),i.textContent="close",e.image){var r=document.createElement("img");r.setAttribute("src",e.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(e);this.$chips.add(n),this.chipsData.push(e),t(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(e){var n=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter((function(e){return t(e).index()>=0})),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);this._selectedChip=e,e[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){i._keydown=!0;var n=t(e.target).closest(".chips"),r=e.target&&n.length;if(!t(e.target).is("input, textarea")&&r){var a=n[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var o=a.chipsData.length;if(a._selectedChip){var s=a._selectedChip.index();a.deleteChip(s),a._selectedChip=null,o=Math.max(s-1,0)}a.chipsData.length&&a.selectChip(o)}else if(37===e.keyCode){if(a._selectedChip){var l=a._selectedChip.index()-1;if(l<0)return;a.selectChip(l)}}else if(39===e.keyCode&&a._selectedChip){var h=a._selectedChip.index()+1;h>=a.chipsData.length?a.$input[0].focus():a.selectChip(h)}}}},{key:"_handleChipsKeyup",value:function(t){i._keydown=!1}},{key:"_handleChipsBlur",value:function(e){i._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),i}(h);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),t(document).ready((function(){t(document.body).on("click",".chip .close",(function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()}))}))}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Pushpin=r,r.options=t.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return s(i,n),a(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=i._pushpins.indexOf(this);i._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in i._pushpins)i._pushpins[t]._updatePosition()}},{key:"defaults",get:function(){return e}}]),i}(h);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_FloatingActionButton=i,i.options=t.extend({},h.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){e({targets:i,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each((function(n){e.remove(n),e({targets:n,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var e,n=this,i=window.innerWidth,r=window.innerHeight,a=this.el.getBoundingClientRect(),o=t('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(o),this.offsetX=a.left-i/2+a.width/2,this.offsetY=r-a.bottom,e=i/o[0].clientWidth,this.btnBottom=a.bottom,this.btnLeft=a.left,this.btnWidth=a.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),o.css({"background-color":s}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":s}),o.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout((function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),h}(h);M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));r.el.M_Datepicker=r,r.options=t.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(r.options.i18n=t.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var a=r.options.defaultDate;return i._isDate(a)?r.options.setDefaultDate?(r.setDate(a,!0),r.setInputValue()):r.gotoDate(a):r.gotoDate(new Date),r.isOpen=!1,r}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,i._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(t){return e.formats[t]?e.formats[t]():t})).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),i._isDate(t)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&t<n?t=n:i._isDate(r)&&t>r&&(t=r),this.date=new Date(t.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=i._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],r=e.monthsShort[t.getMonth()],a=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+a}},{key:"gotoDate",value:function(t){var e=!0;if(i._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),a=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=a<n.getTime()||r.getTime()<a}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var r=this.options,a=new Date,o=i._getDaysInMonth(t,e),s=new Date(t,e,1).getDay(),l=[],h=[];i._setToStartOfDay(a),r.firstDay>0&&(s-=r.firstDay)<0&&(s+=7);for(var u=0===e?11:e-1,c=11===e?0:e+1,d=0===e?t-1:t,f=11===e?t+1:t,p=i._getDaysInMonth(d,u),g=o+s,v=g;v>7;)v-=7;g+=7-v;for(var m=!1,y=0,_=0;y<g;y++){var b=new Date(t,e,y-s+1),w=!!i._isDate(this.date)&&i._compareDates(b,this.date),k=i._compareDates(b,a),x=-1!==r.events.indexOf(b.toDateString()),C=y<s||y>=o+s,S=y-s+1,E=e,M=t,T=r.startRange&&i._compareDates(r.startRange,b),O=r.endRange&&i._compareDates(r.endRange,b),L=r.startRange&&r.endRange&&r.startRange<b&&b<r.endRange;C&&(y<s?(S=p+S,E=u,M=d):(S-=o,E=c,M=f));var A={day:S,month:E,year:M,hasEvent:x,isSelected:w,isToday:k,isDisabled:r.minDate&&b<r.minDate||r.maxDate&&b>r.maxDate||r.disableWeekends&&i._isWeekend(b)||r.disableDayFn&&r.disableDayFn(b),isEmpty:C,isStartRange:T,isEndRange:O,isInRange:L,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};h.push(this.renderDay(A)),7==++_&&(l.push(this.renderRow(h,r.isRTL,m)),h=[],_=0,m=!1)}return this.renderTable(r,l,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,n,i,r,a,o){var s,l,h=void 0,u=void 0,c=void 0,d=this.options,f=i===d.minYear,p=i===d.maxYear,g='<div id="'+o+'" class="datepicker-controls" role="heading" aria-live="assertive">',v=!0,m=!0;for(c=[],h=0;h<12;h++)c.push('<option value="'+(i===a?h-n:12+h-n)+'"'+(h===r?' selected="selected"':"")+(f&&h<d.minMonth||p&&h>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[h]+"</option>");for(s='<select class="datepicker-select orig-select-month" tabindex="-1">'+c.join("")+"</select>",t.isArray(d.yearRange)?(h=d.yearRange[0],u=d.yearRange[1]+1):(h=i-d.yearRange,u=1+i+d.yearRange),c=[];h<u&&h<=d.maxYear;h++)h>=d.minYear&&c.push('<option value="'+h+'" '+(h===i?'selected="selected"':"")+">"+h+"</option>");return l='<select class="datepicker-select orig-select-year" tabindex="-1">'+c.join("")+"</select>",g+='<button class="month-prev'+(v?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',g+='<div class="selects-container">',d.showMonthAfterYear?g+=l+s:g+=s+l,g+="</div>",f&&(0===r||d.minMonth>=r)&&(v=!1),p&&(11===r||d.maxMonth<=r)&&(m=!1),(g+='<button class="month-next'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,n=this.options,i=n.minYear,r=n.maxYear,a=n.minMonth,o=n.maxMonth,s="";this._y<=i&&(this._y=i,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),s+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,e)+this.render(this.calendars[l].year,this.calendars[l].month,e);this.destroySelects(),this.calendarEl.innerHTML=s;var h=this.calendarEl.querySelector(".orig-select-year"),u=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(h,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(u,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),h.addEventListener("change",this._handleYearChange.bind(this)),u.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var n=t(e.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(e.target.getAttribute("data-year"),e.target.getAttribute("data-month"),e.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,i._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),i}(h);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Timepicker=r,r.options=t.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n=e.left,r=e.top;this.x0=n+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var a=i._Pos(t);this.dx=a.x-this.x0,this.dy=a.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=i._Pos(t),n=e.x-this.x0,r=e.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var n=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(e),a=r.x-this.x0,o=r.y-this.y0;this.moved&&a===this.dx&&o===this.dy&&this.setHand(a,o),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var n=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var a=i._createSVGEl("g");a.setAttribute("transform","translate("+t+","+t+")");var o=i._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var s=i._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var l=i._createSVGEl("circle");l.setAttribute("class","timepicker-canvas-bg"),l.setAttribute("r",e),a.appendChild(s),a.appendChild(l),a.appendChild(o),r.appendChild(a),this._canvas.appendChild(r),this.hand=s,this.bg=l,this.bearing=o,this.g=a}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=e.clone(),r=n/6*Math.PI,a=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*a-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*a-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var o=0;o<24;o+=1){var s=e.clone(),l=o/6*Math.PI,h=o>0&&o<13?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(l)*h-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(l)*h-this.options.tickRadius+"px"}),s.html(0===o?"00":o),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=e.clone(),a=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(a)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(a)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(e){var n=t(e.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==t[1]&&(t[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=t[0]>=12&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,n){"minutes"===e&&t(this.hoursView).css("visibility");var i="hours"===e,r=i?this.hoursView:this.minutesView,a=i?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",i),t(this.spanMinutes).toggleClass("text-primary",!i),a.classList.add("timepicker-dial-out"),t(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){t(a).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(e){var n=this.currentView,i=this[n],r="hours"===n,a=i*(Math.PI/(r?6:30)),o=r&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,s=Math.sin(a)*o,l=-Math.cos(a)*o,h=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){t(h.canvas).removeClass("timepicker-canvas-out"),h.setHand(s,l)}),e)):this.setHand(s,l)}},{key:"setHand",value:function(t,e,n){var r=this,a=Math.atan2(t,-e),o="hours"===this.currentView,s=Math.PI/(o||n?6:30),l=Math.sqrt(t*t+e*e),h=o&&l<(this.options.outerRadius+this.options.innerRadius)/2,u=h?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),a<0&&(a=2*Math.PI+a);var c=Math.round(a/s);a=c*s,this.options.twelveHour?o?0===c&&(c=12):(n&&(c*=5),60===c&&(c=0)):o?(12===c&&(c=0),c=h?0===c?12:c:0===c?0:c+12):(n&&(c*=5),60===c&&(c=0)),this[this.currentView]!==c&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=c,o?this.spanHours.innerHTML=c:this.spanMinutes.innerHTML=i._addLeadingZero(c);var d=Math.sin(a)*(u-this.options.tickRadius),f=-Math.cos(a)*(u-this.options.tickRadius),p=Math.sin(a)*u,g=-Math.cos(a)*u;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",g)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,r=e?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!e&&this.options.twelveHour&&(r=r+" "+this.amOrPm),this.el.value=r,r!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),i}(h);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_CharacterCounter=r,r.options=t.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=e;var i=n;e&&(i+="/"+e,this._validateInput()),t(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),i}(h);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Carousel=r,r.options=t.extend({},i.defaults,n),r.hasMultipleSlides=r.$el.find(".carousel-item").length>1,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=t('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(e,n){if(r.images.push(e),r.showIndicators){var i=t('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(t){var e=t+"Transform";return void 0===document.body.style[e]||(r.xform=e,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(e,n){e.addEventListener("click",t._handleIndicatorClickBound)})));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(e,n){e.removeEventListener("click",t._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,i=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),i=this.reference-e,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+i));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var n=t(e.target).closest(".carousel-item").index();0!=this._wrap(this.center)-n&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var n=t(e.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(r>0)this.$el.css("height",r+"px");else{var a=i[0].naturalWidth,o=i[0].naturalHeight,s=this.$el.width()/a*o;this.$el.css("height",s+"px")}}else i.one("load",(function(t,n){e.$el.css("height",t.offsetHeight+"px")}));else if(!t){var l=n.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,n,i;e=(t=Date.now())-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+e),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,(e=this.amplitude*Math.exp(-t/this.options.duration))>2||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,a,o,s=void 0,l=void 0,h=void 0,u=void 0,c=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),o=-(a=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(h="translateX(0)",d=1):(h="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",h+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*o),this.showIndicators){var g=this.center%this.count,v=this.$indicators.find(".indicator-item.active");v.index()!==g&&(v.removeClass("active"),this.$indicators.find(".indicator-item").eq(g)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)],t(l).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),l.classList.add("active"));var m=h+" translateX("+-r/2+"px) translateX("+a*this.options.shift*o*s+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(l,d,0,m)}for(s=1;s<=i;++s){if(this.options.fullWidth?(u=this.options.dist,c=s===i&&r<0?1-o:1):(u=this.options.dist*(2*s+o*a),c=1-p*(2*s+o*a)),!this.noWrap||this.center+s<this.count){l=this.images[this._wrap(this.center+s)];var y=h+" translateX("+(this.options.shift+(this.dim*s-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(l,c,-s,y)}if(this.options.fullWidth?(u=this.options.dist,c=s===i&&r>0?1-o:1):(u=this.options.dist*(2*s-o*a),c=1-p*(2*s-o*a)),!this.noWrap||this.center-s>=0){l=this.images[this._wrap(this.center-s)];var _=h+" translateX("+(-this.options.shift+(-this.dim*s-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(l,c,-s,_)}}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)];var b=h+" translateX("+-r/2+"px) translateX("+a*this.options.shift*o+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(l,d,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,i){t.style[this.xform]=i,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),i}(h);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_TapTarget=r,r.options=t.extend({},i.defaults,n),r.isOpen=!1,r.$origin=t("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var n=this.$origin.parents(),i=0;i<n.length&&!(e="fixed"==t(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),a=this.$origin.outerHeight(),o=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,l=window.innerWidth,h=window.innerHeight,u=l/2,c=h/2,d=s<=u,f=s>u,p=o<=c,g=o>c,v=s>=.25*l&&s<=.75*l,m=this.$el.outerWidth(),y=this.$el.outerHeight(),_=o+a/2-y/2,b=s+r/2-m/2,w=e?"fixed":"absolute",k=v?m:m/2+r,x=y/2,C=p?y/2:0,S=d&&!v?m/2-r:0,E=r,T=g?"bottom":"top",O=2*r,L=O,A=y/2-L/2,P=m/2-O/2,D={};D.top=p?_+"px":"",D.right=f?l-b-m+"px":"",D.bottom=g?h-_-y+"px":"",D.left=d?b+"px":"",D.position=w,t(this.wrapper).css(D),t(this.contentEl).css({width:k+"px",height:x+"px",top:C+"px",right:"0px",bottom:"0px",left:S+"px",padding:E+"px",verticalAlign:T}),t(this.waveEl).css({top:A+"px",left:P+"px",width:O+"px",height:L+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return e}}]),i}(h);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},n=function(n){function i(e,n){l(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.$el.hasClass("browser-default")?o(r):(r.el.M_FormSelect=r,r.options=t.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return s(i,n),a(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.addEventListener("click",e._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.removeEventListener("click",e._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var n=t(e.target).closest("li")[0],i=n.id;if(!t(n).hasClass("disabled")&&!t(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var a=t(this.dropdownOptions).find("li.disabled.selected");a.length&&(a.removeClass("selected"),a.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(a[0].id)),r=this._toggleEntryFromArray(i)}else t(this.dropdownOptions).find("li").removeClass("selected"),t(n).toggleClass("selected",r);t(this._valueDict[i].el).prop("selected")!==r&&(t(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(t(n).is("option")){var i;i=e.isMultiple?e._appendOptionWithIcon(e.$el,n,"multiple"):e._appendOptionWithIcon(e.$el,n),e._addOptionToValueDict(n,i)}else if(t(n).is("optgroup")){var r=t(n).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(t){var n=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=t.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=t(e.dropdownOptions).find(".selected").first();if(i.length&&(M.keyDown=!0,e.dropdown.focusedIndex=i.index(),e.dropdown._focusFocusedItem(),M.keyDown=!1,e.dropdown.isScrollable)){var r=i[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;r-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};e.id=i,r.el=t,r.optionEl=e,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,n,i){var r=n.disabled?"disabled ":"",a="optgroup-option"===i?"optgroup-option ":"",o=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,s=t("<li></li>"),l=t("<span></span>");l.html(o),s.addClass(r+" "+a),s.append(l);var h=n.getAttribute("data-icon");if(h){var u=t('<img alt="" src="'+h+'">');s.prepend(u)}return t(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(e){var n=!this._keysSelected.hasOwnProperty(e),i=t(this._valueDict[e].optionEl);return n?this._keysSelected[e]=!0:delete this._keysSelected[e],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var e=[];if(this.$el.find("option").each((function(n){if(t(n).prop("selected")){var i=t(n).text();e.push(i)}})),!e.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&e.push(n.text())}this.input.value=e.join(", ")}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var n=this._valueDict[e],i=t(n.el).prop("selected");t(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(t(this.dropdownOptions),t(n.optionEl)),this._keysSelected[e]=!0):t(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(e,n){n&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return e}}]),i}(h);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var n={},i=function(i){function h(e,n){l(this,h);var i=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,n));return i.el.M_Range=i,i.options=t.extend({},h.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return s(h,i),a(h,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var n=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(e-n)*t}}],[{key:"init",value:function(t,e){return r(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return n}}]),h}(h);M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(t("input[type=range]"))}(cash,M.anime)},655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__extends:()=>r,__assign:()=>a,__rest:()=>o,__decorate:()=>s,__param:()=>l,__metadata:()=>h,__awaiter:()=>u,__generator:()=>c,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>g,__spread:()=>v,__spreadArrays:()=>m,__spreadArray:()=>y,__await:()=>_,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>k,__makeTemplateObject:()=>x,__importStar:()=>S,__importDefault:()=>E,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>T});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,i){e(n,i,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{l(i.next(t))}catch(t){a(t)}}function s(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))}function c(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var d=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(t,e,n){if(n||2===arguments.length)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){a.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=r[t](e)).value instanceof _?Promise.resolve(n.value.v).then(l,h):u(a[0][2],n)}catch(t){u(a[0][3],t)}var n}function l(t){s("next",t)}function h(t){s("throw",t)}function u(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}}function w(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:_(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return C(e,t),e}function E(t){return t&&t.__esModule?t:{default:t}}function M(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function T(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}},4920:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>an});var i=Math.PI/180;const r="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},a={_global:r,version:"8.2.3",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>a.angleDeg?t*i:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>a.DD.isDragging,isDragReady:()=>!!a.DD.node,document:r.document,_injectGlobal(t){r.Konva=t}},o=t=>{a[t.prototype.getClassName()]=t};a._injectGlobal(a);class s{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new s(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,a=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=a,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,r=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}setAbsolutePosition(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],a=this.m[3],o=this.m[4],s=(n*(e-this.m[5])-i*(t-o))/(n*a-i*r),l=(t-o-r*s)/n;return this.translate(l,s)}decompose(){var t=this.m[0],e=this.m[1],n=this.m[2],i=this.m[3],r=t*i-e*n;let a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=e){var o=Math.sqrt(t*t+e*e);a.rotation=e>0?Math.acos(t/o):-Math.acos(t/o),a.scaleX=o,a.scaleY=r/o,a.skewX=(t*n+e*i)/r,a.skewY=0}else if(0!=n||0!=i){var s=Math.sqrt(n*n+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-n/s):-Math.acos(n/s)),a.scaleX=r/s,a.scaleY=s,a.skewX=0,a.skewY=(t*n+e*i)/r}return a.rotation=g._getRotation(a.rotation),a}}var l=Math.PI/180,h=180/Math.PI,u="Konva error: ",c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,f=[];const p="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)},g={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){f.push(t),1===f.length&&p((function(){const t=f;f=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=g.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in c?{r:(e=c[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",g._namedColorToRBA(t)||g._hex3ColorToRGBA(t)||g._hex6ColorToRGBA(t)||g._rgbColorToRGBA(t)||g._rgbaColorToRGBA(t)||g._hslColorToRGBA(t)),_namedColorToRBA(t){var e=c[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=Number(n[0])/360,r=Number(n[1])/100,a=Number(n[2])/100;let o,s,l;if(0===r)return l=255*a,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o=a<.5?a*(1+r):a+r-a*r;const h=2*a-o,u=[0,0,0];for(let t=0;t<3;t++)s=i+1/3*-(t-1),s<0&&s++,s>1&&s--,l=6*s<1?h+6*(o-h)*s:2*s<1?o:3*s<2?h+(o-h)*(2/3-s)*6:h,u[t]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*l,radToDeg:t=>t*h,_degToRad:t=>(g.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),g.degToRad(t)),_radToDeg:t=>(g.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),g.radToDeg(t)),_getRotation:t=>a.angleDeg?g.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(u+t)},error(t){console.error(u+t)},warn(t){a.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,i,r,a){var o,s,l,h=(t-n)*(t-n)+(e-i)*(e-i);if(0==h)o=t,s=e,l=(r-n)*(r-n)+(a-i)*(a-i);else{var u=((r-t)*(n-t)+(a-e)*(i-e))/h;u<0?(o=t,s=e,l=(t-r)*(t-r)+(e-a)*(e-a)):u>1?(o=n,s=i,l=(n-r)*(n-r)+(i-a)*(i-a)):l=((o=t+u*(n-t))-r)*(o-r)+((s=e+u*(i-e))-a)*(s-a)}return[o,s,l]},_getProjectionToLine(t,e,n){var i=g.cloneObject(t),r=Number.MAX_VALUE;return e.forEach((function(a,o){if(n||o!==e.length-1){var s=e[(o+1)%e.length],l=g._getProjectionToSegment(a.x,a.y,s.x,s.y,t.x,t.y),h=l[0],u=l[1],c=l[2];c<r&&(i.x=h,i.y=u,r=c)}})),i},_prepareArrayForTween(t,e,n){var i,r=[],a=[];if(t.length>e.length){var o=e;e=t,t=o}for(i=0;i<t.length;i+=2)r.push({x:t[i],y:t[i+1]});for(i=0;i<e.length;i+=2)a.push({x:e[i],y:e[i+1]});var s=[];return a.forEach((function(t){var e=g._getProjectionToLine(t,r,n);s.push(e.x),s.push(e.y)})),s},_prepareToStringify(t){var e;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||g._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===g._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999};function v(t){return g._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||g._isBoolean(t)?t:Object.prototype.toString.call(t)}function m(t){return t>255?255:t<0?0:Math.round(t)}function y(){if(a.isUnminified)return function(t,e){return g._isNumber(t)||g.warn(v(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function _(t){if(a.isUnminified)return function(e,n){let i=g._isNumber(e),r=g._isArray(e)&&e.length==t;return i||r||g.warn(v(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function b(){if(a.isUnminified)return function(t,e){return g._isNumber(t)||"auto"===t||g.warn(v(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function w(){if(a.isUnminified)return function(t,e){return g._isString(t)||g.warn(v(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function k(){if(a.isUnminified)return function(t,e){const n=g._isString(t),i="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||i||g.warn(v(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function x(){if(a.isUnminified)return function(t,e){return!0===t||!1===t||g.warn(v(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}var C="get",S="set";const E={addGetterSetter(t,e,n,i,r){E.addGetter(t,e,n),E.addSetter(t,e,i,r),E.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var i=C+g._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter(t,e,n,i){var r=S+g._capitalize(e);t.prototype[r]||E.overWriteSetter(t,e,n,i)},overWriteSetter(t,e,n,i){var r=S+g._capitalize(e);t.prototype[r]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter(t,e,n,i,r){var o,s,l=n.length,h=g._capitalize,u=C+h(e),c=S+h(e);t.prototype[u]=function(){var t={};for(o=0;o<l;o++)t[s=n[o]]=this.getAttr(e+h(s));return t};var d=function(t){if(a.isUnminified)return function(e,n){return g.isObject(e)||g.warn(v(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(n);t.prototype[c]=function(t){var n,a=this.attrs[e];for(n in i&&(t=i.call(this,t)),d&&d.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+h(n),t[n]);return this._fireChangeEvent(e,a,t),r&&r.call(this),this},E.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=g._capitalize(e),i=S+n,r=C+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(t,e,n,i){g.error("Adding deprecated "+e);var r=C+g._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[r]=function(){g.error(a);var t=this.attrs[e];return void 0===t?n:t},E.addSetter(t,e,i,(function(){g.error(a)})),E.addOverloadedGetterSetter(t,e)},backCompat(t,e){g.each(e,(function(e,n){var i=t.prototype[n],r=C+g._capitalize(e),a=S+g._capitalize(e);function o(){i.apply(this,arguments),g.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=o,t.prototype[r]=o,t.prototype[a]=o}))},afterSetFilter(){this._filterUpToDate=!1}};function M(t){var e,n,i=[],r=t.length,a=g;for(e=0;e<r;e++)n=t[e],a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n+=""),i.push(n);return i}var T,O=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class L{constructor(t){this.canvas=t,this._context=t._canvas.getContext("2d"),a.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var n,i,r,a,o=this.traceArr,s=o.length,l="";for(n=0;n<s;n++)(r=(i=o[n]).method)?(a=i.args,l+=r,t?l+="()":g._isArray(a[0])?l+="(["+a.join(",")+"])":(e&&(a=a.map((t=>"number"==typeof t?Math.floor(t):t))),l+="("+a.join(",")+")")):(l+=i.property,t||(l+="="+i.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,n,i,r,a){this._context.arc(t,e,n,i,r,a)}arcTo(t,e,n,i,r){this._context.arcTo(t,e,n,i,r)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,n,i,r,a){this._context.bezierCurveTo(t,e,n,i,r,a)}clearRect(t,e,n,i){this._context.clearRect(t,e,n,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,n,i){return this._context.createLinearGradient(t,e,n,i)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,n,i,r,a){return this._context.createRadialGradient(t,e,n,i,r,a)}drawImage(t,e,n,i,r,a,o,s,l){var h=arguments,u=this._context;3===h.length?u.drawImage(t,e,n):5===h.length?u.drawImage(t,e,n,i,r):9===h.length&&u.drawImage(t,e,n,i,r,a,o,s,l)}ellipse(t,e,n,i,r,a,o,s){this._context.ellipse(t,e,n,i,r,a,o,s)}isPointInPath(t,e){return this._context.isPointInPath(t,e)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,n,i){this._context.fillRect(t,e,n,i)}strokeRect(t,e,n,i){this._context.strokeRect(t,e,n,i)}fillText(t,e,n,i){i?this._context.fillText(t,e,n,i):this._context.fillText(t,e,n)}measureText(t){return this._context.measureText(t)}getImageData(t,e,n,i){return this._context.getImageData(t,e,n,i)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,n,i){this._context.rect(t,e,n,i)}putImageData(t,e,n){this._context.putImageData(t,e,n)}quadraticCurveTo(t,e,n,i){this._context.quadraticCurveTo(t,e,n,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,n,i,r,a){this._context.setTransform(t,e,n,i,r,a)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,n,i){this._context.strokeText(t,e,n,i)}transform(t,e,n,i,r,a){this._context.transform(t,e,n,i,r,a)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,n=this,i=O.length,r=this.setAttr,a=function(t){var i,r=n[t];n[t]=function(){return e=M(Array.prototype.slice.call(arguments,0)),i=r.apply(n,arguments),n._trace({method:t,args:e}),i}};for(t=0;t<i;t++)a(O[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(L.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));class A extends L{_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var i=t.getFillPatternImage();if(i&&"pattern"===n)this._fillPattern(t);else{var r=t.getFillLinearGradientColorStops();if(r&&"linear-gradient"===n)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):r?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}}_strokeLinearGradient(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var a=0;a<i.length;a+=2)r.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",r)}}_stroke(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var e,n,i,r=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",a=null!==(n=t.getShadowBlur())&&void 0!==n?n:5,o=null!==(i=t.getShadowOffset())&&void 0!==i?i:{x:0,y:0},s=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),h=s.x*l,u=s.y*l;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*u)}}class P extends L{_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),r="auto"===i?t.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}class D{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||a.pixelRatio||function(){if(T)return T;var t=g.createCanvasElement().getContext("2d");return T=(a._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=g.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return g.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}E.addGetterSetter(D,"pixelRatio",void 0,y());class R extends D{constructor(t={width:0,height:0}){super(t),this.context=new A(this),this.setSize(t.width,t.height)}}class I extends D{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new P(this),this.setSize(t.width,t.height)}}const B={get isDragging(){var t=!1;return B._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return B._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const e=[];B._dragElements.forEach(((n,i)=>{const{node:r}=n,a=r.getStage();a.setPointersPositions(t),void 0===n.pointerId&&(n.pointerId=g._getFirstPointerId(t));const o=a._changedPointerPositions.find((t=>t.id===n.pointerId));if(o){if("dragging"!==n.dragStatus){var s=r.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<s)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,n),e.push(r)}})),e.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){B._dragElements.forEach((e=>{const{node:n}=e,i=n.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find((t=>t.id===e.pointerId)))return;"dragging"!==e.dragStatus&&"stopped"!==e.dragStatus||(B.justDragged=!0,a._mouseListenClick=!1,a._touchListenClick=!1,a._pointerListenClick=!1,e.dragStatus="stopped");const r=e.node.getLayer()||e.node instanceof a.Stage&&e.node;r&&r.batchDraw()}))},_endDragAfter(t){B._dragElements.forEach(((e,n)=>{"stopped"===e.dragStatus&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),"dragging"!==e.dragStatus&&B._dragElements.delete(n)}))}};a.isBrowser&&(window.addEventListener("mouseup",B._endDragBefore,!0),window.addEventListener("touchend",B._endDragBefore,!0),window.addEventListener("mousemove",B._drag),window.addEventListener("touchmove",B._drag),window.addEventListener("mouseup",B._endDragAfter,!1),window.addEventListener("touchend",B._endDragAfter,!1));var $="absoluteOpacity",j="allEventListeners",F="absoluteTransform",W="absoluteScale",N="canvas",H="listening",G="mouseenter",z="mouseleave",q="Shape",Y=" ",X="stage",V="transform",U="visible",K=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Y);let Q=1;class J{constructor(t){this._id=Q++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==V&&t!==F||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var n=this._cache.get(t);return(void 0===n||(t===V||t===F)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n}_calculate(t,e,n){if(!this._attachedDepsListeners.get(t)){const n=e.map((t=>t+"Change.konva")).join(Y);this.on(n,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get(N)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===F&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(N),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),r=Math.ceil(e.height||n.height),a=e.pixelRatio,o=void 0===e.x?n.x:e.x,s=void 0===e.y?n.y:e.y,l=e.offset||0,h=e.drawBorder||!1,u=e.hitCanvasPixelRatio||1;if(i&&r){o-=l,s-=l;var c=new R({pixelRatio:a,width:i+=2*l,height:r+=2*l}),d=new R({pixelRatio:a,width:0,height:0}),f=new I({pixelRatio:u,width:i,height:r}),p=c.getContext(),v=f.getContext();return f.isCache=!0,c.isCache=!0,this._cache.delete(N),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(c.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),p.save(),v.save(),p.translate(-o,-s),v.translate(-o,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache($),this._clearSelfAndDescendantCache(W),this.drawScene(c,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),v.restore(),h&&(p.save(),p.beginPath(),p.rect(0,0,i,r),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(N,{scene:c,filter:d,hit:f,x:o,y:s}),this._requestDraw(),this}g.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(N)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var n,i,r,a,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return o.forEach((function(t){var e=s.point(t);void 0===n&&(n=r=e.x,i=a=e.y),n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),a=Math.max(a,e.y)})),{x:n,y:i,width:r-n,height:a-i}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/i,n.height/i),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,n,i,r=this.filters(),a=this._getCanvasCache(),o=a.scene,s=a.filter,l=s.getContext();if(r){if(!this._filterUpToDate){var h=o.pixelRatio;s.setSize(o.width/o.pixelRatio,o.height/o.pixelRatio);try{for(t=r.length,l.clear(),l.drawImage(o._canvas,0,0,o.getWidth()/h,o.getHeight()/h),e=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<t;n++)"function"==typeof(i=r[n])?(i.call(this,e),l.putImageData(e,0,0)):g.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(t){g.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return o}on(t,e){if(this._cache&&this._cache.delete(j),3===arguments.length)return this._delegate.apply(this,arguments);var n,i,r,a,o=t.split(Y),s=o.length;for(n=0;n<s;n++)r=(i=o[n].split("."))[0],a=i[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:a,handler:e});return this}off(t,e){var n,i,r,a,o,s=(t||"").split(Y),l=s.length;if(this._cache&&this._cache.delete(j),!t)for(i in this.eventListeners)this._off(i);for(n=0;n<l;n++)if(a=(r=s[n].split("."))[0],o=r[1],a)this.eventListeners[a]&&this._off(a,o,e);else for(i in this.eventListeners)this._off(i,o,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,n){var i=this;this.on(t,(function(t){for(var r=t.target.findAncestors(e,!0,i),a=0;a<r.length;a++)(t=g.cloneObject(t)).currentTarget=r[a],n.call(r[a],t)}))}remove(){return this.isDragging()&&this.stopDrag(),B._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache($),this._clearSelfAndDescendantCache(W),this._clearSelfAndDescendantCache(X),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(H)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(t){var e="get"+g._capitalize(t);return g._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+g._capitalize(e),g._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(H,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(U,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),i=!1;B._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(i=!0)}));var r=!e&&!a.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,n,i,r=this.getDepth(),a=this,o=0;return"Stage"!==a.nodeType&&function s(l){for(t=[],e=l.length,n=0;n<e;n++)i=l[n],o++,i.nodeType!==q&&(t=t.concat(i.getChildren().slice())),i._id===a._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&s(t)}(a.getStage().getChildren()),o}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(V),this._clearSelfAndDescendantCache(F)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,n=this.parent;for(;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),r=new s,a=this.offset();return r.m=i.slice(),r.translate(a.x,a.y),r.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(V);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(V),this._clearSelfAndDescendantCache(F),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,n=t.y,i=this.x(),r=this.y();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this}_eachAncestorReverse(t,e){var n,i,r=[],a=this.getParent();if(!e||e._id!==this._id){for(r.unshift(this);a&&(!e||a._id!==e._id);)r.unshift(a),a=a.parent;for(n=r.length,i=0;i<n;i++)t(r[i])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return g.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0}moveUp(){if(!this.parent)return g.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return g.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return g.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return g.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&g.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache($,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,n,i,r={},a=this.getAttrs();for(t in r.attrs={},a)e=a[t],g.isObject(e)&&!g._isPlainObject(e)&&!g._isArray(e)||(n="function"==typeof this[t]&&this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),g._prepareToStringify(r)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,n){var i=[];e&&this._isMatch(t)&&i.push(this);for(var r=this.parent;r;){if(r===n)return i;r._isMatch(t)&&i.push(r),r=r.parent}return i}isAncestorOf(t){return!1}findAncestor(t,e,n){return this.findAncestors(t,e,n)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),r=i.length;for(e=0;e<r;e++)if(n=i[e],g.isValidSelector(n)||(g.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),g.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),g.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(X,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},n){return e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(F,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new s,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(F)||new s,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){const t=this.attrs.x||0,n=this.attrs.y||0,i=this.attrs.offsetX||0,r=this.attrs.offsetY||0;e.translate(t-i,n-r)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(V,this._getTransform)}_getTransform(){var t,e,n=this._cache.get(V)||new s;n.reset();var i=this.x(),r=this.y(),o=a.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,h=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,u=this.attrs.skewX||0,c=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===i&&0===r||n.translate(i,r),0!==o&&n.rotate(o),0===u&&0===c||n.skew(u,c),1===l&&1===h||n.scale(l,h),0===d&&0===f||n.translate(-1*d,-1*f),n.dirty=!1,n}clone(t){var e,n,i,r,a,o=g.cloneObject(this.attrs);for(e in t)o[e]=t[e];var s=new this.constructor(o);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,r=0;r<i;r++)(a=n[r]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(a));return s}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:e.x,r=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,o=new R({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),s=o.getContext();return s.save(),(i||r)&&s.translate(-1*i,-1*r),this.drawScene(o),s.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(i),i}toImage(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,g._urlToImage(this.toDataURL(t),(function(t){e(t)}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.dragDistance}_off(t,e,n){var i,r,a,o=this.eventListeners[t];for(i=0;i<o.length;i++)if(r=o[i].name,a=o[i].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==a)){if(o.splice(i,1),0===o.length){delete this.eventListeners[t];break}i--}}_fireChangeEvent(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})}addName(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.name(e.join(" "))),this}setAttr(t,e){var n=this["set"+g._capitalize(t)];return g._isFunction(n)?n.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(a.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var n=this.attrs[t];(n!==e||g.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e),this._requestDraw())}_setComponentAttr(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))}_fireAndBubble(t,e,n){if(e&&this.nodeType===q&&(e.target=this),t!==G&&t!==z||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this._fire(t,e);var i=(t===G||t===z)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get(j);if(!e){e={};let t=Object.getPrototypeOf(this);for(;t;)if(t.eventListeners){for(var n in t.eventListeners){const i=t.eventListeners[n],r=e[n]||[];e[n]=i.concat(r)}t=Object.getPrototypeOf(t)}else t=Object.getPrototypeOf(t);this._cache.set(j,e)}return e[t]}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const n=this._getProtoListeners(t);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,e);const r=this.eventListeners[t];if(r)for(i=0;i<r.length;i++)r[i].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition(),r=n._getPointerById(e)||n._changedPointerPositions[0]||i;B._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-i.x,y:r.y-i.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){B._dragElements.has(this._id)||this._createDragElement(t),B._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},r=this.dragBoundFunc();if(void 0!==r){const e=r.call(this,i,t);e?i=e:g.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(t){const e=B._dragElements.get(this._id);e&&(e.dragStatus="stopped"),B._endDragBefore(t),B._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=B._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((void 0===t.evt.button||a.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;B._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=B._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&B._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const n={x:-t.x,y:-t.y,width:e.width()+t.x,height:e.height()+t.y};return g.haveIntersection(n,this.getClientRect())}static create(t,e){return g._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var n,i,r,o=J.prototype.getClassName.call(t),s=t.children;if(e&&(t.attrs.container=e),a[o]||(g.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape"),n=new(0,a[o])(t.attrs),s)for(i=s.length,r=0;r<i;r++)n.add(J._createNode(s[r]));return n}}J.prototype.nodeType="Node",J.prototype._attrsAffectingSize=[],J.prototype.eventListeners={},J.prototype.on.call(J.prototype,K,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(V),this._clearSelfAndDescendantCache(F))})),J.prototype.on.call(J.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(U)})),J.prototype.on.call(J.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(H)})),J.prototype.on.call(J.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache($)}));const Z=E.addGetterSetter;Z(J,"zIndex"),Z(J,"absolutePosition"),Z(J,"position"),Z(J,"x",0,y()),Z(J,"y",0,y()),Z(J,"globalCompositeOperation","source-over",w()),Z(J,"opacity",1,y()),Z(J,"name","",w()),Z(J,"id","",w()),Z(J,"rotation",0,y()),E.addComponentsGetterSetter(J,"scale",["x","y"]),Z(J,"scaleX",1,y()),Z(J,"scaleY",1,y()),E.addComponentsGetterSetter(J,"skew",["x","y"]),Z(J,"skewX",0,y()),Z(J,"skewY",0,y()),E.addComponentsGetterSetter(J,"offset",["x","y"]),Z(J,"offsetX",0,y()),Z(J,"offsetY",0,y()),Z(J,"dragDistance",null,y()),Z(J,"width",0,y()),Z(J,"height",0,y()),Z(J,"listening",!0,x()),Z(J,"preventDefault",!0,x()),Z(J,"filters",null,(function(t){return this._filterUpToDate=!1,t})),Z(J,"visible",!0,x()),Z(J,"transformsEnabled","all",w()),Z(J,"size"),Z(J,"dragBoundFunc"),Z(J,"draggable",!1,x()),E.backCompat(J,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class tt extends J{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}var n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var n=[];return this._descendants((i=>{const r=i._isMatch(t);return r&&n.push(i),!(!r||!e)})),n}_descendants(t){let e=!1;const n=this.getChildren();for(const i of n){if(e=t(i),e)return!0;if(i.hasChildren()&&(e=i._descendants(t),e))return!0}return!1}toObject(){var t=J.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=J.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),r=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,s=i&&i.isCache;if(!this.isVisible()&&!s)return this;if(o){r.save();var l=this.getAbsoluteTransform(e).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",i,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),i=t||n&&n.hitCanvas,r=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){r.save();var o=this.getAbsoluteTransform(e).getMatrix();r.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",i,e);return this}_drawChildren(t,e,n){var i,r=e&&e.getContext(),a=this.clipWidth(),o=this.clipHeight(),s=this.clipFunc(),l=a&&o||s;const h=n===this;if(l){r.save();var u=this.getAbsoluteTransform(n),c=u.getMatrix();if(r.transform(c[0],c[1],c[2],c[3],c[4],c[5]),r.beginPath(),s)s.call(this,r,this);else{var d=this.clipX(),f=this.clipY();r.rect(d,f,a,o)}r.clip(),c=u.copy().invert().getMatrix(),r.transform(c[0],c[1],c[2],c[3],c[4],c[5])}var p=!h&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;p&&(r.save(),r._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach((function(i){i[t](e,n)})),p&&r.restore(),l&&r.restore()}getClientRect(t){var e,n,i,r,a,o,s=(t=t||{}).skipTransform,l=t.relativeTo,h=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var o=e.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===o.width&&0===o.height||(void 0===n?(n=o.x,i=o.y,r=o.x+o.width,a=o.y+o.height):(n=Math.min(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x+o.width),a=Math.max(a,o.y+o.height)))}}));for(var u=this.find("Shape"),c=!1,d=0;d<u.length;d++)if(u[d]._isVisible(this)){c=!0;break}return o=c&&void 0!==n?{x:n,y:i,width:r-n,height:a-i}:{x:0,y:0,width:0,height:0},s?o:this._transformedRect(o,l)}}E.addComponentsGetterSetter(tt,"clip",["x","y","width","height"]),E.addGetterSetter(tt,"clipX",void 0,y()),E.addGetterSetter(tt,"clipY",void 0,y()),E.addGetterSetter(tt,"clipWidth",void 0,y()),E.addGetterSetter(tt,"clipHeight",void 0,y()),E.addGetterSetter(tt,"clipFunc");const et=new Map,nt=void 0!==a._global.PointerEvent;function it(t){return et.get(t)}function rt(t){return{evt:t,pointerId:t.pointerId}}function at(t,e){return et.get(t)===e}function ot(t,e){st(t),e.getStage()&&(et.set(t,e),nt&&e._fire("gotpointercapture",rt(new PointerEvent("gotpointercapture"))))}function st(t,e){const n=et.get(t);if(!n)return;const i=n.getStage();i&&i.content,et.delete(t),nt&&n._fire("lostpointercapture",rt(new PointerEvent("lostpointercapture")))}var lt="mouseleave",ht="mouseover",ut="mouseenter",ct="mousemove",dt="mousedown",ft="mouseup",pt="pointermove",gt="pointerdown",vt="pointerup",mt="pointercancel",yt="pointerout",_t="pointerleave",bt="pointerover",wt="pointerenter",kt="contextmenu",xt="touchstart",Ct="touchend",St="touchmove",Et="touchcancel",Mt="wheel",Tt=[[ut,"_pointerenter"],[dt,"_pointerdown"],[ct,"_pointermove"],[ft,"_pointerup"],[lt,"_pointerleave"],[xt,"_pointerdown"],[St,"_pointermove"],[Ct,"_pointerup"],[Et,"_pointercancel"],[ht,"_pointerover"],[Mt,"_wheel"],[kt,"_contextmenu"],[gt,"_pointerdown"],[pt,"_pointermove"],[vt,"_pointerup"],[mt,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Ot={mouse:{[yt]:"mouseout",[_t]:lt,[bt]:ht,[wt]:ut,[pt]:ct,[gt]:dt,[vt]:ft,[mt]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[yt]:"touchout",[_t]:"touchleave",[bt]:"touchover",[wt]:"touchenter",[pt]:St,[gt]:xt,[vt]:Ct,[mt]:Et,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[yt]:yt,[_t]:_t,[bt]:bt,[wt]:wt,[pt]:pt,[gt]:gt,[vt]:vt,[mt]:mt,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Lt=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",At=t=>{const e=Lt(t);return"pointer"===e?a.pointerEventsEnabled&&Ot.pointer:"touch"===e?Ot.touch:"mouse"===e?Ot.mouse:void 0};function Pt(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&g.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Dt=[];class Rt extends tt{constructor(t){super(Pt(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Dt.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{Pt(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||g.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),tt.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&g._isInDocument(t)&&this.container().removeChild(t);var e=Dt.indexOf(this);return e>-1&&Dt.splice(e,1),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(g.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new R({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,i=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),i.forEach((function(e){if(e.isVisible()){var i=e._toKonvaCanvas(t);n.drawImage(i._canvas,t.x,t.y,i.getWidth()/i.getPixelRatio(),i.getHeight()/i.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,n=this.children;for(e=n.length-1;e>=0;e--){const i=n[e].getIntersection(t);if(i)return i}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((n=>{n.setSize({width:t,height:e}),n.draw()}))}add(t,...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(t);var i=this.children.length;return i>5&&g.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),a.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return at(t,this)}setPointerCapture(t){ot(t,this)}releaseCapture(t){st(t)}getLayers(){return this.children}_bindContentEvents(){a.isBrowser&&Tt.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}))}))}_pointerenter(t){this.setPointersPositions(t);const e=At(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=At(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=At(t.type),n=Lt(t.type);if(e){this.setPointersPositions(t);var i=this._getTargetShape(n),r=!B.isDragging||a.hitOnDragEnabled;i&&r?(i._fireAndBubble(e.pointerout,{evt:t}),i._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[n+"targetShape"]=null):r&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=At(t.type),n=Lt(t.type);if(e){this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach((r=>{var o=this.getIntersection(r);if(B.justDragged=!1,a["_"+n+"ListenClick"]=!0,!o||!o.isListening())return;a.capturePointerEventsEnabled&&o.setPointerCapture(r.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(e.pointerdown,{evt:t,pointerId:r.id}),i=!0;const s=t.type.indexOf("touch")>=0;o.preventDefault()&&t.cancelable&&s&&t.preventDefault()})),i||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=At(t.type),n=Lt(t.type);if(!e)return;if(B.isDragging&&B.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),B.isDragging&&!a.hitOnDragEnabled)return;var i={};let r=!1;var o=this._getTargetShape(n);this._changedPointerPositions.forEach((a=>{const s=it(a.id)||this.getIntersection(a),l=a.id,h={evt:t,pointerId:l};var u=o!==s;if(u&&o&&(o._fireAndBubble(e.pointerout,Object.assign({},h),s),o._fireAndBubble(e.pointerleave,Object.assign({},h),s)),s){if(i[s._id])return;i[s._id]=!0}s&&s.isListening()?(r=!0,u&&(s._fireAndBubble(e.pointerover,Object.assign({},h),o),s._fireAndBubble(e.pointerenter,Object.assign({},h),o),this[n+"targetShape"]=s),s._fireAndBubble(e.pointermove,Object.assign({},h))):o&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),r||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=At(t.type),n=Lt(t.type);if(!e)return;this.setPointersPositions(t);const i=this[n+"ClickStartShape"],r=this[n+"ClickEndShape"];var o={};let s=!1;this._changedPointerPositions.forEach((l=>{const h=it(l.id)||this.getIntersection(l);if(h){if(h.releaseCapture(l.id),o[h._id])return;o[h._id]=!0}const u=l.id,c={evt:t,pointerId:u};let d=!1;a["_"+n+"InDblClickWindow"]&&a["_"+n+"InDblClickWindowId"]===u?(d=!0,clearTimeout(this[n+"DblTimeout"])):B.justDragged||(a["_"+n+"InDblClickWindow"]=!0,a["_"+n+"InDblClickWindowId"]=u,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){a["_"+n+"InDblClickWindow"]=!1}),a.dblClickWindow),h&&h.isListening()?(s=!0,this[n+"ClickEndShape"]=h,h._fireAndBubble(e.pointerup,Object.assign({},c)),a["_"+n+"ListenClick"]&&i&&i===h&&(h._fireAndBubble(e.pointerclick,Object.assign({},c)),d&&r&&r===h&&h._fireAndBubble(e.pointerdblclick,Object.assign({},c)))):(this[n+"ClickEndShape"]=null,a["_"+n+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:u}),d&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:u}))})),s||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a["_"+n+"ListenClick"]=!1,t.cancelable&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(kt,{evt:t}):this._fire(kt,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(Mt,{evt:t}):this._fire(Mt,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=it(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(vt,rt(t)),st(t.pointerId)}_lostpointercapture(t){st(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),n=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(n=(t.clientX-e.left)/e.scaleX,i=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:g._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:i,id:g._getFirstPointerId(t)}])}_setPointerPosition(t){g.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new R({width:this.width(),height:this.height()}),this.bufferHitCanvas=new I({pixelRatio:1,width:this.width(),height:this.height()}),a.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return g.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}Rt.prototype.nodeType="Stage",o(Rt),E.addGetterSetter(Rt,"container");var It="hasShadow",Bt="shadowRGBA",$t="patternImage",jt="linearGradient",Ft="radialGradient";let Wt;function Nt(){return Wt||(Wt=g.createCanvasElement().getContext("2d"),Wt)}const Ht={};class Gt extends J{constructor(t){let e;for(super(t);e=g.getRandomColor(),!e||e in Ht;);this.colorKey=e,Ht[e]=this}getContext(){return g.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return g.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(It,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache($t,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=Nt().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new s;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(a.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=e.getMatrix();t.setTransform({a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]})}return t}}_getLinearGradient(){return this._getCache(jt,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=Nt(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),r=e.createLinearGradient(n.x,n.y,i.x,i.y),a=0;a<t.length;a+=2)r.addColorStop(t[a],t[a+1]);return r}}_getRadialGradient(){return this._getCache(Ft,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=Nt(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),r=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)r.addColorStop(t[a],t[a+1]);return r}}getShadowRGBA(){return this._getCache(Bt,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=g.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return J.prototype.destroy.call(this),delete Ht[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(null!==(e=this.attrs.perfectDrawEnabled)&&void 0!==e&&!e)return!1;const n=t||this.hasFill(),i=this.hasStroke(),r=1!==this.getAbsoluteOpacity();if(n&&i&&r)return!0;const a=this.hasShadow(),o=this.shadowForStrokeEnabled();return!!(n&&i&&a&&o)}setStrokeHitEnabled(t){g.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,n=t.relativeTo,i=this.getSelfRect(),r=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+r,o=i.height+r,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,h=s?this.shadowOffsetY():0,u=a+Math.abs(l),c=o+Math.abs(h),d=s&&this.shadowBlur()||0,f=u+2*d,p=c+2*d;let g=0;Math.round(r/2)!==r/2&&(g=1);const v={width:f+g,height:p+g,x:-Math.round(r/2+d)+Math.min(l,0)+i.x,y:-Math.round(r/2+d)+Math.min(h,0)+i.y};return e?v:this._transformedRect(v,n)}drawScene(t,e){var n,i,r=this.getLayer(),a=t||r.getCanvas(),o=a.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),h=this.hasShadow(),u=a.isCache,c=e===this;if(!this.isVisible()&&!c)return this;if(s){o.save();var d=this.getAbsoluteTransform(e).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()&&!u){(i=(n=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this);var f=this.getAbsoluteTransform(e).getMatrix();i.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,i,this),i.restore();var p=n.pixelRatio;h&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else o._applyLineJoin(this),c||(f=this.getAbsoluteTransform(e).getMatrix(),o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),h&&o._applyShadow(this),l.call(this,o,this);return o.restore(),this}drawHit(t,e,n=!1){if(!this.shouldDrawHit(e,n))return this;var i=this.getLayer(),r=t||i.hitCanvas,a=r&&r.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||g.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){a.save();var h=this.getAbsoluteTransform(e).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),a._applyLineJoin(this),this!==e){var u=this.getAbsoluteTransform(e).getMatrix();a.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(t=0){var e,n,i,r,a,o=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=o.hit,h=l.getContext(),u=l.getWidth(),c=l.getHeight();h.clear(),h.drawImage(s._canvas,0,0,u,c);try{for(i=(n=(e=h.getImageData(0,0,u,c)).data).length,r=g._hexToRgb(this.colorKey),a=0;a<i;a+=4)n[a+3]>t?(n[a]=r.r,n[a+1]=r.g,n[a+2]=r.b,n[a+3]=255):n[a+3]=0;h.putImageData(e,0,0)}catch(t){g.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return at(t,this)}setPointerCapture(t){ot(t,this)}releaseCapture(t){st(t)}}Gt.prototype._fillFunc=function(t){t.fill()},Gt.prototype._strokeFunc=function(t){t.stroke()},Gt.prototype._fillFuncHit=function(t){t.fill()},Gt.prototype._strokeFuncHit=function(t){t.stroke()},Gt.prototype._centroid=!1,Gt.prototype.nodeType="Shape",o(Gt),Gt.prototype.eventListeners={},Gt.prototype.on.call(Gt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(It)})),Gt.prototype.on.call(Gt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Bt)})),Gt.prototype.on.call(Gt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache($t)})),Gt.prototype.on.call(Gt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(jt)})),Gt.prototype.on.call(Gt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(Ft)})),E.addGetterSetter(Gt,"stroke",void 0,k()),E.addGetterSetter(Gt,"strokeWidth",2,y()),E.addGetterSetter(Gt,"fillAfterStrokeEnabled",!1),E.addGetterSetter(Gt,"hitStrokeWidth","auto",b()),E.addGetterSetter(Gt,"strokeHitEnabled",!0,x()),E.addGetterSetter(Gt,"perfectDrawEnabled",!0,x()),E.addGetterSetter(Gt,"shadowForStrokeEnabled",!0,x()),E.addGetterSetter(Gt,"lineJoin"),E.addGetterSetter(Gt,"lineCap"),E.addGetterSetter(Gt,"sceneFunc"),E.addGetterSetter(Gt,"hitFunc"),E.addGetterSetter(Gt,"dash"),E.addGetterSetter(Gt,"dashOffset",0,y()),E.addGetterSetter(Gt,"shadowColor",void 0,w()),E.addGetterSetter(Gt,"shadowBlur",0,y()),E.addGetterSetter(Gt,"shadowOpacity",1,y()),E.addComponentsGetterSetter(Gt,"shadowOffset",["x","y"]),E.addGetterSetter(Gt,"shadowOffsetX",0,y()),E.addGetterSetter(Gt,"shadowOffsetY",0,y()),E.addGetterSetter(Gt,"fillPatternImage"),E.addGetterSetter(Gt,"fill",void 0,k()),E.addGetterSetter(Gt,"fillPatternX",0,y()),E.addGetterSetter(Gt,"fillPatternY",0,y()),E.addGetterSetter(Gt,"fillLinearGradientColorStops"),E.addGetterSetter(Gt,"strokeLinearGradientColorStops"),E.addGetterSetter(Gt,"fillRadialGradientStartRadius",0),E.addGetterSetter(Gt,"fillRadialGradientEndRadius",0),E.addGetterSetter(Gt,"fillRadialGradientColorStops"),E.addGetterSetter(Gt,"fillPatternRepeat","repeat"),E.addGetterSetter(Gt,"fillEnabled",!0),E.addGetterSetter(Gt,"strokeEnabled",!0),E.addGetterSetter(Gt,"shadowEnabled",!0),E.addGetterSetter(Gt,"dashEnabled",!0),E.addGetterSetter(Gt,"strokeScaleEnabled",!0),E.addGetterSetter(Gt,"fillPriority","color"),E.addComponentsGetterSetter(Gt,"fillPatternOffset",["x","y"]),E.addGetterSetter(Gt,"fillPatternOffsetX",0,y()),E.addGetterSetter(Gt,"fillPatternOffsetY",0,y()),E.addComponentsGetterSetter(Gt,"fillPatternScale",["x","y"]),E.addGetterSetter(Gt,"fillPatternScaleX",1,y()),E.addGetterSetter(Gt,"fillPatternScaleY",1,y()),E.addComponentsGetterSetter(Gt,"fillLinearGradientStartPoint",["x","y"]),E.addComponentsGetterSetter(Gt,"strokeLinearGradientStartPoint",["x","y"]),E.addGetterSetter(Gt,"fillLinearGradientStartPointX",0),E.addGetterSetter(Gt,"strokeLinearGradientStartPointX",0),E.addGetterSetter(Gt,"fillLinearGradientStartPointY",0),E.addGetterSetter(Gt,"strokeLinearGradientStartPointY",0),E.addComponentsGetterSetter(Gt,"fillLinearGradientEndPoint",["x","y"]),E.addComponentsGetterSetter(Gt,"strokeLinearGradientEndPoint",["x","y"]),E.addGetterSetter(Gt,"fillLinearGradientEndPointX",0),E.addGetterSetter(Gt,"strokeLinearGradientEndPointX",0),E.addGetterSetter(Gt,"fillLinearGradientEndPointY",0),E.addGetterSetter(Gt,"strokeLinearGradientEndPointY",0),E.addComponentsGetterSetter(Gt,"fillRadialGradientStartPoint",["x","y"]),E.addGetterSetter(Gt,"fillRadialGradientStartPointX",0),E.addGetterSetter(Gt,"fillRadialGradientStartPointY",0),E.addComponentsGetterSetter(Gt,"fillRadialGradientEndPoint",["x","y"]),E.addGetterSetter(Gt,"fillRadialGradientEndPointX",0),E.addGetterSetter(Gt,"fillRadialGradientEndPointY",0),E.addGetterSetter(Gt,"fillPatternRotation",0),E.backCompat(Gt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var zt=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],qt=zt.length;class Yt extends tt{constructor(t){super(t),this.canvas=new R,this.hitCanvas=new I({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){J.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!J.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content||(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(J.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(J.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return J.prototype.remove.call(this),t&&t.parentNode&&g._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&g.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),J.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){g.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){g.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,g.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,n=!1;;){for(let i=0;i<qt;i++){const r=zt[i],a=this._getIntersection({x:t.x+r.x*e,y:t.y+r.y*e}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(!n)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,i=n[3];if(255===i){const t=g._rgbToHex(n[0],n[1],n[2]),e=Ht["#"+t];return e?{shape:e}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),tt.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this}drawHit(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),tt.prototype.drawHit.call(this,i,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){g.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return g.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}}Yt.prototype.nodeType="Layer",o(Yt),E.addGetterSetter(Yt,"imageSmoothingEnabled",!0),E.addGetterSetter(Yt,"clearBeforeDraw",!0),E.addGetterSetter(Yt,"hitGraphEnabled",!0,x());class Xt extends Yt{constructor(t){super(t),this.listening(!1),g.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Xt.prototype.nodeType="FastLayer",o(Xt);class Vt extends tt{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&g.throw("You may only add groups and shapes to groups.")}}Vt.prototype.nodeType="Group",o(Vt);var Ut=r.performance&&r.performance.now?function(){return r.performance.now()}:function(){return(new Date).getTime()};class Kt{constructor(t,e){this.id=Kt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ut(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e;return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,n=this.layers,i=n.length;for(e=0;e<i;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=Kt.animations,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ut(),Kt._addAnimation(this),this}stop(){return Kt._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===n){this.animations.splice(e,1);break}}static _runFrames(){var t,e,n,i,r,a,o,s,l={},h=this.animations;for(i=0;i<h.length;i++)if(e=(t=h[i]).layers,n=t.func,t._updateFrameObject(Ut()),a=e.length,!n||!1!==n.call(t,t.frame))for(r=0;r<a;r++)void 0!==(o=e[r])._id&&(l[o._id]=o);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}static _animationLoop(){var t=Kt;t.animations.length?(t._runFrames(),g.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,g.requestAnimFrame(this._animationLoop))}}Kt.animations=[],Kt.animIdCounter=0,Kt.animRunning=!1;var Qt={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Jt=0,Zt=["fill","stroke","shadowColor"];class te{constructor(t,e,n,i,r,a,o){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class ee{constructor(t){var e,n,i=this,r=t.node,o=r._id,s=t.easing||ne.Linear,l=!!t.yoyo;e=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=r,this._id=Jt++;var h=r.getLayer()||(r instanceof a.Stage?r.getLayers():null);for(n in h||g.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Kt((function(){i.tween.onEnterFrame()}),h),this.tween=new te(n,(function(t){i._tweenFunc(t)}),s,0,1,1e3*e,l),this._addListeners(),ee.attrs[o]||(ee.attrs[o]={}),ee.attrs[o][this._id]||(ee.attrs[o][this._id]={}),ee.tweens[o]||(ee.tweens[o]={}),t)void 0===Qt[n]&&this._addAttr(n,t[n]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var n,i,r,a,o,s,l,h,u=this.node,c=u._id;if((r=ee.tweens[c][t])&&delete ee.attrs[c][r][t],n=u.getAttr(t),g._isArray(e))if(i=[],o=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(l=n,n=g._prepareArrayForTween(n,e,u.closed())):(s=e,e=g._prepareArrayForTween(e,n,u.closed()))),0===t.indexOf("fill"))for(a=0;a<o;a++)if(a%2==0)i.push(e[a]-n[a]);else{var d=g.colorToRGBA(n[a]);h=g.colorToRGBA(e[a]),n[a]=d,i.push({r:h.r-d.r,g:h.g-d.g,b:h.b-d.b,a:h.a-d.a})}else for(a=0;a<o;a++)i.push(e[a]-n[a]);else-1!==Zt.indexOf(t)?(n=g.colorToRGBA(n),i={r:(h=g.colorToRGBA(e)).r-n.r,g:h.g-n.g,b:h.b-n.b,a:h.a-n.a}):i=e-n;ee.attrs[c][this._id][t]={start:n,diff:i,end:e,trueEnd:s,trueStart:l},ee.tweens[c][t]=this._id}_tweenFunc(t){var e,n,i,r,a,o,s,l,h=this.node,u=ee.attrs[h._id][this._id];for(e in u){if(i=(n=u[e]).start,r=n.diff,l=n.end,g._isArray(i))if(a=[],s=Math.max(i.length,l.length),0===e.indexOf("fill"))for(o=0;o<s;o++)o%2==0?a.push((i[o]||0)+r[o]*t):a.push("rgba("+Math.round(i[o].r+r[o].r*t)+","+Math.round(i[o].g+r[o].g*t)+","+Math.round(i[o].b+r[o].b*t)+","+(i[o].a+r[o].a*t)+")");else for(o=0;o<s;o++)a.push((i[o]||0)+r[o]*t);else a=-1!==Zt.indexOf(e)?"rgba("+Math.round(i.r+r.r*t)+","+Math.round(i.g+r.g*t)+","+Math.round(i.b+r.b*t)+","+(i.a+r.a*t)+")":i+r*t;h.setAttr(e,a)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=ee.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=ee.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,n=this._id,i=ee.tweens[e];for(t in this.pause(),i)delete ee.tweens[e][t];delete ee.attrs[e][n]}}ee.attrs={},ee.tweens={},J.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new ee(t).play()};const ne={BackEaseIn(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)+e)},ElasticEaseOut(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-o)*(2*Math.PI)/a)+n+e)},ElasticEaseInOut(t,e,n,i,r,a){var o=0;return 0===t?e:2==(t/=i/2)?e+n:(a||(a=i*(.3*1.5)),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*.5+n+e)},BounceEaseOut:(t,e,n,i)=>(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,e,n,i)=>n-ne.BounceEaseOut(i-t,0,n,i)+e,BounceEaseInOut:(t,e,n,i)=>t<i/2?.5*ne.BounceEaseIn(2*t,0,n,i)+e:.5*ne.BounceEaseOut(2*t-i,0,n,i)+.5*n+e,EaseIn:(t,e,n,i)=>n*(t/=i)*t+e,EaseOut:(t,e,n,i)=>-n*(t/=i)*(t-2)+e,EaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,i)=>n*(t/=i)*t*t*t*t+e,StrongEaseOut:(t,e,n,i)=>n*((t=t/i-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,i)=>n*t/i+e},ie=g._assign(a,{Util:g,Transform:s,Node:J,Container:tt,Stage:Rt,stages:Dt,Layer:Yt,FastLayer:Xt,Group:Vt,DD:B,Shape:Gt,shapes:Ht,Animation:Kt,Tween:ee,Easings:ne,Context:L,Canvas:D});class re extends Gt{_sceneFunc(t){var e=a.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function ae(t,e,n,i,r,a,o){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2)),h=o*s/(s+l),u=o*l/(s+l);return[n-h*(r-t),i-h*(a-e),n+u*(r-t),i+u*(a-e)]}function oe(t,e){var n,i,r=t.length,a=[];for(n=2;n<r-2;n+=2)i=ae(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(t[n]),a.push(t[n+1]),a.push(i[2]),a.push(i[3]));return a}re.prototype._centroid=!0,re.prototype.className="Arc",re.prototype._attrsAffectingSize=["innerRadius","outerRadius"],o(re),E.addGetterSetter(re,"innerRadius",0,y()),E.addGetterSetter(re,"outerRadius",0,y()),E.addGetterSetter(re,"angle",0,y()),E.addGetterSetter(re,"clockwise",!1,x());class se extends Gt{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,n,i,r=this.points(),a=r.length,o=this.tension(),s=this.closed(),l=this.bezier();if(a){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==o&&a>4){for(n=(e=this.getTensionPoints()).length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);i<n-2;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[a-2],r[a-1])}else if(l)for(i=2;i<a;)t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);else for(i=2;i<a;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():oe(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,n=this.tension(),i=ae(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=ae(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=oe(t,n);return[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,i=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],r=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),a=Math.min(a,n),o=Math.max(o,n);return{x:i,y:a,width:r-i,height:o-a}}}se.prototype.className="Line",se.prototype._attrsAffectingSize=["points","bezier","tension"],o(se),E.addGetterSetter(se,"closed",!1),E.addGetterSetter(se,"bezier",!1),E.addGetterSetter(se,"tension",0,y()),E.addGetterSetter(se,"points",[],function(){if(a.isUnminified)return function(t,e){return g._isArray(t)?t.forEach((function(t){g._isNumber(t)||g.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):g.warn(v(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}());class le extends Gt{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=le.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",(function(){this.dataArray=le.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}))}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var n=!1,i=0;i<e.length;i++){var r=e[i].command,a=e[i].points;switch(r){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],s=a[1],l=a[2],h=a[3],u=a[4],c=a[5],d=a[6],f=a[7],p=l>h?l:h,g=l>h?1:l/h,v=l>h?h/l:1;t.translate(o,s),t.rotate(d),t.scale(g,v),t.arc(0,0,p,u,u+c,1-f),t.scale(1/g,1/v),t.rotate(-d),t.translate(-o,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var n=e.points[4],i=e.points[5],r=e.points[4]+i,a=Math.PI/180;if(Math.abs(n-r)<a&&(a=Math.abs(n-r)),i<0)for(let i=n-a;i>r;i-=a){const n=le.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}else for(let i=n+a;i<r;i+=a){const n=le.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}}else if("C"===e.command)for(let n=0;n<=1;n+=.01){const i=le.getPointOnCubicBezier(n,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(i.x,i.y)}else t=t.concat(e.points)}));for(var e,n,i=t[0],r=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],isNaN(e)||(i=Math.min(i,e),r=Math.max(r,e)),isNaN(n)||(a=Math.min(a,n),o=Math.max(o,n));return{x:Math.round(i),y:Math.round(a),width:Math.round(r-i),height:Math.round(o-a)}}getLength(){return this.pathLength}getPointAtLength(t){var e,n=0,i=this.dataArray.length;if(!i)return null;for(;n<i&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===i)return{x:(e=this.dataArray[n-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[n].points.slice(0,2))[0],y:e[1]};var r=this.dataArray[n],a=r.points;switch(r.command){case"L":return le.getPointOnLine(t,r.start.x,r.start.y,a[0],a[1]);case"C":return le.getPointOnCubicBezier(t/r.pathLength,r.start.x,r.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return le.getPointOnQuadraticBezier(t/r.pathLength,r.start.x,r.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],s=a[1],l=a[2],h=a[3],u=a[4],c=a[5],d=a[6];return u+=c*t/r.pathLength,le.getPointOnEllipticalArc(o,s,l,h,u,d)}return null}static getLineLength(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}static getPointOnLine(t,e,n,i,r,a,o){void 0===a&&(a=e),void 0===o&&(o=n);var s=(r-n)/(i-e+1e-8),l=Math.sqrt(t*t/(1+s*s));i<e&&(l*=-1);var h,u=s*l;if(i===e)h={x:a,y:o+u};else if((o-n)/(a-e+1e-8)===s)h={x:a+l,y:o+u};else{var c,d,f=this.getLineLength(e,n,i,r),p=(a-e)*(i-e)+(o-n)*(r-n);c=e+(p/=f*f)*(i-e),d=n+p*(r-n);var g=this.getLineLength(a,o,c,d),v=Math.sqrt(t*t-g*g);l=Math.sqrt(v*v/(1+s*s)),i<e&&(l*=-1),h={x:c+l,y:d+(u=s*l)}}return h}static getPointOnCubicBezier(t,e,n,i,r,a,o,s,l){function h(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function c(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:s*h(t)+a*u(t)+i*c(t)+e*d(t),y:l*h(t)+o*u(t)+r*c(t)+n*d(t)}}static getPointOnQuadraticBezier(t,e,n,i,r,a,o){function s(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:a*s(t)+i*l(t)+e*h(t),y:o*s(t)+r*l(t)+n*h(t)}}static getPointOnEllipticalArc(t,e,n,i,r,a){var o=Math.cos(a),s=Math.sin(a),l=n*Math.cos(r),h=i*Math.sin(r);return{x:t+(l*o-h*s),y:e+(l*s+h*o)}}static parsePathData(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r,a=e.split("|"),o=[],s=[],l=0,h=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<a.length;i++){var c=a[i],d=c.charAt(0);for(c=c.slice(1),s.length=0;r=u.exec(c);)s.push(r[0]);for(var f=[],p=0,g=s.length;p<g;p++)if("00"!==s[p]){var v=parseFloat(s[p]);isNaN(v)?f.push(0):f.push(v)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var m,y,_,b,w,k,x,C,S,E,M=null,T=[],O=l,L=h;switch(d){case"l":l+=f.shift(),h+=f.shift(),M="L",T.push(l,h);break;case"L":l=f.shift(),h=f.shift(),T.push(l,h);break;case"m":var A=f.shift(),P=f.shift();if(l+=A,h+=P,M="M",o.length>2&&"z"===o[o.length-1].command)for(var D=o.length-2;D>=0;D--)if("M"===o[D].command){l=o[D].points[0]+A,h=o[D].points[1]+P;break}T.push(l,h),d="l";break;case"M":l=f.shift(),h=f.shift(),M="M",T.push(l,h),d="L";break;case"h":l+=f.shift(),M="L",T.push(l,h);break;case"H":l=f.shift(),M="L",T.push(l,h);break;case"v":h+=f.shift(),M="L",T.push(l,h);break;case"V":h=f.shift(),M="L",T.push(l,h);break;case"C":T.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),h=f.shift(),T.push(l,h);break;case"c":T.push(l+f.shift(),h+f.shift(),l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),M="C",T.push(l,h);break;case"S":y=l,_=h,"C"===(m=o[o.length-1]).command&&(y=l+(l-m.points[2]),_=h+(h-m.points[3])),T.push(y,_,f.shift(),f.shift()),l=f.shift(),h=f.shift(),M="C",T.push(l,h);break;case"s":y=l,_=h,"C"===(m=o[o.length-1]).command&&(y=l+(l-m.points[2]),_=h+(h-m.points[3])),T.push(y,_,l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),M="C",T.push(l,h);break;case"Q":T.push(f.shift(),f.shift()),l=f.shift(),h=f.shift(),T.push(l,h);break;case"q":T.push(l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),M="Q",T.push(l,h);break;case"T":y=l,_=h,"Q"===(m=o[o.length-1]).command&&(y=l+(l-m.points[0]),_=h+(h-m.points[1])),l=f.shift(),h=f.shift(),M="Q",T.push(y,_,l,h);break;case"t":y=l,_=h,"Q"===(m=o[o.length-1]).command&&(y=l+(l-m.points[0]),_=h+(h-m.points[1])),l+=f.shift(),h+=f.shift(),M="Q",T.push(y,_,l,h);break;case"A":b=f.shift(),w=f.shift(),k=f.shift(),x=f.shift(),C=f.shift(),S=l,E=h,l=f.shift(),h=f.shift(),M="A",T=this.convertEndpointToCenterParameterization(S,E,l,h,x,C,b,w,k);break;case"a":b=f.shift(),w=f.shift(),k=f.shift(),x=f.shift(),C=f.shift(),S=l,E=h,l+=f.shift(),h+=f.shift(),M="A",T=this.convertEndpointToCenterParameterization(S,E,l,h,x,C,b,w,k)}o.push({command:M||d,points:T,start:{x:O,y:L},pathLength:this.calcLength(O,L,M||d,T)})}"z"!==d&&"Z"!==d||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(t,e,n,i){var r,a,o,s,l=le;switch(n){case"L":return l.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,a=l.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),s=.01;s<=1;s+=.01)o=l.getPointOnCubicBezier(s,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"Q":for(r=0,a=l.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),s=.01;s<=1;s+=.01)o=l.getPointOnQuadraticBezier(s,t,e,i[0],i[1],i[2],i[3]),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"A":r=0;var h=i[4],u=i[5],c=i[4]+u,d=Math.PI/180;if(Math.abs(h-c)<d&&(d=Math.abs(h-c)),a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),u<0)for(s=h-d;s>c;s-=d)o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=h+d;s<c;s+=d)o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),r+l.getLineLength(a.x,a.y,o.x,o.y)}return 0}static convertEndpointToCenterParameterization(t,e,n,i,r,a,o,s,l){var h=l*(Math.PI/180),u=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-i)/2,c=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-i)/2,d=u*u/(o*o)+c*c/(s*s);d>1&&(o*=Math.sqrt(d),s*=Math.sqrt(d));var f=Math.sqrt((o*o*(s*s)-o*o*(c*c)-s*s*(u*u))/(o*o*(c*c)+s*s*(u*u)));r===a&&(f*=-1),isNaN(f)&&(f=0);var p=f*o*c/s,g=f*-s*u/o,v=(t+n)/2+Math.cos(h)*p-Math.sin(h)*g,m=(e+i)/2+Math.sin(h)*p+Math.cos(h)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},w=b([1,0],[(u-p)/o,(c-g)/s]),k=[(u-p)/o,(c-g)/s],x=[(-1*u-p)/o,(-1*c-g)/s],C=b(k,x);return _(k,x)<=-1&&(C=Math.PI),_(k,x)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),[v,m,o,s,w,C,h,a]}}le.prototype.className="Path",le.prototype._attrsAffectingSize=["data"],o(le),E.addGetterSetter(le,"data");class he extends se{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,n=this.points(),i=n,r=0!==this.tension()&&n.length>4;r&&(i=this.getTensionPoints());var a,o,s=this.pointerLength(),l=n.length;if(r){const t=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[l-2],n[l-1]],e=le.calcLength(i[i.length-4],i[i.length-3],"C",t),r=le.getPointOnQuadraticBezier(Math.min(1,1-s/e),t[0],t[1],t[2],t[3],t[4],t[5]);a=n[l-2]-r.x,o=n[l-1]-r.y}else a=n[l-2]-n[l-4],o=n[l-1]-n[l-3];var h=(Math.atan2(o,a)+e)%e,u=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(n[l-2],n[l-1]),t.rotate(h),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(n[0],n[1]),r?(a=(i[0]+i[2])/2-n[0],o=(i[1]+i[3])/2-n[1]):(a=n[2]-n[0],o=n[3]-n[1]),t.rotate((Math.atan2(-o,-a)+e)%e),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}he.prototype.className="Arrow",o(he),E.addGetterSetter(he,"pointerLength",10,y()),E.addGetterSetter(he,"pointerWidth",10,y()),E.addGetterSetter(he,"pointerAtBeginning",!1),E.addGetterSetter(he,"pointerAtEnding",!0);class ue extends Gt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}ue.prototype._centroid=!0,ue.prototype.className="Circle",ue.prototype._attrsAffectingSize=["radius"],o(ue),E.addGetterSetter(ue,"radius",0,y());class ce extends Gt{_sceneFunc(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}ce.prototype.className="Ellipse",ce.prototype._centroid=!0,ce.prototype._attrsAffectingSize=["radiusX","radiusY"],o(ce),E.addComponentsGetterSetter(ce,"radius",["x","y"]),E.addGetterSetter(ce,"radiusX",0,y()),E.addGetterSetter(ce,"radiusY",0,y());class de extends Gt{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),n=this.getHeight(),i=this.attrs.image;let r;if(i){const t=this.attrs.cropWidth,a=this.attrs.cropHeight;r=t&&a?[i,this.cropX(),this.cropY(),t,a,0,0,e,n]:[i,0,0,e,n]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,r)}_hitFunc(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e){var n=g.createImageElement();n.onload=function(){var t=new de({image:n});e(t)},n.crossOrigin="Anonymous",n.src=t}}de.prototype.className="Image",o(de),E.addGetterSetter(de,"image"),E.addComponentsGetterSetter(de,"crop",["x","y","width","height"]),E.addGetterSetter(de,"cropX",0,y()),E.addGetterSetter(de,"cropY",0,y()),E.addGetterSetter(de,"cropWidth",0,y()),E.addGetterSetter(de,"cropHeight",0,y());var fe=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],pe="up",ge="right",ve="down",me="left",ye=fe.length;class _e extends Vt{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,n=this,i=function(){n._sync()};for(e=0;e<ye;e++)t.on(fe[e]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,n,i,r,a,o,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),i=l.pointerWidth(),o=l.pointerHeight(),r=0,a=0,n){case pe:r=t/2,a=-1*o;break;case ge:r=t+i,a=e/2;break;case ve:r=t/2,a=e+o;break;case me:r=-1*i,a=e/2}l.setAttrs({x:-1*r,y:-1*a,width:t,height:e}),s.setAttrs({x:-1*r,y:-1*a})}}}_e.prototype.className="Label",o(_e);class be extends Gt{_sceneFunc(t){var e=this.width(),n=this.height(),i=this.pointerDirection(),r=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let s=0,l=0,h=0,u=0;"number"==typeof o?s=l=h=u=Math.min(o,e/2,n/2):(s=Math.min(o[0]||0,e/2,n/2),l=Math.min(o[1]||0,e/2,n/2),u=Math.min(o[2]||0,e/2,n/2),h=Math.min(o[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(s,0),i===pe&&(t.lineTo((e-r)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+r)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),i===ge&&(t.lineTo(e,(n-a)/2),t.lineTo(e+r,n/2),t.lineTo(e,(n+a)/2)),t.lineTo(e,n-u),t.arc(e-u,n-u,u,0,Math.PI/2,!1),i===ve&&(t.lineTo((e+r)/2,n),t.lineTo(e/2,n+a),t.lineTo((e-r)/2,n)),t.lineTo(h,n),t.arc(h,n-h,h,Math.PI/2,Math.PI,!1),i===me&&(t.lineTo(0,(n+a)/2),t.lineTo(-1*r,n/2),t.lineTo(0,(n-a)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,n=this.pointerWidth(),i=this.pointerHeight(),r=this.pointerDirection(),a=this.width(),o=this.height();return r===pe?(e-=i,o+=i):r===ve?o+=i:r===me?(t-=1.5*n,a+=n):r===ge&&(a+=1.5*n),{x:t,y:e,width:a,height:o}}}be.prototype.className="Tag",o(be),E.addGetterSetter(be,"pointerDirection","none"),E.addGetterSetter(be,"pointerWidth",0,y()),E.addGetterSetter(be,"pointerHeight",0,y()),E.addGetterSetter(be,"cornerRadius",0,_(4));class we extends Gt{_sceneFunc(t){var e=this.cornerRadius(),n=this.width(),i=this.height();if(t.beginPath(),e){let r=0,a=0,o=0,s=0;"number"==typeof e?r=a=o=s=Math.min(e,n/2,i/2):(r=Math.min(e[0]||0,n/2,i/2),a=Math.min(e[1]||0,n/2,i/2),s=Math.min(e[2]||0,n/2,i/2),o=Math.min(e[3]||0,n/2,i/2)),t.moveTo(r,0),t.lineTo(n-a,0),t.arc(n-a,a,a,3*Math.PI/2,0,!1),t.lineTo(n,i-s),t.arc(n-s,i-s,s,0,Math.PI/2,!1),t.lineTo(o,i),t.arc(o,i-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,r),t.arc(r,r,r,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,i);t.closePath(),t.fillStrokeShape(this)}}we.prototype.className="Rect",o(we),E.addGetterSetter(we,"cornerRadius",0,_(4));class ke extends Gt{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(var i=0;i<t;i++)n.push({x:e*Math.sin(2*i*Math.PI/t),y:-1*e*Math.cos(2*i*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();var e=t[0].x,n=t[0].y,i=t[0].x,r=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),i=Math.min(i,t.y),r=Math.max(r,t.y)})),{x:e,y:i,width:n-e,height:r-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}ke.prototype.className="RegularPolygon",ke.prototype._centroid=!0,ke.prototype._attrsAffectingSize=["radius"],o(ke),E.addGetterSetter(ke,"radius",0,y()),E.addGetterSetter(ke,"sides",0,y());var xe=2*Math.PI;class Ce extends Gt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,xe,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),xe,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}Ce.prototype.className="Ring",Ce.prototype._centroid=!0,Ce.prototype._attrsAffectingSize=["innerRadius","outerRadius"],o(Ce),E.addGetterSetter(Ce,"innerRadius",0,y()),E.addGetterSetter(Ce,"outerRadius",0,y());class Se extends Gt{constructor(t){super(t),this._updated=!0,this.anim=new Kt((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],a=this.frameOffsets(),o=r[i+0],s=r[i+1],l=r[i+2],h=r[i+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,h),t.closePath(),t.fillStrokeShape(this)),u)if(a){var c=a[e],d=2*n;t.drawImage(u,o,s,l,h,c[d+0],c[d+1],l,h)}else t.drawImage(u,o,s,l,h,0,0,l,h)}_hitFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],a=this.frameOffsets(),o=r[i+2],s=r[i+3];if(t.beginPath(),a){var l=a[e],h=2*n;t.rect(l[h+0],l[h+1],o,s)}else t.rect(0,0,o,s);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}Se.prototype.className="Sprite",o(Se),E.addGetterSetter(Se,"animation"),E.addGetterSetter(Se,"animations"),E.addGetterSetter(Se,"frameOffsets"),E.addGetterSetter(Se,"image"),E.addGetterSetter(Se,"frameIndex",0,y()),E.addGetterSetter(Se,"frameRate",17,y()),E.backCompat(Se,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Ee extends Gt{_sceneFunc(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;r<2*i;r++){var a=r%2==0?n:e,o=a*Math.sin(r*Math.PI/i),s=-1*a*Math.cos(r*Math.PI/i);t.lineTo(o,s)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function Me(t){return Array.from(t)}Ee.prototype.className="Star",Ee.prototype._centroid=!0,Ee.prototype._attrsAffectingSize=["innerRadius","outerRadius"],o(Ee),E.addGetterSetter(Ee,"numPoints",5,y()),E.addGetterSetter(Ee,"innerRadius",0,y()),E.addGetterSetter(Ee,"outerRadius",0,y());var Te,Oe="auto",Le="justify",Ae="left",Pe="middle",De="normal",Re=" ",Ie=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Be=Ie.length;function $e(){return Te||(Te=g.createCanvasElement().getContext("2d"))}class je extends Gt{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<Be;e++)this.on(Ie[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,n=e.length;if(this.text()){var i,r=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,s=this.verticalAlign(),l=0,h=this.align(),u=this.getWidth(),c=this.letterSpacing(),d=this.fill(),f=this.textDecoration(),p=-1!==f.indexOf("underline"),g=-1!==f.indexOf("line-through"),v=0,m=(v=o/2,0),y=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",Pe),t.setAttr("textAlign",Ae),s===Pe?l=(this.getHeight()-n*o-2*r)/2:"bottom"===s&&(l=this.getHeight()-n*o-2*r),t.translate(r,l+r),i=0;i<n;i++){m=0,y=0;var _,b,w,k=e[i],x=k.text,C=k.width,S=i!==n-1;if(t.save(),"right"===h?m+=u-C-2*r:"center"===h&&(m+=(u-C-2*r)/2),p&&(t.save(),t.beginPath(),t.moveTo(m,v+y+Math.round(a/2)),b=0==(_=x.split(" ").length-1),w=h===Le&&S&&!b?u-2*r:C,t.lineTo(m+Math.round(w),v+y+Math.round(a/2)),t.lineWidth=a/15,t.strokeStyle=d,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(m,v+y),b=0==(_=x.split(" ").length-1),w=h===Le&&S&&!b?u-2*r:C,t.lineTo(m+Math.round(w),v+y),t.lineWidth=a/15,t.strokeStyle=d,t.stroke(),t.restore()),0!==c||h===Le){_=x.split(" ").length-1;for(var E=Me(x),M=0;M<E.length;M++){var T=E[M];" "===T&&i!==n-1&&h===Le&&(m+=(u-2*r-C)/_),this._partialTextX=m,this._partialTextY=v+y,this._partialText=T,t.fillStrokeShape(this),m+=this.measureSize(T).width+c}}else this._partialTextX=m,this._partialTextY=v+y,this._partialText=x,t.fillStrokeShape(this);t.restore(),n>1&&(v+=o)}}}_hitFunc(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=g._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===Oe||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Oe||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return g.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,n=$e(),i=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:i}}_getContextFont(){return this.fontStyle()+Re+this.fontVariant()+Re+(this.fontSize()+"px ")+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){this.align()===Le&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})}_getTextWidth(t){var e=this.letterSpacing(),n=t.length;return $e().measureText(t).width+(n?e*(n-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,i=this.lineHeight()*e,r=this.attrs.width,a=this.attrs.height,o=r!==Oe&&void 0!==r,s=a!==Oe&&void 0!==a,l=this.padding(),h=r-2*l,u=a-2*l,c=0,d=this.wrap(),f="none"!==d,p="char"!==d&&f,g=this.ellipsis();this.textArr=[],$e().font=this._getContextFont();for(var v=g?this._getTextWidth("…"):0,m=0,y=t.length;m<y;++m){var _=t[m],b=this._getTextWidth(_);if(o&&b>h)for(;_.length>0;){for(var w=0,k=_.length,x="",C=0;w<k;){var S=w+k>>>1,E=_.slice(0,S+1),M=this._getTextWidth(E)+v;M<=h?(w=S+1,x=E,C=M):k=S}if(!x)break;if(p){var T,O=_[x.length];(T=(O===Re||"-"===O)&&C<=h?x.length:Math.max(x.lastIndexOf(Re),x.lastIndexOf("-"))+1)>0&&(w=T,x=x.slice(0,w),C=this._getTextWidth(x))}if(x=x.trimRight(),this._addTextLine(x),n=Math.max(n,C),c+=i,!f||s&&c+i>u){var L=this.textArr[this.textArr.length-1];L&&g&&(this._getTextWidth(L.text+"…")<h||(L.text=L.text.slice(0,L.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(L.text+"…"));break}if((_=(_=_.slice(w)).trimLeft()).length>0&&(b=this._getTextWidth(_))<=h){this._addTextLine(_),c+=i,n=Math.max(n,b);break}}else this._addTextLine(_),c+=i,n=Math.max(n,b);if(s&&c+i>u)break}this.textHeight=e,this.textWidth=n}getStrokeScaleEnabled(){return!0}}je.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},je.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},je.prototype.className="Text",je.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],o(je),E.overWriteSetter(je,"width",b()),E.overWriteSetter(je,"height",b()),E.addGetterSetter(je,"fontFamily","Arial"),E.addGetterSetter(je,"fontSize",12,y()),E.addGetterSetter(je,"fontStyle",De),E.addGetterSetter(je,"fontVariant",De),E.addGetterSetter(je,"padding",0,y()),E.addGetterSetter(je,"align",Ae),E.addGetterSetter(je,"verticalAlign","top"),E.addGetterSetter(je,"lineHeight",1,y()),E.addGetterSetter(je,"wrap","word"),E.addGetterSetter(je,"ellipsis",!1,x()),E.addGetterSetter(je,"letterSpacing",0,y()),E.addGetterSetter(je,"text","",w()),E.addGetterSetter(je,"textDecoration","");var Fe="normal";function We(t){t.fillText(this.partialText,0,0)}function Ne(t){t.strokeText(this.partialText,0,0)}class He extends Gt{constructor(t){super(t),this.dummyCanvas=g.createCanvasElement(),this.dataArray=[],this.dataArray=le.parsePathData(this.attrs.data),this.on("dataChange.konva",(function(){this.dataArray=le.parsePathData(this.attrs.data),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),i=this.fontSize(),r=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<r.length;a++){t.save();var o=r[a].p0;t.translate(o.x,o.y),t.rotate(r[a].rotation),this.partialText=r[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=i/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var i=0;i<e.length;i++){var r=e[i].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return g.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return je.prototype.setText.call(this,t)}_getContextFont(){return je.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),i=this.align(),r=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var o=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(o+=t.dataArray[s].pathLength);var l=0;"center"===i&&(l=Math.max(0,o/2-a/2)),"right"===i&&(l=Math.max(0,o-a));for(var h,u,c,d=Me(this.text()),f=this.text().split(" ").length-1,p=-1,g=0,v=function(){g=0;for(var e=t.dataArray,n=p+1;n<e.length;n++){if(e[n].pathLength>0)return p=n,e[n];"M"===e[n].command&&(h={x:e[n].points[0],y:e[n].points[1]})}return{}},m=function(e){var r=t._getTextSize(e).width+n;" "===e&&"justify"===i&&(r+=(o-a)/f);var s=0,l=0;for(u=void 0;Math.abs(r-s)/r>.01&&l<20;){l++;for(var d=s;void 0===c;)(c=v())&&d+c.pathLength<r&&(d+=c.pathLength,c=void 0);if(c==={}||void 0===h)return;var p=!1;switch(c.command){case"L":le.getLineLength(h.x,h.y,c.points[0],c.points[1])>r?u=le.getPointOnLine(r,h.x,h.y,c.points[0],c.points[1],h.x,h.y):c=void 0;break;case"A":var m=c.points[4],y=c.points[5],_=c.points[4]+y;0===g?g=m+1e-8:r>s?g+=Math.PI/180*y/Math.abs(y):g-=Math.PI/360*y/Math.abs(y),(y<0&&g<_||y>=0&&g>_)&&(g=_,p=!0),u=le.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,c.points[6]);break;case"C":0===g?g=r>c.pathLength?1e-8:r/c.pathLength:r>s?g+=(r-s)/c.pathLength/2:g=Math.max(g-(s-r)/c.pathLength/2,0),g>1&&(g=1,p=!0),u=le.getPointOnCubicBezier(g,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);break;case"Q":0===g?g=r/c.pathLength:r>s?g+=(r-s)/c.pathLength:g-=(s-r)/c.pathLength,g>1&&(g=1,p=!0),u=le.getPointOnQuadraticBezier(g,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3])}void 0!==u&&(s=le.getLineLength(h.x,h.y,u.x,u.y)),p&&(p=!1,c=void 0)}},y=l/(t._getTextSize("C").width+n)-1,_=0;_<y&&(m("C"),void 0!==h&&void 0!==u);_++)h=u;for(var b=0;b<d.length&&(m(d[b]),void 0!==h&&void 0!==u);b++){var w=le.getLineLength(h.x,h.y,u.x,u.y),k=0;if(r)try{k=r(d[b-1],d[b])*this.fontSize()}catch(t){k=0}h.x+=k,u.x+=k,this.textWidth+=k;var x=le.getPointOnLine(k+w/2,h.x,h.y,u.x,u.y),C=Math.atan2(u.y-h.y,u.x-h.x);this.glyphInfo.push({transposeX:x.x,transposeY:x.y,text:d[b],rotation:C,p0:h,p1:u}),h=u}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,i=t[0]||0,r=t[0]||0,a=t[1]||0,o=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),a=Math.min(a,n),o=Math.max(o,n);var l=this.fontSize();return{x:i-l/2,y:a-l/2,width:r-i+l,height:o-a+l}}}He.prototype._fillFunc=We,He.prototype._strokeFunc=Ne,He.prototype._fillFuncHit=We,He.prototype._strokeFuncHit=Ne,He.prototype.className="TextPath",He.prototype._attrsAffectingSize=["text","fontSize","data"],o(He),E.addGetterSetter(He,"data"),E.addGetterSetter(He,"fontFamily","Arial"),E.addGetterSetter(He,"fontSize",12,y()),E.addGetterSetter(He,"fontStyle",Fe),E.addGetterSetter(He,"align","left"),E.addGetterSetter(He,"letterSpacing",0,y()),E.addGetterSetter(He,"textBaseline","middle"),E.addGetterSetter(He,"fontVariant",Fe),E.addGetterSetter(He,"text",""),E.addGetterSetter(He,"textDecoration",null),E.addGetterSetter(He,"kerningFunc",null);var Ge=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+".tr-konva")).join(" "),ze="nodesRect",qe=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((t=>t+".tr-konva")).join(" "),Ye={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const Xe="ontouchstart"in a._global;var Ve=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Ue(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:i,y:r})}class Ke extends Vt{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Ge,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return g.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}setNodes(t=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=t._attrsAffectingSize.map((t=>t+"Change.tr-konva")).join(" "),n=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()};t.on(e,n),t.on(qe,n),t.on("absoluteTransformChange.tr-konva",n),t.on("xChange.tr-konva yChange.tr-konva",n),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on("dragstart.tr-konva",(n=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(n,!1)})),t.on("dragmove.tr-konva",(n=>{if(!e)return;const i=t.getAbsolutePosition(),r=i.x-e.x,a=i.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const i=e.getAbsolutePosition();e.setAbsolutePosition({x:i.x+r,y:i.y+a}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off(".tr-konva")})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(ze),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(ze,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){var i=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),s=i.x*r.x-t.offsetX()*r.x,l=i.y*r.y-t.offsetY()*r.y;const h=(a.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return Ue({x:o.x+s*Math.cos(h)+l*Math.sin(-h),y:o.y+l*Math.cos(h)+s*Math.sin(h),width:i.width*r.x,height:i.height*r.y,rotation:h},-a.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var i=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],r=e.getAbsoluteTransform();i.forEach((function(e){var n=r.point(e);t.push(n)}))}));const e=new s;var n,i,r,o;e.rotate(-a.getAngle(this.rotation())),t.forEach((function(t){var a=e.point(t);void 0===n&&(n=r=a.x,i=o=a.y),n=Math.min(n,a.x),i=Math.min(i,a.y),r=Math.max(r,a.x),o=Math.max(o,a.y)})),e.invert();const l=e.point({x:n,y:i});return{x:l.x,y:l.y,width:r-n,height:o-i,rotation:a.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Ve.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new we({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Xe?10:"auto"}),n=this;e.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var n=a.getAngle(this.rotation()),i=function(t,e){if("rotater"===t)return"crosshair";e+=g.degToRad(Ye[t]||0);var n=(g.radToDeg(e)%360+360)%360;return g._inRange(n,337.5,360)||g._inRange(n,0,22.5)?"ns-resize":g._inRange(n,22.5,67.5)?"nesw-resize":g._inRange(n,67.5,112.5)?"ew-resize":g._inRange(n,112.5,157.5)?"nwse-resize":g._inRange(n,157.5,202.5)?"ns-resize":g._inRange(n,202.5,247.5)?"nesw-resize":g._inRange(n,247.5,292.5)?"ew-resize":g._inRange(n,292.5,337.5)?"nwse-resize":(g.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,n);e.getStage().content&&(e.getStage().content.style.cursor=i),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new Gt({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*g._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,i=e.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/r),this.cos=Math.abs(n/r),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t,target:e})}))}_handleMouseMove(t){var e,n,i,r=this.findOne("."+this._movingAnchorName),o=r.getStage();o.setPointersPositions(t);const s=o.getPointerPosition();var l={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const h=r.getAbsolutePosition();r.setAbsolutePosition(l);const u=r.getAbsolutePosition();if(h.x!==u.x||h.y!==u.y)if("rotater"!==this._movingAnchorName){var c=this.keepRatio()||t.shiftKey,d=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(c){var f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(f.x-r.x(),2)+Math.pow(f.y-r.y(),2));var p=this.findOne(".top-left").x()>f.x?-1:1,g=this.findOne(".top-left").y()>f.y?-1:1;e=i*this.cos*p,n=i*this.sin*g,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(r.y());else if("top-right"===this._movingAnchorName){c&&(f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},i=Math.sqrt(Math.pow(r.x()-f.x,2)+Math.pow(f.y-r.y(),2)),p=this.findOne(".top-right").x()<f.x?-1:1,g=this.findOne(".top-right").y()>f.y?-1:1,e=i*this.cos*p,n=i*this.sin*g,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n));var v=r.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(r.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(r.x()):"bottom-left"===this._movingAnchorName?(c&&(f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},i=Math.sqrt(Math.pow(f.x-r.x(),2)+Math.pow(r.y()-f.y,2)),p=f.x<r.x()?-1:1,g=r.y()<f.y?-1:1,e=i*this.cos*p,n=i*this.sin*g,r.x(f.x-e),r.y(f.y+n)),v=r.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(r.y()):"bottom-right"===this._movingAnchorName?c&&(f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},i=Math.sqrt(Math.pow(r.x()-f.x,2)+Math.pow(r.y()-f.y,2)),p=this.findOne(".bottom-right").x()<f.x?-1:1,g=this.findOne(".bottom-right").y()<f.y?-1:1,e=i*this.cos*p,n=i*this.sin*g,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||t.altKey){var m=this.findOne(".top-left"),y=this.findOne(".bottom-right"),_=m.x(),b=m.y(),w=this.getWidth()-y.x(),k=this.getHeight()-y.y();y.move({x:-_,y:-b}),m.move({x:w,y:k})}var x=this.findOne(".top-left").getAbsolutePosition();e=x.x,n=x.y;var C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),S=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:C,height:S,rotation:a.getAngle(this.rotation())},t)}else{var E=this._getNodeRect();e=r.x()-E.width/2,n=-r.y()+E.height/2;let i=Math.atan2(-n,e)+Math.PI/2;E.height<0&&(i-=Math.PI);const o=a.getAngle(this.rotation())+i,s=a.getAngle(this.rotationSnapTolerance()),l=function(t,e){return Ue(t,e,function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t))}(E,function(t,e,n){let i=e;for(let r=0;r<t.length;r++){const o=a.getAngle(t[r]),s=Math.abs(o-e)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(i=o)}return i}(this.rotationSnaps(),o,s)-E.rotation);this._fitNodesInto(l,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var n=this._getNodeRect();if(g._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(g._inRange(t.height,2*-this.padding()-1,1))return void this.update();const i=this.flipEnabled();var r=new s;if(r.rotate(a.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=r.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!i)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=r.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!i)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=r.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!i)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=r.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!i)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(n,t);e?t=e:g.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new s;l.translate(n.x,n.y),l.rotate(n.rotation),l.scale(n.width/o,n.height/o);const h=new s;h.translate(t.x,t.y),h.rotate(t.rotation),h.scale(t.width/o,t.height/o);const u=h.multiply(l.invert());this._nodes.forEach((t=>{var n;const i=t.getParent().getAbsoluteTransform(),r=t.getTransform().copy();r.translate(t.offsetX(),t.offsetY());const a=new s;a.multiply(i.copy().invert()).multiply(u).multiply(i).multiply(r);const o=a.decompose();t.setAttrs(o),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this.rotation(g._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(g._getRotation(e.rotation));var n=e.width,i=e.height,r=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),s=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+o,offsetY:s/2+o,visible:a&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+o,visible:a&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-o,offsetY:s/2+o,visible:a&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:s/2+o,visible:a&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:s/2-o,visible:a&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:s/2+o,offsetY:s/2-o,visible:a&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:s/2-o,visible:a&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:s/2-o,offsetY:s/2-o,visible:a&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*g._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Vt.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return J.prototype.toObject.call(this)}}Ke.prototype.className="Transformer",o(Ke),E.addGetterSetter(Ke,"enabledAnchors",Ve,(function(t){return t instanceof Array||g.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===Ve.indexOf(t)&&g.warn("Unknown anchor name: "+t+". Available names are: "+Ve.join(", "))})),t||[]})),E.addGetterSetter(Ke,"flipEnabled",!0,x()),E.addGetterSetter(Ke,"resizeEnabled",!0),E.addGetterSetter(Ke,"anchorSize",10,y()),E.addGetterSetter(Ke,"rotateEnabled",!0),E.addGetterSetter(Ke,"rotationSnaps",[]),E.addGetterSetter(Ke,"rotateAnchorOffset",50,y()),E.addGetterSetter(Ke,"rotationSnapTolerance",5,y()),E.addGetterSetter(Ke,"borderEnabled",!0),E.addGetterSetter(Ke,"anchorStroke","rgb(0, 161, 255)"),E.addGetterSetter(Ke,"anchorStrokeWidth",1,y()),E.addGetterSetter(Ke,"anchorFill","white"),E.addGetterSetter(Ke,"anchorCornerRadius",0,y()),E.addGetterSetter(Ke,"borderStroke","rgb(0, 161, 255)"),E.addGetterSetter(Ke,"borderStrokeWidth",1,y()),E.addGetterSetter(Ke,"borderDash"),E.addGetterSetter(Ke,"keepRatio",!0),E.addGetterSetter(Ke,"centeredScaling",!1),E.addGetterSetter(Ke,"ignoreStroke",!1),E.addGetterSetter(Ke,"padding",0,y()),E.addGetterSetter(Ke,"node"),E.addGetterSetter(Ke,"nodes"),E.addGetterSetter(Ke,"boundBoxFunc"),E.addGetterSetter(Ke,"shouldOverdrawWholeArea",!1),E.addGetterSetter(Ke,"useSingleNodeRotation",!0),E.backCompat(Ke,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Qe extends Gt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,a.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}function Je(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Qe.prototype.className="Wedge",Qe.prototype._centroid=!0,Qe.prototype._attrsAffectingSize=["radius"],o(Qe),E.addGetterSetter(Qe,"radius",0,y()),E.addGetterSetter(Qe,"angle",0,y()),E.addGetterSetter(Qe,"clockwise",!1),E.backCompat(Qe,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Ze=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],tn=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function en(t,e,n,i,r){var a=n-e,o=r-i;return 0===a?i+o/2:0===o?i:o*((t-e)/a)+i}function nn(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function rn(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}E.addGetterSetter(J,"blurRadius",0,y(),E.afterSetFilter),E.addGetterSetter(J,"brightness",0,y(),E.afterSetFilter),E.addGetterSetter(J,"contrast",0,y(),E.afterSetFilter),E.addGetterSetter(J,"embossStrength",.5,y(),E.afterSetFilter),E.addGetterSetter(J,"embossWhiteLevel",.5,y(),E.afterSetFilter),E.addGetterSetter(J,"embossDirection","top-left",null,E.afterSetFilter),E.addGetterSetter(J,"embossBlend",!1,null,E.afterSetFilter),E.addGetterSetter(J,"enhance",0,y(),E.afterSetFilter),E.addGetterSetter(J,"hue",0,y(),E.afterSetFilter),E.addGetterSetter(J,"saturation",0,y(),E.afterSetFilter),E.addGetterSetter(J,"luminance",0,y(),E.afterSetFilter),E.addGetterSetter(J,"hue",0,y(),E.afterSetFilter),E.addGetterSetter(J,"saturation",0,y(),E.afterSetFilter),E.addGetterSetter(J,"value",0,y(),E.afterSetFilter),E.addGetterSetter(J,"kaleidoscopePower",2,y(),E.afterSetFilter),E.addGetterSetter(J,"kaleidoscopeAngle",0,y(),E.afterSetFilter),E.addGetterSetter(J,"threshold",0,y(),E.afterSetFilter),E.addGetterSetter(J,"noise",.2,y(),E.afterSetFilter),E.addGetterSetter(J,"pixelSize",8,y(),E.afterSetFilter),E.addGetterSetter(J,"levels",.5,y(),E.afterSetFilter),E.addGetterSetter(J,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),E.addGetterSetter(J,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),E.addGetterSetter(J,"blue",0,m,E.afterSetFilter),E.addGetterSetter(J,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),E.addGetterSetter(J,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),E.addGetterSetter(J,"blue",0,m,E.afterSetFilter),E.addGetterSetter(J,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})),E.addGetterSetter(J,"threshold",.5,y(),E.afterSetFilter);const an=ie.Util._assign(ie,{Arc:re,Arrow:he,Circle:ue,Ellipse:ce,Image:de,Label:_e,Tag:be,Line:se,Path:le,Rect:we,RegularPolygon:ke,Ring:Ce,Sprite:Se,Star:Ee,Text:je,TextPath:He,Transformer:Ke,Wedge:Qe,Filters:{Blur:function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,i,r,a,o,s,l,h,u,c,d,f,p,g,v,m,y,_,b,w,k,x,C,S,E=t.data,M=t.width,T=t.height,O=e+e+1,L=M-1,A=T-1,P=e+1,D=P*(P+1)/2,R=new Je,I=null,B=R,$=null,j=null,F=Ze[e],W=tn[e];for(r=1;r<O;r++)B=B.next=new Je,r===P&&(I=B);for(B.next=R,l=s=0,i=0;i<T;i++){for(m=y=_=b=h=u=c=d=0,f=P*(w=E[s]),p=P*(k=E[s+1]),g=P*(x=E[s+2]),v=P*(C=E[s+3]),h+=D*w,u+=D*k,c+=D*x,d+=D*C,B=R,r=0;r<P;r++)B.r=w,B.g=k,B.b=x,B.a=C,B=B.next;for(r=1;r<P;r++)a=s+((L<r?L:r)<<2),h+=(B.r=w=E[a])*(S=P-r),u+=(B.g=k=E[a+1])*S,c+=(B.b=x=E[a+2])*S,d+=(B.a=C=E[a+3])*S,m+=w,y+=k,_+=x,b+=C,B=B.next;for($=R,j=I,n=0;n<M;n++)E[s+3]=C=d*F>>W,0!==C?(C=255/C,E[s]=(h*F>>W)*C,E[s+1]=(u*F>>W)*C,E[s+2]=(c*F>>W)*C):E[s]=E[s+1]=E[s+2]=0,h-=f,u-=p,c-=g,d-=v,f-=$.r,p-=$.g,g-=$.b,v-=$.a,a=l+((a=n+e+1)<L?a:L)<<2,h+=m+=$.r=E[a],u+=y+=$.g=E[a+1],c+=_+=$.b=E[a+2],d+=b+=$.a=E[a+3],$=$.next,f+=w=j.r,p+=k=j.g,g+=x=j.b,v+=C=j.a,m-=w,y-=k,_-=x,b-=C,j=j.next,s+=4;l+=M}for(n=0;n<M;n++){for(y=_=b=m=u=c=d=h=0,f=P*(w=E[s=n<<2]),p=P*(k=E[s+1]),g=P*(x=E[s+2]),v=P*(C=E[s+3]),h+=D*w,u+=D*k,c+=D*x,d+=D*C,B=R,r=0;r<P;r++)B.r=w,B.g=k,B.b=x,B.a=C,B=B.next;for(o=M,r=1;r<=e;r++)s=o+n<<2,h+=(B.r=w=E[s])*(S=P-r),u+=(B.g=k=E[s+1])*S,c+=(B.b=x=E[s+2])*S,d+=(B.a=C=E[s+3])*S,m+=w,y+=k,_+=x,b+=C,B=B.next,r<A&&(o+=M);for(s=n,$=R,j=I,i=0;i<T;i++)E[3+(a=s<<2)]=C=d*F>>W,C>0?(C=255/C,E[a]=(h*F>>W)*C,E[a+1]=(u*F>>W)*C,E[a+2]=(c*F>>W)*C):E[a]=E[a+1]=E[a+2]=0,h-=f,u-=p,c-=g,d-=v,f-=$.r,p-=$.g,g-=$.b,v-=$.a,a=n+((a=i+P)<A?a:A)*M<<2,h+=m+=$.r=E[a],u+=y+=$.g=E[a+1],c+=_+=$.b=E[a+2],d+=b+=$.a=E[a+3],$=$.next,f+=w=j.r,p+=k=j.g,g+=x=j.b,v+=C=j.a,m-=w,y-=k,_-=x,b-=C,j=j.next,s+=M}}(t,e)},Brighten:function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},Contrast:function(t){var e,n=Math.pow((this.contrast()+100)/100,2),i=t.data,r=i.length,a=150,o=150,s=150;for(e=0;e<r;e+=4)a=i[e],o=i[e+1],s=i[e+2],a/=255,a-=.5,a*=n,a+=.5,o/=255,o-=.5,o*=n,o+=.5,s/=255,s-=.5,s*=n,s+=.5,a=(a*=255)<0?0:a>255?255:a,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,i[e]=a,i[e+1]=o,i[e+2]=s},Emboss:function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),a=0,o=0,s=t.data,l=t.width,h=t.height,u=4*l,c=h;switch(i){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:g.error("Unknown emboss direction: "+i)}do{var d=(c-1)*u,f=a;c+f<1&&(f=0),c+f>h&&(f=0);var p=(c-1+f)*l*4,v=l;do{var m=d+4*(v-1),y=o;v+y<1&&(y=0),v+y>l&&(y=0);var _=p+4*(v-1+y),b=s[m]-s[_],w=s[m+1]-s[_+1],k=s[m+2]-s[_+2],x=b,C=x>0?x:-x;if((w>0?w:-w)>C&&(x=w),(k>0?k:-k)>C&&(x=k),x*=e,r){var S=s[m]+x,E=s[m+1]+x,M=s[m+2]+x;s[m]=S>255?255:S<0?0:S,s[m+1]=E>255?255:E<0?0:E,s[m+2]=M>255?255:M<0?0:M}else{var T=n-x;T<0?T=0:T>255&&(T=255),s[m]=s[m+1]=s[m+2]=T}}while(--v)}while(--c)},Enhance:function(t){var e,n,i,r,a=t.data,o=a.length,s=a[0],l=s,h=a[1],u=h,c=a[2],d=c,f=this.enhance();if(0!==f){for(r=0;r<o;r+=4)(e=a[r+0])<s?s=e:e>l&&(l=e),(n=a[r+1])<h?h=n:n>u&&(u=n),(i=a[r+2])<c?c=i:i>d&&(d=i);var p,g,v,m,y,_,b,w,k;for(l===s&&(l=255,s=0),u===h&&(u=255,h=0),d===c&&(d=255,c=0),f>0?(g=l+f*(255-l),v=s-f*(s-0),y=u+f*(255-u),_=h-f*(h-0),w=d+f*(255-d),k=c-f*(c-0)):(g=l+f*(l-(p=.5*(l+s))),v=s+f*(s-p),y=u+f*(u-(m=.5*(u+h))),_=h+f*(h-m),w=d+f*(d-(b=.5*(d+c))),k=c+f*(c-b)),r=0;r<o;r+=4)a[r+0]=en(a[r+0],s,l,v,g),a[r+1]=en(a[r+1],h,u,_,y),a[r+2]=en(a[r+2],c,d,k,w)}},Grayscale:function(t){var e,n,i=t.data,r=i.length;for(e=0;e<r;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n},HSL:function(t){var e,n,i,r,a,o=t.data,s=o.length,l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,u=127*this.luminance(),c=1*l*Math.cos(h*Math.PI/180),d=1*l*Math.sin(h*Math.PI/180),f=.299+.701*c+.167*d,p=.587-.587*c+.33*d,g=.114-.114*c-.497*d,v=.299-.299*c-.328*d,m=.587+.413*c+.035*d,y=.114-.114*c+.293*d,_=.299-.3*c+1.25*d,b=.587-.586*c-1.05*d,w=.114+.886*c-.2*d;for(e=0;e<s;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=f*n+p*i+g*r+u,o[e+1]=v*n+m*i+y*r+u,o[e+2]=_*n+b*i+w*r+u,o[e+3]=a},HSV:function(t){var e,n,i,r,a,o=t.data,s=o.length,l=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=l*h*Math.cos(u*Math.PI/180),d=l*h*Math.sin(u*Math.PI/180),f=.299*l+.701*c+.167*d,p=.587*l-.587*c+.33*d,g=.114*l-.114*c-.497*d,v=.299*l-.299*c-.328*d,m=.587*l+.413*c+.035*d,y=.114*l-.114*c+.293*d,_=.299*l-.3*c+1.25*d,b=.587*l-.586*c-1.05*d,w=.114*l+.886*c-.2*d;for(e=0;e<s;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=f*n+p*i+g*r,o[e+1]=v*n+m*i+y*r,o[e+2]=_*n+b*i+w*r,o[e+3]=a},Invert:function(t){var e,n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},Kaleidoscope:function(t){var e,n,i,r,a,o,s,l,h,u=t.width,c=t.height,d=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),p=Math.floor(u*(f%360)/360);if(!(d<1)){var v=g.createCanvasElement();v.width=u,v.height=c;var m=v.getContext("2d").getImageData(0,0,u,c);!function(t,e,n){var i,r,a,o,s=t.data,l=e.data,h=t.width,u=t.height,c=n.polarCenterX||h/2,d=n.polarCenterY||u/2,f=0,p=0,g=0,v=0,m=Math.sqrt(c*c+d*d);r=h-c,a=u-d,m=(o=Math.sqrt(r*r+a*a))>m?o:m;var y,_,b,w,k=u,x=h,C=360/x*Math.PI/180;for(_=0;_<x;_+=1)for(b=Math.sin(_*C),w=Math.cos(_*C),y=0;y<k;y+=1)r=Math.floor(c+m*y/k*w),f=s[0+(i=4*((a=Math.floor(d+m*y/k*b))*h+r))],p=s[i+1],g=s[i+2],v=s[i+3],l[0+(i=4*(_+y*h))]=f,l[i+1]=p,l[i+2]=g,l[i+3]=v}(t,m,{polarCenterX:u/2,polarCenterY:c/2});for(var y=u/Math.pow(2,d);y<=8;)y*=2,d-=1;var _=y=Math.ceil(y),b=0,w=_,k=1;for(p+y>u&&(b=_,w=0,k=-1),n=0;n<c;n+=1)for(e=b;e!==w;e+=k)l=4*(u*n+Math.round(e+p)%u),r=m.data[l+0],a=m.data[l+1],o=m.data[l+2],s=m.data[l+3],h=4*(u*n+e),m.data[h+0]=r,m.data[h+1]=a,m.data[h+2]=o,m.data[h+3]=s;for(n=0;n<c;n+=1)for(_=Math.floor(y),i=0;i<d;i+=1){for(e=0;e<_+1;e+=1)l=4*(u*n+e),r=m.data[l+0],a=m.data[l+1],o=m.data[l+2],s=m.data[l+3],h=4*(u*n+2*_-e-1),m.data[h+0]=r,m.data[h+1]=a,m.data[h+2]=o,m.data[h+3]=s;_*=2}!function(t,e,n){var i,r,a,o,s,l,h=t.data,u=e.data,c=t.width,d=t.height,f=n.polarCenterX||c/2,p=n.polarCenterY||d/2,g=0,v=0,m=0,y=0,_=Math.sqrt(f*f+p*p);r=c-f,a=d-p,_=(l=Math.sqrt(r*r+a*a))>_?l:_;var b,w,k,x=d,C=c,S=n.polarRotation||0;for(r=0;r<c;r+=1)for(a=0;a<d;a+=1)o=r-f,s=a-p,b=Math.sqrt(o*o+s*s)*x/_,w=(w=(180*Math.atan2(s,o)/Math.PI+360+S)%360)*C/360,k=Math.floor(w),g=h[0+(i=4*(Math.floor(b)*c+k))],v=h[i+1],m=h[i+2],y=h[i+3],u[0+(i=4*(a*c+r))]=g,u[i+1]=v,u[i+2]=m,u[i+3]=y}(m,t,{polarRotation:0})}},Mask:function(t){var e=function(t,e){var n=nn(t,0,0),i=nn(t,t.width-1,0),r=nn(t,0,t.height-1),a=nn(t,t.width-1,t.height-1),o=e||10;if(rn(n,i)<o&&rn(i,a)<o&&rn(a,r)<o&&rn(r,n)<o){for(var s=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([i,n,a,r]),l=[],h=0;h<t.width*t.height;h++){var u=rn(s,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=u<o?0:255}return l}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,u=0,c=0;c<r;c++)for(var d=0;d<r;d++){var f=s+c-a,p=l+d-a;if(f>=0&&f<n&&p>=0&&p<e){var g=i[c*r+d];u+=t[f*e+p]*g}}o[h]=u}return o}(e=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,u=0,c=0;c<r;c++)for(var d=0;d<r;d++){var f=s+c-a,p=l+d-a;if(f>=0&&f<n&&p>=0&&p<e){var g=i[c*r+d];u+=t[f*e+p]*g}}o[h]=u>=1020?255:0}return o}(e=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,u=0,c=0;c<r;c++)for(var d=0;d<r;d++){var f=s+c-a,p=l+d-a;if(f>=0&&f<n&&p>=0&&p<e){var g=i[c*r+d];u+=t[f*e+p]*g}}o[h]=2040===u?255:0}return o}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},Noise:function(t){var e,n=255*this.noise(),i=t.data,r=i.length,a=n/2;for(e=0;e<r;e+=4)i[e+0]+=a-2*a*Math.random(),i[e+1]+=a-2*a*Math.random(),i[e+2]+=a-2*a*Math.random()},Pixelate:function(t){var e,n,i,r,a,o,s,l,h,u,c,d,f,p,v=Math.ceil(this.pixelSize()),m=t.width,y=t.height,_=Math.ceil(m/v),b=Math.ceil(y/v),w=t.data;if(v<=0)g.error("pixelSize value can not be <= 0");else for(d=0;d<_;d+=1)for(f=0;f<b;f+=1){for(r=0,a=0,o=0,s=0,h=(l=d*v)+v,c=(u=f*v)+v,p=0,e=l;e<h;e+=1)if(!(e>=m))for(n=u;n<c;n+=1)n>=y||(r+=w[0+(i=4*(m*n+e))],a+=w[i+1],o+=w[i+2],s+=w[i+3],p+=1);for(r/=p,a/=p,o/=p,s/=p,e=l;e<h;e+=1)if(!(e>=m))for(n=u;n<c;n+=1)n>=y||(w[0+(i=4*(m*n+e))]=r,w[i+1]=a,w[i+2]=o,w[i+3]=s)}},Posterize:function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,a=255/n;for(e=0;e<r;e+=1)i[e]=Math.floor(i[e]/a)*a},RGB:function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue();for(e=0;e<r;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*a,i[e+1]=n*o,i[e+2]=n*s,i[e+3]=i[e+3]},RGBA:function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<r;e+=4)n=1-l,i[e]=a*l+i[e]*n,i[e+1]=o*l+i[e+1]*n,i[e+2]=s*l+i[e+2]*n},Sepia:function(t){var e,n,i,r,a=t.data,o=a.length;for(e=0;e<o;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],a[e+0]=Math.min(255,.393*n+.769*i+.189*r),a[e+1]=Math.min(255,.349*n+.686*i+.168*r),a[e+2]=Math.min(255,.272*n+.534*i+.131*r)},Solarize:function(t){var e=t.data,n=t.width,i=4*n,r=t.height;do{var a=(r-1)*i,o=n;do{var s=a+4*(o-1),l=e[s],h=e[s+1],u=e[s+2];l>127&&(l=255-l),h>127&&(h=255-h),u>127&&(u=255-u),e[s]=l,e[s+1]=h,e[s+2]=u}while(--o)}while(--r)},Threshold:function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;e<r;e+=1)i[e]=i[e]<n?0:255}}})}}]);